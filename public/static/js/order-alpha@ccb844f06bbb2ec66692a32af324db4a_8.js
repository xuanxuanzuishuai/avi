(function(e) {
    var t = { id: "4f70ed89840d4d3832c79413c640739e", filename: "DateUtil.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function(e) {
            var t = { oneday: 24 * 60 * 60 * 1e3, today: function() {
                    var e = new Date;
                    return new Date(e.getFullYear(), e.getMonth(), e.getDate()) }, format: function(e) {
                    if (!!e) {
                        var n = t.toArr(e);
                        return n.join("-") } }, toArr: function(e) {
                    var t = e.getFullYear();
                    var n = e.getMonth() + 1;
                    if (n < 10) { n = "0" + n }
                    var r = e.getDate();
                    if (r < 10) { r = "0" + r }
                    return [t, n, r] }, addDay: function(e, n) {
                    return new Date(e.getTime() + t.oneday * n) }, getFirstByMonth: function(e) {
                    return new Date(e.getFullYear(), e.getMonth(), 1) }, getLastByMonth: function(e) {
                    var n = new Date(e.getFullYear(), e.getMonth() + 1, 1);
                    return t.addDay(n, -1) }, parse: function(e) {
                    if (e instanceof Date) {
                        return e } else if (/^\d+$/.test(e)) {
                        return new Date(parseInt(e, 10)) } else {
                        return new Date(Date.parse(e.replace(/-/g, "/"))) } }, formatyymmddhhmmss: function(e) {
                    if (!!e) {
                        if (/^\d+$/.test(e)) { e = new Date(parseInt(e, 10)) } else if (typeof e == "string") { e = new Date(Date.parse(e.replace(/-/g, "/"))) }
                        var t = this.format(e);
                        t += " " + e.getHours() + ":" + e.getMinutes() + ":" + e.getSeconds();
                        return t } } };
            e.DateUtil = t })(window) }(t.exports, t, e);
    e.____MODULES["4f70ed89840d4d3832c79413c640739e"] = t.exports })(this);
(function(e) {
    var t = { id: "5f2d93edd6feb76c648e0a993cdde84c", filename: "holidays.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        var r = { "2000-01-01": { type: "work", holidayName: "班" }, "2015-01-01": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "元旦", holidayClass: "yuandan" }, "2015-02-19": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "春节", holidayClass: "chunjie" }, "2015-03-05": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "元宵节", holidayClass: "yuanxiao" }, "2015-04-05": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "清明节", holidayClass: "qingming" }, "2015-05-01": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "劳动节", holidayClass: "laodong" }, "2015-06-01": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "儿童节", holidayClass: "ertong" }, "2015-06-20": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "端午节", holidayClass: "duanwu" }, "2015-08-20": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "七夕节", holidayClass: "qixi" }, "2015-09-03": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "胜利日", holidayClass: "shengli" }, "2015-09-10": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "教师节", holidayClass: "jiaoshi" }, "2015-09-27": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "中秋节", holidayClass: "zhongqiu" }, "2015-10-01": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "国庆节", holidayClass: "guoqing" }, "2015-10-21": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "重阳节", holidayClass: "chongyang" }, "2015-12-25": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "圣诞节", holidayClass: "shengdan" }, "2016-01-01": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "元旦", holidayClass: "yuandan" }, "2016-02-08": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "春节", holidayClass: "chunjie" }, "2016-02-22": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "元宵节", holidayClass: "yuanxiao" }, "2016-04-04": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "清明节", holidayClass: "qingming" }, "2016-05-01": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "劳动节", holidayClass: "laodong" }, "2016-06-01": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "儿童节", holidayClass: "ertong" }, "2015-06-09": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "端午节", holidayClass: "duanwu" }, "2016-08-09": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "七夕节", holidayClass: "qixi" }, "2016-09-03": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "胜利日", holidayClass: "shengli" }, "2016-09-10": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "教师节", holidayClass: "jiaoshi" }, "2016-09-15": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "中秋节", holidayClass: "zhongqiu" }, "2016-10-01": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "国庆节", holidayClass: "guoqing" }, "2016-10-09": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "重阳节", holidayClass: "chongyang" }, "2016-12-25": { type: "holiday", afterTime: 3, beforeTime: 3, dayindex: 0, holidayName: "圣诞节", holidayClass: "shengdan" } };
        t.exports = r }(t.exports, t, e);
    e.____MODULES["5f2d93edd6feb76c648e0a993cdde84c"] = t.exports })(this);
(function(e) {
    var t = { id: "7b340edd4ceaa0a3a7e50d6a000f733e", filename: "jquery.qdatepicker.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["4f70ed89840d4d3832c79413c640739e"];
        (function(t) {
            function f(e, t) { e = e == null ? "" : e + "";
                for (var n = 0, r = t - e.length; n < r; n++) e = "0" + e;
                return e }

            function c(e) {
                var t = e.split("-");
                return new Date(t[0], t[1] - 1, t[2]) }

            function h(e) {
                var t = {};
                for (var n in e) {
                    var r = n;
                    var i = e[n];
                    t[n] = i;
                    var s = "";
                    var u = "";
                    if (i.beforeTime > 0) {
                        for (var a = 1; a <= i.beforeTime; a++) {
                            var f = {};
                            var l = new Date(c(r).getTime() - a * 24 * 3600 * 1e3);
                            var h = p(l);
                            f.holidayName = i.holidayName + o.before + a + o.day;
                            f.dayindex = i.dayindex;
                            if (!t[h]) { t[h] = f } else {
                                if (i.dayindex > t[h].dayindex && t[h].beforeTime == null) { t[h] = f } } } }
                    if (i.afterTime > 0) {
                        for (var a = 1; a <= i.afterTime; a++) {
                            var f = {};
                            var d = new Date(c(r).getTime() + a * 24 * 3600 * 1e3);
                            var v = p(d);
                            f.holidayName = i.holidayName + o.after + a + o.day;
                            f.dayindex = i.dayindex;
                            if (!t[v]) { t[v] = f } else {
                                if (i.dayindex > t[v].dayindex && t[p(new Date(l))].afterTime == null) { t[v] = f } } } } }
                return t }

            function p(e) {
                if (typeof e == "number") { e = new Date(e) }
                return e.getFullYear() + "-" + d(e.getMonth() + 1) + "-" + d(e.getDate()) }

            function d(e) {
                return e < 10 ? "0" + e : e }

            function v(e) { e.setHours(0);
                e.setMinutes(0);
                e.setSeconds(0);
                e.setMilliseconds(0);
                return e }

            function m(e) {
                var t = e.offset();
                t["top"] += e.outerHeight();
                return t }

            function g(e) {
                var r;
                if (e && !e.nodeType) r = jQuery.event.fix(e || window.event).target;
                else r = e;
                if (!r) return null;
                var i = t(r).parents("." + n);
                return i.size() > 0 ? i.eq(0).data(n) : null }

            function y() {}

            function b(e, t) {
                if (!this.init) return new b(e, t);
                else return this.init(e, t) }
            t.qdatepicker = {};
            var n = t.qdatepicker.ROOT_KEY = "q-datepicker";
            var r;
            var i = 0;
            var s = e.____MODULES["5f2d93edd6feb76c648e0a993cdde84c"];
            var o = { week: "周", day: "天", before: "前", after: "后" };
            var u = { LANG: { prev: "", next: "", day_names: ["日", "一", "二", "三", "四", "五", "六"], OUT_OF_RANGE: "超出范围", ERR_FORMAT: "格式错误" }, CLASS: { group: "g", header: "h", calendar: "c", next: "n", prev: "p", title: "t", week: "w", month: "cm_", day_default: "st", day_selected: "st-a", day_othermonth: "st-s", day_today: "st-t", day_hover: "st-h", day_disabled: "st-d", day_round: "st-a-r" }, WEEKDAYS: 7, STARTDAY: 1, showOtherMonths: false, defaultDay: "", customClass: "", customActiveClass: "", multi: 2, showTip: true, canEmpty: false, linkTo: null, linkRules: "", refObj: null, forceCorrect: true, formatTitle: function(e) {
                    return e.getFullYear() + "年" + (e.getMonth() + 1) + "月" }, showOnInit: false, showOnFocus: false, container: null, minDate: null, maxDate: null, ui: null, parseDate: function(e) {
                    var t = e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/);
                    return t ? new Date(t[1], t[2] * 1 - 1, t[3]) : null }, formatDate: function(e) {
                    return e.getFullYear() + "-" + f(e.getMonth() + 1, 2) + "-" + f(e.getDate(), 2) } };
            var a = function() {
                var e = this;
                for (var n = 0, r = arguments.length; n < r; n++) t.each(arguments[n], function(t, n) {
                    var r;
                    if (e.prototype[t] && jQuery.isFunction(e.prototype[t])) r = e.prototype[t];
                    e.prototype[t] = n;
                    if (r) e.prototype[t]["_PARENT_"] = r });
                if (!e.prototype["parent"]) e.prototype["parent"] = function() {
                    return arguments.callee.caller["_PARENT_"].apply(this, arguments) } };
            var l = h(s);
            y.implement = a;
            t.extend(y.prototype, { isUI: 1, init: function() {
                    var e = this,
                        n = this.picker,
                        r = n.ns;
                    e.attachedEl = e.attachedEl || new t;
                    t(document).bind("mouseup." + r, function(t) {
                        var r;
                        if (n.activeEl[0] === t.target && (r = 1) || e.attachedEl.index(t.target) != -1 && (r = 2)) {
                            if (!n.visible()) { n.show(e.getDate()) } else { n.hide() }
                            if (r == 2) n.activeEl.focus();
                            return }
                        var i;
                        if ((i = g(t)) && i.key === n.key) return;
                        else n.hide() });
                    var i = function() {
                        if (!n.get("container")) n.getContainer().css(m(n.activeEl)) };
                    i();
                    t(window).bind("load." + r + " resize." + r, i);
                    n.activeEl.bind("focus." + r, function(t) {
                        if (n.get("showOnFocus")) n.show(e.getDate()) });
                    n.activeEl.bind("keydown." + r, function(t) {
                        switch (t.keyCode) {
                            case 9:
                            case 27:
                                n.hide();
                                break;
                            default:
                                e.onKeyDown(t) } }) }, _init: function(e) { this.picker = e }, select: function(e) { this.picker.activeEl.val(this.picker.args.formatDate(e)) }, change: function(e, t, n) { this.draw(t) }, draw: function(e, n) { this.drawDate = e;
                    v(e);
                    var r = this.picker,
                        n = t.extend({}, r.args, n || {}),
                        i = n.multi,
                        s = n["CLASS"];
                    n.activeDate = n.activeDate || n.parseDate(r.activeEl.val());
                    var o = [];
                    n["count"] = i;
                    var u = new Date(e.getTime());
                    u.setDate(1);
                    o.push('<div class="' + s["group"] + " " + s["group"] + i + '">');
                    for (var a = 0; a < i; a++) { o.push('<div class="' + s["calendar"] + " ", s["month"], u.getMonth() + 1, '">');
                        n["index"] = a;
                        o.push(this._drawTitle(u, n));
                        o.push(this._drawBody(u, n));
                        o.push("</div>");
                        u.setMonth(u.getMonth() + 1) }
                    o.push("</div>");
                    t(o.join("")).appendTo(r.getContainer().empty()) }, dispose: function() {
                    var e = "." + this.picker.ns;
                    t(document).unbind(e);
                    t(window).unbind(e) }, getDate: function() {
                    var e = this.picker.get("parseDate")(this.picker.activeEl.val());
                    return e != e ? null : e }, setDate: function(e) { this.picker.activeEl.val(this.picker.get("formatDate")(e)) }, onBeforeDraw: function(e) {
                    var t = function(e, t) {
                        if (e.getFullYear() > t.getFullYear()) return 1;
                        else if (e.getFullYear() === t.getFullYear()) return (e.getMonth() - t.getMonth()) / (Math.abs(e.getMonth() - t.getMonth()) || 1);
                        else return -1 };
                    if (this.selectedDate && this.drawDate) e.setTime(this.drawDate.getTime());
                    else {
                        var n = this.picker,
                            r = n.get("minDate"),
                            i = n.get("maxDate"),
                            s = n.get("multi");
                        var o = new Date(e.getFullYear(), e.getMonth() + s - 1, 1);
                        if (i && t(o, i) > 0)
                            for (var u = 1; i && s && s > 1 && s - u > 0; u++) { o = new Date(e.getFullYear(), e.getMonth() + s - u - 1, 1);
                                if (t(o, i) <= 0) { o.setMonth(o.getMonth() - s + 1);
                                    break } } else o = null;
                        if (o && (!r || o.getTime() >= r.getTime())) e.setTime(o.getTime()) } }, onKeyDown: function(e) {}, onSet: function() { this.selectedDate = null }, _drawTitle: function(e, t) {
                    var n = t["LANG"],
                        r = t["CLASS"];
                    var i = [];
                    var s = t.minDate,
                        o = t.maxDate;
                    var u = t["index"] === 0;
                    var a = t["count"] === t["index"] + 1;
                    i.push('<div class="' + r["header"] + '">');
                    i.push('<span href="#" class="' + r["next"] + '"', (!o || o.getFullYear() > e.getFullYear() || o.getFullYear() === e.getFullYear() && o.getMonth() > e.getMonth()) && a ? "" : ' style="display:none;"', " onclick=\"QDP.change( event , '+1M' );return false;\">", n["next"], "</span>");
                    i.push('<span href="#" class="' + r["prev"] + '"', (!s || s.getFullYear() < e.getFullYear() || s.getFullYear() === e.getFullYear() && s.getMonth() < e.getMonth()) && u ? "" : ' style="display:none;"', " onclick=\"QDP.change( event , '-1M' );return false;\">", n["prev"], "</span>");
                    i.push('<div class="' + r["title"] + '">', t.formatTitle(e), "</div>");
                    i.push("</div>");
                    return i.join("") }, _drawBody: function(e, n) {
                    var r = n["STARTDAY"],
                        i = n["WEEKDAYS"],
                        o = n["HOLIDAYS"];
                    var u = n["LANG"],
                        a = n["CLASS"];
                    var f = n.activeDate;
                    var l = n.minDate,
                        c = n.maxDate;
                    if (f && f != f) f = null;
                    var h = new Date;
                    var p = ["<table>", "<thead>", "<tr>"];
                    for (var d = 0; d < i; d++) {
                        var v = (r + d) % i;
                        p.push('<th class="' + a["week"] + v + '">', u["day_names"][v] || "", "</th>") }
                    p.push("</tr>", "</thead>");
                    p.push("<tbody>");
                    var m = [];
                    var g = e.getFullYear(),
                        y = e.getMonth() + 1;
                    var b = new Date(g, y - 1, 1);
                    var w = 1,
                        E = (new Date(g, y, 0)).getDate();
                    var S = b.getDay() - r,
                        x;
                    while (S < 0) S += i;
                    var T = w - S;
                    var N = i - ((1 - T + E) % i || i) + E;
                    for (var d = T, C = 0; d <= N; d++, C++) {
                        var k = new Date(g, y - 1, d);
                        if (C % i == 0) m.push("</tr>", "<tr>");
                        var v = (r + C) % i;
                        m.push('<td class="' + a["week"] + v + " " + a["day_default"]);
                        var L = false;
                        if (t.grep(["getFullYear", "getMonth", "getDate"], function(e) {
                                return k[e]() == h[e]() }).length == 3) m.push(" " + a["day_today"]);
                        if (f != null && f.getTime() == k.getTime()) m.push(" " + a["day_selected"]);
                        var A = false;
                        if (d < 1 || d > E) { m.push(" " + a["day_othermonth"]);
                            A = true }
                        if (l && k.getTime() < l.getTime() || c && k.getTime() > c.getTime()) {
                            if (!A) { m.push(" " + a["day_disabled"]) }
                            L = true }
                        var O = this._getDateClass(k);
                        if (O && !A) m.push(" " + O);
                        m.push('"');
                        if (!L) { m.push(" onmouseover=\"jQuery(this).addClass('", a["day_hover"], "');\" onmouseout=\"jQuery(this).removeClass(' ", a["day_hover"], " ');\"");
                            m.push(' onclick="QDP.select(event,new Date(' + k.getFullYear() + "," + k.getMonth() + "," + k.getDate() + "));", 'return false;"') }
                        m.push(">");
                        x = k.getDate();
                        if (n.showHoliday && (holiday = s[DateUtil.format(k)])) { x = holiday.holidayName.substring(0, 2) }
                        if (!A || n.showOtherMonths) { m.push("<span>");
                            m.push(x);
                            m.push("</span>") } else { m.push("&nbsp;") }
                        m.push("</td>") }
                    p.push(m.length > 0 ? m.slice(1, -1).join("") : "");
                    p.push("</tbody>", "</table>");
                    return p.join("") }, _getDateClass: function(e) {
                    var n = this.picker.args.formatDate(e);
                    var r = "";
                    if (this.picker.get("linkTo")) {
                        if (linkedQDP = this.picker.get("linkTo").data(t.qdatepicker.ROOT_KEY)) {
                            if (typeof linkedQDP.activeEl.val() != "undefined" && n == linkedQDP.activeEl.val()) { r = this.addRoundClass("BACK") } } } else if (this.picker.get("refObj")) {
                        if (typeof this.picker.activeEl.val() != "undefined" && n == this.picker.activeEl.val()) { r = this.addRoundClass("BACK") }
                        if (refQDP = this.picker.get("refObj").data(t.qdatepicker.ROOT_KEY)) {
                            if (typeof refQDP.activeEl.val() != "undefined" && n == refQDP.activeEl.val()) { r = this.addRoundClass("FROM") } } }
                    if (s[n]) r += " " + "holi";
                    return t.trim(r) } });
            window.QDP = {};
            t.each(["select", "change", "_trigger"], function(e, t) { window.QDP[t] = function() {
                    if (!arguments[0]) return;
                    var e = g(arguments[0]);
                    if (e && e[t]) return e[t].apply(e, Array.prototype.slice.call(arguments, 1)) } });
            t.extend(b.prototype, { init: function(e, r) { r = r || {};
                    if (r["ui"]) {
                        if (r["ui"]["isUI"]) this.ui = r["ui"];
                        else if (typeof r["ui"] == "string" && t.qdatepicker.uis[r["ui"]]) this.ui = new t.qdatepicker.uis[r["ui"]] }
                    if (!this.ui) this.ui = new y;
                    this.ui._init(this);
                    r = this.args = t.extend(true, {}, u, r || {});
                    this.key = ++i;
                    var s = this.ns = n + this.key;
                    var o = this.activeEl = t(e);
                    this.el = t('<div class="' + n + (r.customClass ? " " + r.customClass : "") + '"></div>').appendTo(this.args["container"] || document.body).hide();
                    t(this.el).data(n, this);
                    this.ui.init();
                    this.lastShowedDate = null;
                    this.showedDate = null;
                    if (r["showOnInit"]) this.show();
                    t.each(r["on"] || {}, function(e, t) { o.bind(e + "." + s, t) });
                    return this }, _trigger: function() { this.activeEl.triggerHandler.apply(this.activeEl, arguments) }, select: function(e) { this.ui.select(e);
                    this.hide();
                    this._trigger("q-datepicker-select", [e]) }, set: function(e, t, n) {
                    if (!this.ui.onSet || this.ui.onSet(e, t, n) === false) return;
                    if (typeof e === "string") {
                        var r = false;
                        switch (e) {
                            case "container":
                                this.el.appendTo(t || document.body);
                                this.el.css({ top: "", left: "" });
                                break }
                        for (var i = 0, s = e.split("."), o = s.length, u = this.args; i < o && (i !== o - 1 && (u[s[i]] || (u[s[i]] = {})) || (u[s[i]] = t)); u = u[s[i]], i++) {} }
                    if (n && this.visible()) { this._show(this.showedDate) } }, get: function(e) {
                    for (var t = 0, n = this.args, r = e.split("."), i = r.length; t < i && (n = n[r[t]]); t++) {}
                    return n }, change: function(e) {
                    var t = typeof e === "string" ? r(e, this.showedDate) : e;
                    var n = this.showedDate;
                    this.lastShowedDate = this.showedDate;
                    this.showedDate = t;
                    this.ui.change(n, t, e);
                    this._trigger("q-datepicker-change", [n, t, e]) }, show: function(e) {
                    var t, n = this.get("minDate"),
                        r = this.get("maxDate");
                    if (!e) t = new Date;
                    else t = e;
                    if (n && t.getTime() < n.getTime()) t.setTime(n.getTime());
                    else if (r && t.getTime() > r.getTime()) t.setTime(r.getTime());
                    this.ui.onBeforeDraw(t);
                    this._show.call(this, t);
                    this._trigger("q-datepicker-show", [e]) }, _show: function(e) { this.lastShowedDate = this.showedDate;
                    this.showedDate = e;
                    if (this.ui.draw(e) !== false);
                    this.el.show() }, hide: function() {
                    if (this.visible()) { this.el.hide();
                        this._trigger("q-datepicker-hide") } }, dispose: function() { this.ui.dispose();
                    this.el.remove();
                    this.activeEl.unbind("." + this.ns);
                    this._trigger("q-datepicker-dispose") }, visible: function() {
                    return this.el.is(":visible") }, getContainer: function() {
                    return this.el } });
            var w = { "+M": function(e, t) {
                    var n = e.getDate();
                    e.setMonth(e.getMonth() + t);
                    if (e.getDate() !== n) e.setDate(0) }, "-M": function(e, t) {
                    var n = e.getDate();
                    e.setMonth(e.getMonth() - t);
                    if (e.getDate() !== n) { e.setDate(0) } }, "+D": function(e, t) { e.setDate(e.getDate() + t) }, "-D": function(e, t) { e.setDate(e.getDate() - t) }, "+Y": function(e, t) { e.setFullYear(e.getFullYear() + t) }, "-Y": function(e, t) { e.setFullYear(e.getFullYear() - t) } };
            t.extend(t.qdatepicker, { uis: [], createUI: function(e, n) {
                    var r = n && t.qdatepicker.uis[n] ? t.qdatepicker.uis[n] : y;
                    var i = function() {};
                    t.extend(i, r);
                    t.extend(i.prototype = {}, r.prototype);
                    if (e) { t.qdatepicker.uis[e] = i;
                        i.prototype.name = e }
                    return i }, calcTime: function(e, t) { e = (e || "").toString();
                    var n;
                    if (t) n = new Date(t.getTime());
                    else { n = new Date;
                        var r = e.match(/^\d+/);
                        if (r) n.setTime(r[0] * 1) }
                    var i = /([+-])(\d+)([MDY])/g,
                        s;
                    while (s = i.exec(e)) {
                        var o = s[1] + s[3];
                        if (w[o]) w[o](n, s[2] * 1) }
                    return n } });
            t.qdatepicker.createUI("qunar").implement({ init: function() { this.parent.apply(this, arguments);
                    var e = this,
                        t = this.picker;
                    var n = t.get("customActiveClass");
                    var r = this.triggerEl = t.activeEl.wrap('<div class="qunar-dp' + (n ? " " + n : "") + '"></div>').before('<div class="dp-info"><b/><span class="dp-text"></span></div>').parent();
                    t.set("container", r[0]);
                    this.attachedEl = this.attachedEl.add(r.find(".dp-info > b , .dp-info")).add(r.find(".dp-info > b , .dp-info > .dp-text "));
                    t.activeEl.attr("maxlength", 10);
                    t.activeEl.addClass("textbox");
                    t.activeEl.bind("keyup." + t.ns, function(t) { e.updateTip(e.validate.call(e)) }).bind("blur." + t.ns, function(t) { e.autoCheck.call(e) });
                    if (t.get("defaultDay") != null) this.setDate(this.getDefaultDate());
                    this.updateTip(this.validate());
                    this.selectedDate = null;
                    this.checkLinked();
                    this.forIframe(t) }, forIframe: function(e) { t(window).bind("blur." + e.ns, function() { e.hide() }) }, getDefaultDate: function() {
                    var e = this.picker;
                    var t = r(e.get("defaultDay"));
                    var n = e.get("minDate"),
                        i = e.get("maxDate");
                    if (n && n.getTime() > t.getTime() || i && i.getTime() < t.getTime()) t = n || i;
                    return t }, checkLinked: function() {
                    var e = this.picker,
                        n;
                    if (!e.get("linkTo") || !(n = e.get("linkTo").data(t.qdatepicker.ROOT_KEY)) || n.ui.name.indexOf("qunar") !== 0) return;
                    var i = (e.get("linkRules") || "").split(",");
                    var s = this.getDate();
                    if (s == null) return;
                    var o = {};
                    t.each(["ds", "mind", "maxd"], function(e, t) {
                        if (i[e]) o[t] = r(i[e], s) });
                    var u = n.get("strictMinDate"),
                        a = n.get("strictMaxDate");
                    if (o["mind"] || u) {
                        var f = (o["mind"] ? o["mind"].getTime() : -1) > (u ? u.getTime() : -1) ? o["mind"] : u;
                        n.set("minDate", f, false) }
                    if (o["maxd"] || a) {
                        var f = (o["maxd"] ? o["maxd"].getTime() : Number.MAX_VALUE) > (a ? a.getTime() : Number.MAX_VALUE) ? a : o["maxd"];
                        n.set("maxDate", f, false) }
                    n.set(null, null, true);
                    var l = n.ui.validate();
                    if (!l["success"] && e.get("forceCorrect")) { n.select(o["ds"]);
                        n.ui.drawDate = null;
                        l = n.ui.validate() }
                    n.ui.updateTip(l);
                    var c = "Y";
                    return c }, select: function(e, t) {
                    var n = this.picker;
                    this.parent.apply(this, arguments);
                    this.selectedDate = e;
                    if (!t) this.autoCheck() }, showText: function(e) {
                    var t = this.triggerEl.find(".dp-text");
                    t.removeClass("errtext").html(e) }, showErrText: function(e) {
                    var t = this.triggerEl.find(".dp-text");
                    t.addClass("errtext").html(e) }, autoCheck: function() {
                    var e = this.picker;
                    var t = this.validate();
                    if (!t["success"] && e.get("forceCorrect")) { this.setDate(this.getDefaultDate());
                        this.updateTip(this.validate()) } else {
                        if (t["formatted"]) e.activeEl.val(t["formatted"]);
                        this.updateTip(t) }
                    this.checkLinked() }, updateTip: function(e) {
                    if (!this.picker.get("showTip")) return;
                    if (!e.success) this.showErrText(e.errmsg);
                    else this.showText(e.daytip) }, validate: function() {
                    var e = this.picker;
                    var n = this.picker.activeEl.val();
                    var r = this.getDate();
                    var i = this;
                    if (this.selectedDate && this.selectedDate.getTime() != r && r.getTime()) this.selectedDate = null;
                    var s = "",
                        o = true;
                    if (r == null) { o = false;
                        if (e.get("canEmpty") !== true) { s = e.get("LANG.ERR_FORMAT");
                            e._trigger("q-datepicker-error", ["FORMAT", n]) } else if (t.trim(this.picker.activeEl.val()) != "") { s = e.get("LANG.ERR_FORMAT");
                            e._trigger("q-datepicker-error", ["FORMAT", n]) } } else {
                        var u = e.get("minDate"),
                            a = e.get("maxDate");
                        if (u && u.getTime() > r.getTime() || a && a.getTime() < r.getTime()) { o = false;
                            s = e.get("LANG.OUT_OF_RANGE");
                            e._trigger("q-datepicker-error", ["RANGE", n]) } }
                    var f = { success: o, errmsg: s, formatted: null, daytip: null };
                    if (f["success"]) {
                        var c = e.get("formatDate")(r);
                        f["daytip"] = l[c] ? l[c]["holidayName"] : "周" + e.get("LANG.day_names")[r.getDay()];
                        f["formatted"] = c }
                    return f }, addRoundClass: function(e) {
                    if (e == "FROM") return this.picker.get("CLASS")["day_selected"];
                    else if (e == "BACK") return this.picker.get("CLASS")["day_round"] } });
            t.fn.qdatepicker = function() {
                if (this[0]) {
                    if (arguments.length > 1 && this.data(n)) {
                        var e = this.data(n);
                        if (arguments[0] === "option" || arguments[0] === "setting") return arguments.length > 2 ? e.set(arguments[1], arguments[2]) : e.get(arguments[1]) } else if (arguments.length <= 1) {
                        if (this.data(n)) { this.data(n).dispose();
                            this.removeData(n) }
                        var t = new b(this[0], arguments[0]);
                        this.data(n, t) } }
                return this };
            r = t.qdatepicker.calcTime })(jQuery) }(t.exports, t, e);
    e.____MODULES["7b340edd4ceaa0a3a7e50d6a000f733e"] = t.exports })(this);
(function(e) {
    var t = { id: "8b52100506e838d55999d680c1c6c69b", filename: "base.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["7b340edd4ceaa0a3a7e50d6a000f733e"];
        if (typeof window.QNR == "undefined") { window.QNR = {} }
        if (typeof JSON == "undefined") { window.JSON = { parse: function(e) {
                    return (new Function("return " + e))() }, stringify: function(e) {
                    if (typeof e == "object") {
                        if (e instanceof Array) {
                            var t = [];
                            for (var n = 0; n < e.length; n++) { t.push(arguments.callee(e[n])) }
                            return "[" + t.join(",") + "]" } else {
                            var t = [];
                            for (var r in e) { t.push(arguments.callee(r) + ":" + arguments.callee(e[r])) }
                            return "{" + t.join(",") + "}" } } else if (typeof e == "string") {
                        return '"' + e.replace(/"/g, '"') + '"' } else {
                        return e } } } }
        if (!Array.prototype.indexOf) { Array.prototype.indexOf = function(e, t) {
                var n = this.length,
                    r = ~~t;
                if (r < 0) r += n;
                for (; r < n; r++)
                    if (this[r] === e) return r;
                return -1 } }
        QNR.event = function() {
            if (QNR.event) {
                return QNR.event }
            var e = $("<div></div>");
            var t = [];
            var n = function(e) {
                if (typeof e != "function") {
                    return false }
                var n = false;
                $.each(t, function() {
                    if (this.original == e) { n = this } });
                if (!n) { n = { original: e, callback: function(t, n) {
                            try { e.apply(t, n) } catch (t) { typeof console == "object" && console.log && console.log(t) } } };
                    t.push(n) }
                return n.callback };
            e.listen = function(t, r) { e.bind(t, n(r)) };
            e.fire = function(t) {
                var n = [];
                if (!t || typeof t != "string") {
                    throw new Error("event name must be a tring") }
                if (arguments.length > 1) {
                    for (var r = 1; r < arguments.length; r++) { n.push(arguments[r]) } }
                e.trigger(t, [n]) };
            e.unlisten = function(t, r) { e.unbind(t, n(r)) };
            return e }();
        QNR.csSelectTpl = '<div class="csSelect" tabindex="0">' + '<div class="csStitle" js-select-item="show"></div>' + '<div class="csContent">' + '<ul class="csSlist" js-select-item="list">' + '<li><a js-select-item="option" value="{value}" href="javascript:void(0);" tabindex="-1">{name}</a></li>' + "</ul>" + "</div>" + "</div>";
        QNR.loader = function() {
            var e = QNR.VERSIONS || false;
            var t = {};
            var n = {};
            var r = function(e) {
                if (QNR.VERSIONS) {
                    return QNR.VERSIONS[e] } else {
                    return i(e) } };
            var i = function(e) {
                if (/^(http|https):\/\/(cm\.)?qunarzz.com\/([a-zA-Z0-9_-]+\/)+[a-zA-Z0-9_-]+\.js$/.test(e)) {
                    return e.replace(/\.js$/, "@dev.js") } else if (/^(http|https):\/\/(cm\.)?qunarzz.com\/([a-zA-Z0-9_-]+\/)+[a-zA-Z0-9@_-]+\.js$/.test(e)) {
                    return e }
                return e };
            var s = function(n, i) {
                var s = r(n);
                var o = false;
                var u = [];
                if (t[s]) {
                    if (typeof i != "function") {
                        return }
                    if (t[s].status) { i() } else { t[s].callbacks.push(i) }
                    return }
                var a = 0;
                if (typeof i == "string" && t[i]) { a = t[i].stack.push(s) - 1;
                    o = t[i] } else if (typeof i == "function") { u.push(i) }
                var f = document.createElement("script");
                f.type = "text/javascript";
                t[s] = { el: f, callback: function() {
                        if (!this.status) {
                            return } else {
                            if (this.stack.length) {
                                return }
                            if (this.related) {
                                for (var e = 0; e < this.related.stack.length; e++) {
                                    if (this.related.stack[e] == s) { this.related.stack.splice(e, 1);
                                        break } }
                                if (this.related.stack.length) { t[this.related.stack[0]].load() }
                                this.related.callback() }
                            for (var e = 0; e < this.callbacks.length; e++) {
                                try { this.callbacks[e]() } catch (n) {} } } }, status: 0, stack: [], callbacks: u, related: o, load: function() {
                        if (!this.related) {
                            var n = s.indexOf("?") > -1 ? s.charAt(s.length - 1) == "?" || s.charAt(s.length - 1) == "&" ? "" : "&" : "?";
                            f.src = s + n + (!e ? "loader=" + encodeURIComponent("QNR.loader.load('{sub}','" + s + "');") : "_=" + (new Date).valueOf()) } else { f.src = s }
                        var r = function() { t[s].status = 1;
                            t[s].callback() };
                        if (f.addEventListener) { f.addEventListener("load", r) } else if (f.attachEvent) { f.attachEvent("onreadystatechange", function() {
                                if (f.readyState == "loaded") { r() } }) }
                        document.getElementsByTagName("head")[0].appendChild(f) } };
                if (!a || e) { t[s].load() } };
            return { load: s } }() }(t.exports, t, e);
    e.____MODULES["8b52100506e838d55999d680c1c6c69b"] = t.exports })(this);
(function(e) {
    var t = { id: "66d56eaab730b753fc8ac26cf1123f6f", filename: "core.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function(e) {
            var t = Array.prototype.forEach ? function(e, t) { Array.prototype.forEach.call(e || [], t) } : function(e, t) {
                for (var n = 0, r = e && e.length || 0; n < r; n++) t.call(window, e[n], n) };
            var n = function(n) {
                var r = e,
                    i = n && n.split(".") || [];
                t(i, function(e) {
                    if (e) { r = r[e] || (r[e] = {}) } });
                return r };
            $ = window.$ || {};
            window.namespace = $.namespace = function(e, t) {
                var r = e && e.lastIndexOf(".") || -1;
                return n(r === -1 ? null : e.substr(0, r))[e.substr(r + 1)] = t };
            $.bui = { ajax: function(e, t, n, r) {
                    if (!e) {
                        return }
                    if ($.isFunction(t)) { n = t;
                        t = {} }
                    $.ajax({ url: e, type: r || "get", data: t || {} }).done(function(e) { n && n(e) }) }, post: function(e, t, n) { this.ajax(e, t, n, "post") } };
            window.console = window.console || {};
            window.console.log = window.console.log || function(e) {};
            $.dataModule = function() {
                function t(t, n) {
                    if (t.length) { e[n] = t } else { e[n] = [] } }

                function n(t, n) {
                    var r = e[n] || [];
                    for (var i = 0, s = r.length; i < s; i++) {
                        if (r[i] == t || $.isPlainObject(r[i]) && r[i].id == t.id || $.isPlainObject(r[i]) && r[i].name == t) {
                            return true } }
                    return false }
                var e = {};
                return { save: t, check: n } }() })(window) }(t.exports, t, e);
    e.____MODULES["66d56eaab730b753fc8ac26cf1123f6f"] = t.exports })(this);
(function(__context) {
    var module = { id: "70373c5d1da2b46813a293d4f3235e81", filename: "json2.js", exports: {} };
    if (!__context.____MODULES) { __context.____MODULES = {} }
    var r = function(exports, module, global) {
        if (!this.JSON) { JSON = {} }(function() {
            function f(e) {
                return e < 10 ? "0" + e : e }

            function quote(e) { escapable.lastIndex = 0;
                return escapable.test(e) ? '"' + e.replace(escapable, function(e) {
                    var t = meta[e];
                    return typeof t === "string" ? t : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4) }) + '"' : '"' + e + '"' }

            function str(e, t) {
                var n, r, i, s, o = gap,
                    u, a = t[e];
                if (a && typeof a === "object" && typeof a.toJSON === "function") { a = a.toJSON(e) }
                if (typeof rep === "function") { a = rep.call(t, e, a) }
                switch (typeof a) {
                    case "string":
                        return quote(a);
                    case "number":
                        return isFinite(a) ? String(a) : "null";
                    case "boolean":
                    case "null":
                        return String(a);
                    case "object":
                        if (!a) {
                            return "null" }
                        gap += indent;
                        u = [];
                        if (Object.prototype.toString.apply(a) === "[object Array]") { s = a.length;
                            for (n = 0; n < s; n += 1) { u[n] = str(n, a) || "null" }
                            i = u.length === 0 ? "[]" : gap ? "[\n" + gap + u.join(",\n" + gap) + "\n" + o + "]" : "[" + u.join(",") + "]";
                            gap = o;
                            return i }
                        if (rep && typeof rep === "object") { s = rep.length;
                            for (n = 0; n < s; n += 1) { r = rep[n];
                                if (typeof r === "string") { i = str(r, a);
                                    if (i) { u.push(quote(r) + (gap ? ": " : ":") + i) } } } } else {
                            for (r in a) {
                                if (Object.hasOwnProperty.call(a, r)) { i = str(r, a);
                                    if (i) { u.push(quote(r) + (gap ? ": " : ":") + i) } } } }
                        i = u.length === 0 ? "{}" : gap ? "{\n" + gap + u.join(",\n" + gap) + "\n" + o + "}" : "{" + u.join(",") + "}";
                        gap = o;
                        return i } }
            if (typeof Date.prototype.toJSON !== "function") { Date.prototype.toJSON = function(e) {
                    return this.getUTCFullYear() + "-" + f(this.getUTCMonth() + 1) + "-" + f(this.getUTCDate()) + "T" + f(this.getUTCHours()) + ":" + f(this.getUTCMinutes()) + ":" + f(this.getUTCSeconds()) + "Z" };
                String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function(e) {
                    return this.valueOf() } }
            var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
                escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
                gap, indent, meta = { "\b": "\\b", "	": "\\t", "\n": "\\n", "\f": "\\f", "\r": "\\r", '"': '\\"', "\\": "\\\\" },
                rep;
            if (typeof JSON.stringify !== "function") { JSON.stringify = function(e, t, n) {
                    var r;
                    gap = "";
                    indent = "";
                    if (typeof n === "number") {
                        for (r = 0; r < n; r += 1) { indent += " " } } else if (typeof n === "string") { indent = n }
                    rep = t;
                    if (t && typeof t !== "function" && (typeof t !== "object" || typeof t.length !== "number")) {
                        throw new Error("JSON.stringify") }
                    return str("", { "": e }) } }
            if (typeof JSON.parse !== "function") { JSON.parse = function(text, reviver) {
                    function walk(e, t) {
                        var n, r, i = e[t];
                        if (i && typeof i === "object") {
                            for (n in i) {
                                if (Object.hasOwnProperty.call(i, n)) { r = walk(i, n);
                                    if (r !== undefined) { i[n] = r } else { delete i[n] } } } }
                        return reviver.call(e, t, i) }
                    var j;
                    cx.lastIndex = 0;
                    if (cx.test(text)) { text = text.replace(cx, function(e) {
                            return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4) }) }
                    if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) { j = eval("(" + text + ")");
                        return typeof reviver === "function" ? walk({ "": j }, "") : j }
                    throw new SyntaxError("JSON.parse") } } })() }(module.exports, module, __context);
    __context.____MODULES["70373c5d1da2b46813a293d4f3235e81"] = module.exports })(this);
(function(e) {
    var t = { id: "6e46b89998c39bde74accceaac1afdba", filename: "ErrorCatch.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() {
            function e(e) {
                if (e && e.url) { this.url = e.url } }
            e.prototype.catches = function(e, t, n) {
                var r = this.getErrorParmas(e, t, n);
                this.send(r) };
            e.prototype.send = function(e) {
                var t = function() {
                    var t = [];
                    for (var n in e) { t.push(encodeURIComponent(n) + "=" + e[n]) }
                    return t.join("&") }();
                this.sendTrackLog(t) };
            e.prototype.getErrorParmas = function(e, t, n) {
                return { pageid: window._ba_utm_s || 0, file: encodeURIComponent(t) || "", url: encodeURIComponent(location.href), message: encodeURIComponent(e) || "", line: encodeURIComponent(n) || 0, samedomain: top == window, userAgent: navigator.userAgent } };
            e.prototype.sendRequest = function(e) {
                if (!e) return;
                var t = document.createElement("img");
                t.onload = function() { t.onload = null;
                    t = null };
                t.src = e };
            e.prototype.sendQMonitor = function(e, t) {};
            e.prototype.sendTrackLog = function(e) {
                var e = this.url || "/activity/doJsErrorLog.json?key=jserror&_t=" + (new Date).getTime() + "&" + e;
                this.sendRequest(e) };
            e.prototype.start = function() {
                function t(t, n, r) { e.catches(t, n, r) }
                var e = this;
                window.onerror = t };
            var e = new e;
            e.start() })() }(t.exports, t, e);
    e.____MODULES["6e46b89998c39bde74accceaac1afdba"] = t.exports })(this);
(function(e) {
    var t = { id: "36de79905c83fa786e4d54f077062a6c", filename: "jquery.select.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function(e) {
            var t = false;
            var n = { tpl: '<div class="csSelect" tabindex="0">' + '<div class="csStitle" js-select-item="show"></div>' + '<ul class="csSlist" js-select-item="list">' + '<li><a js-select-item="option" value="{value}" href="javascript:void(0);" tabindex="-1">{name}</a></li>' + "</ul>" + "</div>", key: "js-select-item" };
            if (QNR && QNR.csSelectTpl) { n.tpl = QNR.csSelectTpl }
            var r = function(t, r) { this.config = e.extend({ on: {} }, n, r);
                this.init(t);
                this.render();
                this.bindEvents();
                this.load();
                for (var i in this.config.on) { e(this.link).bind(i, this.config.on[i]) } };
            e.extend(r.prototype, { init: function(t) { this.link = t;
                    var n = [];
                    var r = this;
                    if (t.tagName.toLowerCase() == "select") { e(t).find("option").each(function(t, r) { n.push({ name: e(r).html(), value: e(r).val() }) }) }
                    this.data = n;
                    this.shown = false;
                    this.doc = e(document) }, render: function() { this.dom = e(this.config.tpl);
                    if (this.config.cls) { this.dom.addClass(this.config.cls) }
                    this.list = this.find("list");
                    this.list.hide();
                    this.stage = this.find("show");
                    var t = this.list.html();
                    var n = [];
                    for (var r = 0; r < this.data.length; r++) { n.push(t.replace(/\{name\}/g, this.data[r].name).replace(/\{value\}/g, this.data[r].value)) }
                    this.list.html(n.join(""));
                    this.change(this.link.selectedIndex);
                    this.tpl = t }, update: function() { this.init(this.link);
                    this.list.html("");
                    var e = [],
                        t = this.tpl;
                    for (var n = 0; n < this.data.length; n++) { e.push(t.replace(/\{name\}/g, this.data[n].name).replace(/\{value\}/g, this.data[n].value)) }
                    this.list.html(e.join(""));
                    var r = this.selectedIndex;
                    this.selectedIndex = -1;
                    this.change(r);
                    this.initOptionsEvents();
                    return this }, hide: function(e) { this.list.hide();
                    if (e) { e.stopPropagation() }
                    this.doc.unbind("mousedown", this._hide);
                    this.shown = false;
                    if (t == this) { t = false } }, show: function(e) { this.list.show();
                    if (e) { e.stopPropagation();
                        if (t && t != this) { t.hide() } }
                    this.doc.bind("mousedown", this._hide);
                    this.shown = true;
                    t = this }, bindEvents: function() {
                    var t = this;
                    this.stage.bind("mousedown", e.proxy(function(e) {
                        if (e.which != 1) {
                            return }
                        e.stopPropagation();
                        e.preventDefault();
                        if (this.shown) { this.hide(e) } else { this.show(e) } }, this));
                    this.stage.bind("click", function(e) { e.preventDefault() });
                    this.stage.bind("dblclick", function(e) { e.preventDefault() });
                    this.stage.bind("mousemove", function(e) { e.preventDefault() });
                    this._hide = function() { t.hide() };
                    this.list.bind("mouseenter", function() { t.doc.unbind("mousedown", t._hide) });
                    this.list.bind("mouseleave", function() { t.doc.bind("mousedown", t._hide) });
                    this.dom.bind("mousemove", function(e) { e.preventDefault() });
                    this.initOptionsEvents() }, initOptionsEvents: function() {
                    var t = this;
                    this.find("option").each(function(n, r) { e(r).unbind().bind("mouseup", function(r) {
                            if (r.which != 1) {
                                return }
                            var s = e(this);
                            t.change(n, r);
                            t._hide();
                            r.stopPropagation();
                            r.preventDefault() }) }) }, load: function() { this.dom.insertBefore(e(this.link).hide());
                    e(this.link).css({ position: "absolute", left: "-10000px", top: "-10000px" }) }, change: function(t, n) {
                    if (t < 0 || t >= this.data.length || t == this.selectedIndex) {
                        return }
                    this.selectedIndex = t;
                    var r = this.data[this.selectedIndex].name;
                    var i = this.config.maxlength || 14;
                    var s = e.trim(r).length > i ? e.trim(r).substring(0, i) + "..." : r,
                        o = this.stage.find('[item="shower"]');
                    o.length ? o.html(s) : this.stage.html(s);
                    this.value = this.data[this.selectedIndex].value;
                    this.link.selectedIndex = this.selectedIndex;
                    if (n) { e(this.link).trigger("change", [this.val()]);
                        this.dom.trigger("change", [this.val()]) } }, val: function() {
                    if (arguments.length) {
                        var e = arguments[0].toString();
                        for (var t = 0; t < this.data.length; t++) {
                            if (this.data[t].value == e) { this.change(t, arguments[1]);
                                break } }
                        return this.value } else {
                        return this.value } }, find: function(e) {
                    if (typeof e == "undefined") {
                        return this.dom.find("[" + this.config.key + "]") }
                    if (!(e instanceof Array)) {
                        return this.find([e]) }
                    var t = [];
                    for (var n = 0; n < e.length; n++) { t.push("[" + this.config.key + "='" + e[n] + "']") }
                    return this.dom.find(t.join(",")) }, addClass: function(e) { this.dom.addClass(e);
                    return this }, removeClass: function() { this.dom.removeClass(arg);
                    return this }, bind: function(t, n) { e(this.link).bind(t, n);
                    return this }, unbind: function(t, n) { e(this.link).unbind(t, n);
                    return this } });
            e.fn.csSelect = function(t) {
                return this.each(function() {
                    var n = e(this).data("csSelect");
                    if (n) {
                        return n }
                    n = new r(this, t);
                    e(this).data("csSelect", n);
                    return this });
                return this };
            e.csSelect = function(t, n) {
                var t = e(t);
                if (t[0]) {
                    var i = t.data("csSelect");
                    if (i) {
                        return i }
                    var i = new r(t[0], n);
                    t.data("csSelect", i);
                    return i }
                return false } })(jQuery) }(t.exports, t, e);
    e.____MODULES["36de79905c83fa786e4d54f077062a6c"] = t.exports })(this);
(function(e) {
    var t = { id: "86d1e3b4840496091920cb12b77f0089", filename: "jquery.cookie.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) { jQuery.cookie = function(e, t, n) {
            if (arguments.length > 1 && String(t) !== "[object Object]") { n = jQuery.extend({}, n);
                if (t === null || t === undefined) { n.expires = -1 }
                if (typeof n.expires === "number") {
                    var r = n.expires,
                        i = n.expires = new Date;
                    i.setDate(i.getDate() + r) }
                t = String(t);
                return document.cookie = [encodeURIComponent(e), "=", n.raw ? escape(t) : encodeURIComponent(t), n.expires ? "; expires=" + n.expires.toUTCString() : "", n.path ? "; path=" + n.path : "", n.domain ? "; domain=" + n.domain : "", n.secure ? "; secure" : ""].join("") }
            n = t || {};
            var s, o = n.raw ? function(e) {
                return unescape(e) } : decodeURIComponent;
            return (s = (new RegExp("(?:^|; )" + encodeURIComponent(e) + "=([^;]*)")).exec(document.cookie)) ? o(s[1]) : null } }(t.exports, t, e);
    e.____MODULES["86d1e3b4840496091920cb12b77f0089"] = t.exports })(this);
(function(__context) {
    var module = { id: "8d3525f759e1ef55d91f7aa1e7505198", filename: "jquery.jvalidator.js", exports: {} };
    if (!__context.____MODULES) { __context.____MODULES = {} }
    var r = function(exports, module, global) {
        (function($) { $.extend({ jvalidator: { version: "0.2.2", PATTERN: {}, LOG: [], addPattern: function(e) {
                        if (!e.name) {
                            return }
                        $.jvalidator.PATTERN[e.name] = e }, log: function(e) { $.jvalidator.LOG.push(e) } } });
            var AsyncRequest = function() { this.reqs = [];
                this.status = 0 };
            AsyncRequest.prototype.addRequest = function(e) {
                if (this.status != 0) {
                    return }
                this.reqs.push(e) };
            AsyncRequest.prototype.go = function() {
                if (this.status != 0) {
                    return }
                this.status = 1;
                var e = this;
                var t = this.reqs;
                var n = this.reqs.length;
                for (var r = 0; r < t.length; r++) {
                    var i = t[r];
                    if (this.status == 0) {
                        return }
                    i(function() { n--;
                        if (n == 0) { e.finish() } }) } };
            AsyncRequest.prototype.finish = function(e) { this.status = 0;
                if (this.onfinished) { this.onfinished(e) } };
            AsyncRequest.prototype.clear = function() {
                if (this.status != 0) {
                    return }
                this.reqs = [] };
            var jvalidatorGroup = function(e) { this.setting = e;
                this._jvs = [];
                this._selector = null;
                this.async = new AsyncRequest };
            jvalidatorGroup.prototype.refresh = function() {
                if (!this._selector) {
                    return }
                var e = this;
                this._jvs = [];
                $(this._selector).each(function() {
                    var t = $(this).data("jvalidator");
                    if (!t) { t = new jvalidator(this, e.setting);
                        $(this).data("jvalidator", t) }
                    e._jvs.push(t) }) };
            jvalidatorGroup.prototype.append = function(e) {
                if (!e) {
                    return }
                this._selector = this._selector ? this._selector.add(e) : e;
                this.refresh() };
            jvalidatorGroup.prototype.remove = function(e) {
                if (!e) {
                    return }
                if (this._selector) {
                    var t = this.setting.validation_events || [];
                    e = e instanceof jQuery ? e : $(e);
                    e.each(function(e, t) {
                        var n = $(this);
                        if (n.data("jvalidator")) { n.removeData("jvalidator").unbind() } });
                    this._selector = this._selector.not(e);
                    this.refresh() } };
            jvalidatorGroup.prototype.validateAll = function(e) {
                var t = this;
                var n = this._jvs;
                var r = this.async;
                var i = true;
                r.clear();
                r.onfinished = function() {
                    if (e) { e(i) } };
                var s = true;
                for (var o = 0; o < n.length; o++) {
                    var u = n[o];
                    if (u && u.exists()) { s = false } }
                if (s) { e && e(i) } else {
                    for (var o = 0; o < n.length; o++) {
                        var a = n[o];
                        if (!a || !a.exists()) {
                            continue }(function(e) { r.addRequest(function(t) { e.check(function(e) {
                                    if (!e) { i = e }
                                    t() }) }) })(a) }
                    r.go() } };
            var jvalidator = function(e, t) {
                var n = this;
                this.invalid_pattern = [];
                this.el = e;
                this.setting = t;
                this.async = new AsyncRequest;
                var r = this.setting["validation_events"] || [];
                $.each(r, function(t, r) { $(e).bind(r, function() { n.check() }) });
                var i = this.setting["on"] || {};
                $.each(i, function(e, t) { $(n).bind(e, t) });
                $(e).blur(function() { $(n).trigger("blur") }) };
            jvalidator.prototype.exists = function() {
                return jQuery(this.el).closest("body").size() };
            jvalidator.prototype._checkPattern = function(resultTable) {
                var $el = $(this.el);
                var pattern = $el.attr("data-jvalidator-pattern") || "";
                var code = pattern.replace(/ /g, "").replace(/\|/g, "||").replace(/\&/g, "&&");
                code = code.replace(/([^|&\(\)]+)/g, function(e, t) {
                    return typeof resultTable[t] != "undefined" ? resultTable[t] : "true" });
                return eval(code) };
            jvalidator.prototype.check = function(e) {
                var t = this;
                var n = $(this.el);
                var r = this.async;
                var i = (n.attr("data-jvalidator-pattern") || "").replace(/\(/g, "").replace(/\)/g, "").replace(/\|/g, ",").replace(/\&/g, ",");
                var s = i ? i.split(",") : [];
                var o = n.val();
                var u = {};
                this.invalid_pattern = [];
                r.clear();
                r.onfinished = function(n) {
                    var r = t._checkPattern(u);
                    if (e) { e(r) }
                    t.after_check(r) };
                if (!s.length) { $.jvalidator.log(n.selector + "模式为空,放弃此项校验");
                    return }
                for (var a = 0; a < s.length; a++) {
                    var f = $.trim(s[a]);
                    var l = $.jvalidator.PATTERN[f];
                    if (!l) { $.jvalidator.log("找不到模式[" + f + "]");
                        continue }(function(e, n) { r.addRequest(function(r) { e.validate.call(t.el, o, function(i, s) {
                                if (!i) { e.message = s || e.message;
                                    t.invalid_pattern.push(e) }
                                u[n] = i;
                                r() }) }) })(l, f) }
                r.go() };
            jvalidator.prototype.after_check = function(e) {
                if (e) { $(this).trigger("valid", [this.el]) } else { $(this).trigger("invalid", [this.el, this.invalid_pattern]) } };
            $.fn.jvalidator = function(e) { e = $.extend({}, e || {});
                var t = new jvalidatorGroup(e);
                t.append(this);
                return t };
            $("textarea[maxlength]").die().live("keydown blur", function(e) {
                var t = $(this);
                var n = parseInt(t.attr("maxlength"), 10);
                if (n > 0) {
                    if (t.val().length > n) { t.val(t.val().slice(0, n)) } } }) })(jQuery);
        window.isValidIdNo = function(e) {
            var e = e.toUpperCase();
            if (!/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(e)) {
                return false }
            var t, n;
            t = e.length;
            if (t == 15) { n = /^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/i;
                var r = e.match(n);
                var i = new Date("19" + r[2] + "/" + r[3] + "/" + r[4]);
                var s;
                s = i.getYear() == Number(r[2]) && i.getMonth() + 1 == Number(r[3]) && i.getDate() == Number(r[4]);
                if (!s) {
                    return false } else {
                    var o = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];
                    var u = ["1", "0", "X", "9", "8", "7", "6", "5", "4", "3", "2"];
                    var a = 0,
                        f;
                    e = e.substr(0, 6) + "19" + e.substr(6, e.length - 6);
                    for (f = 0; f < 17; f++) { a += e.substr(f, 1) * o[f] }
                    e += u[a % 11];
                    return true } }
            if (t == 18) { n = /^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/i;
                var r = e.match(n);
                var i = new Date(r[2] + "/" + r[3] + "/" + r[4]);
                var s;
                s = i.getFullYear() == Number(r[2]) && i.getMonth() + 1 == Number(r[3]) && i.getDate() == Number(r[4]);
                if (!s) {
                    return false } else {
                    var l;
                    var o = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];
                    var u = ["1", "0", "X", "9", "8", "7", "6", "5", "4", "3", "2"];
                    var a = 0,
                        f;
                    for (f = 0; f < 17; f++) { a += e.substr(f, 1) * o[f] }
                    l = u[a % 11];
                    if (l != e.substr(17, 1)) {
                        return false }
                    return true } }
            return false } }(module.exports, module, __context);
    __context.____MODULES["8d3525f759e1ef55d91f7aa1e7505198"] = module.exports })(this);
(function(e) {
    var t = { id: "352a0e177913407a4b956f0d860e8d05", filename: "jquery.placeholder.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function(e) {
            var t = "0.1.0";
            e.fn.placeholder = function() {
                return e(this).each(function() {
                    var t = e(this);
                    var n = t.css("color");
                    var r = t.attr("placeholder");
                    var i = t.attr("data-placeholder-color") || "#999";
                    var s = t.attr("data-placeholder-clsname");
                    if (!r) return;
                    if (this.isPlaceHolderEmpty && this.initPlaceHolder) { this.initPlaceHolder();
                        return }
                    var o = function() {
                        return e.trim(t.val()) == "" || t.val() == r };
                    this.isPlaceHolderEmpty = o;
                    var u = function() {
                        if (s) { t.removeClass(s) } else { t.css("color", n) } };
                    var a = function() {
                        if (s) { t.addClass(s) } else { t.css("color", i) } };
                    t.focus(function() {
                        if (o()) { t.val("");
                            u() } }).blur(function() {
                        if (o()) { t.val(r);
                            a() } else { u() } });
                    this.initPlaceHolder = function() {
                        if (o()) { t.val(r);
                            a() } else { u() } };
                    this.initPlaceHolder() }) } })(jQuery) }(t.exports, t, e);
    e.____MODULES["352a0e177913407a4b956f0d860e8d05"] = t.exports })(this);
(function(e) {
    var t = { id: "fe8ff9e9c4c2aa885484241b5fe4813f", filename: "jquery.qsuggest.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function(e) {
            function s(e) {
                var t = e.offset();
                t["top"] += e.outerHeight();
                return t }

            function o(e) {
                return e && e.closest("table").data("data")[e.attr("data-ind") * 1] }

            function u(e, t) {
                if (!this.init) return new qsuggest(e, t);
                else return this.init(e, t) }
            var t = function() {
                var e = "data-detect-oninput",
                    t = {},
                    n = {},
                    r = 1,
                    i = 1;
                var s = function(e, n, r, i) {
                    if (e.addEventListener) e.addEventListener(n, r, false);
                    else if (e.attachEvent) e.attachEvent("on" + n, r);
                    (t[i] || (t[i] = [])).push({ t: n, h: r }) };
                var o = function(e, n) {
                    if (!t[n]) return;
                    for (var r = 0, i; i = t[n][r]; r++)
                        if (e.removeEventListener) e.removeEventListener(i["t"], i["h"], false);
                        else if (e.detachEvent) e.detachEvent("on" + i["t"], i["h"]);
                    delete t[n] };
                var u = function(e, t) {
                    var n = e.value;
                    var r = function() {
                        var i;
                        if ((i = e.value) !== n) {
                            if (r._sleep !== true) t.call(e, i, n);
                            n = e.value } };
                    return r };
                var a = navigator.userAgent.toLowerCase();
                return { version: "1.3", bind: function(t, o) {
                        var f, l = o[e];
                        if (!l) o[e] = l = r++;
                        if (!(f = t.getAttribute(e))) t.setAttribute(e, f = "" + i++);
                        var c = u(t, o);
                        if ("oninput" in t && !/opera/.test(a)) s(t, "input", c, l);
                        else {
                            var h;
                            s(t, "focus", function() {
                                if (!h) h = setInterval(c, 100) }, l);
                            s(t, "blur", function() {
                                if (h) { clearInterval(h);
                                    h = null } }, l) }
                        n[l] = { eid: f, checker: c };
                        return t }, unbind: function(t, r) {
                        if (r[e]) { o(t, r[e]);
                            delete n[r[e]] }
                        return t }, set: function(t, r) {
                        var i = t.getAttribute(e);
                        if (i) {
                            var s = [];
                            for (var o in n)
                                if (n[o]["eid"] === i) { s.push(n[o]["checker"]);
                                    n[o]["checker"]._sleep = true }
                            t.value = r;
                            for (var u = 0, a = s.length; u < a; u++) { s[u].call(t);
                                s[u]._sleep = false } } else t.value = r } } }();
            e.qsuggest = { version: "1.3" };
            var n = e.qsuggest.ROOT_KEY = "q-suggest";
            var r = 0;
            var i = { ajax: { url: null, cache: false, success: function() {} }, reader: function(e) {
                    return e }, loader: function(e) {
                    return e }, max: 10, min: 1, container: null, delay: 100, rdelay: 1e3, requestWithNothing: false, trimQuery: true, focus: false, css: { "z-index": 1e4 }, render: function(e) {
                    return String(e).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;") } };
            e.extend(u.prototype, { init: function(s, u) { this.key = ++r;
                    var a = this.ns = n + this.key;
                    u = this.args = e.extend(true, {}, i, u || {});
                    var f = this.activeEl = e(s);
                    var l = this;
                    this.el = e('<div class="' + n + (u.customClass ? " " + u.customClass : "") + '"></div>').appendTo(u["container"] || document.body).hide();
                    this.el.data(n, this);
                    this._handler = null;
                    this._ajaxHandler = null;
                    this._excludeEl = null;
                    this._mouseFocus = null;
                    this._last = [];
                    this._cache = {};
                    this._value = null;
                    this.timer = (new Date).getTime();
                    e.each(u["on"] || {}, function(e, t) { f.bind(e + "." + a, t) });
                    if (u["css"]) this.el.css(l.args["css"]);
                    var l = this;
                    f.bind("focus", function() { l.timer = (new Date).getTime() });
                    t.bind(f[0], function() { l.show() });
                    f.bind("keyup." + a, function(e) {
                        var t = (new Date).getTime();
                        if (t - l.timer < 50) { l.timer = t;
                            return }
                        l.timer = t;
                        var n = l.visible();
                        var r = e.keyCode;
                        if (r === 40 && !n) { l.show();
                            return }
                        var i = l.el.find('tr[data-suggest="0"]');
                        var s = i.filter(".active");
                        switch (r) {
                            case 38:
                            case 40:
                                if (n) { l._excludeEl = l._mouseFocus;
                                    s.removeClass("active");
                                    var u = i.index(s);
                                    u = e.keyCode === 38 ? u - 1 : u + 1;
                                    if (u >= i.length) { u = 0 }
                                    if (u < 0) { u = i.length - 1 }
                                    p = i.eq(u);
                                    var a = o(p);
                                    l.setValue(a || "");
                                    p.addClass("active");
                                    e.preventDefault();
                                    l._trigger("q-suggest-user-action", [e.type, a, r]) }
                                break;
                            case 13:
                                if (n) { l._excludeEl = l._mouseFocus;
                                    var a = o(s);
                                    l.setValue(a || "");
                                    e.preventDefault();
                                    l._trigger("q-suggest-user-action", ["enter", a, r]);
                                    l.hide() }
                                break;
                            case 27:
                                if (n) { l.hide();
                                    l._trigger("q-suggest-user-action", [e.type, l.getValue(), r]) }
                                break;
                            case 18:
                            case 9:
                                break;
                            default:
                        } });
                    f.bind("blur." + a, function(e) {
                        if (l.visible()) l.hide() });
                    if (l.args.focus) { f.bind("focus." + a, function(e) { l.show() }) }
                    e("tr", this.el[0]).live("mouseover." + a + " mouseout." + a + " mousedown." + a, function(t) {
                        var n = e.nodeName(t.target, "tr") ? e(t.target) : e(t.target).parents("tr").eq(0);
                        if (e(n[0]).attr("data-suggest") == "1") { t.preventDefault();
                            return }
                        var r = n[0] != l._excludeEl;
                        if (t.type === "mouseover") {
                            if (r) { n.parents().children().removeClass("active");
                                n.addClass("active");
                                l._excludeEl = null }
                            l._mouseFocus = n[0] } else if (t.type === "mouseout") { l._mouseFocus = null } else { l.setValue(o(n) || "");
                            l.hide();
                            l._trigger("q-suggest-user-action", [t.type, l.getValue(), null]) } });
                    return this }, req: function() {
                    var t = this;
                    if (t._handler) clearTimeout(t._handler);
                    if (t._timeoutHandler) { clearTimeout(t._timeoutHandler);
                        t._timeoutHandler = null }
                    if (t._ajaxHandler) { t._ajaxHandler.abort();
                        t._ajaxHandler = null }
                    t._handler = setTimeout(function() {
                        var n = t.activeEl.val(),
                            r = t.args.loader(n),
                            i = null,
                            s;
                        if (t.args.focus) { r = "a" }
                        if (t.args.trimQuery) r = e.trim(r);
                        if (!r && !t.args.requestWithNothing) { t.draw(null);
                            return }
                        if (t._last && t._last[0] === r) { t.draw(t._last[1]);
                            return }
                        if (t._last && t._last[0] == r) i = t._last;
                        else if (t.args.cache && t._cache[r]) i = t._cache[r];
                        if (i) t.draw((t._last = i)[1]);
                        else if (!t.args.ajax.url) t.draw(null);
                        else {
                            var o = t.args.ajax.url.replace(/\*([^*]+)*$/, encodeURIComponent(r) + "$1");
                            var u = t.args.ajax.success;
                            t._timeoutHandler = setTimeout(function() { t.hide() }, t.args.rdelay);
                            t._ajaxHandler = e.ajax(e.extend({}, t.args.ajax, { url: o, success: function(e, i) { clearTimeout(t._timeoutHandler);
                                    t._timeoutHandler = null;
                                    t._ajaxHandler = null;
                                    if (n !== t.activeEl.val()) return;
                                    var s = t.args.reader.call(t, e, i);
                                    if (t.type(s) === "Array") { t.draw(s);
                                        t._last = t._cache[r] = [r, s, i] }
                                    u.apply(this, arguments) } })) } }, t.args.delay) }, type: function(e) {
                    return Object.prototype.toString.call(e).slice(8, -1) }, show: function() { this.req() }, hide: function() {
                    if (this.visible()) { this.el.hide();
                        this._trigger("q-suggest-hide") } }, draw: function(t) { this.el.empty();
                    var n = this.args.min,
                        r = this.args.max;
                    if (!t || !t.length || t.length < n) { this.hide();
                        return }
                    var i = [],
                        o = this.args.render,
                        u = true;
                    i.push('<table cellspacing="0" cellpadding="2"><tbody>');
                    e.each(t, function(e, t) {
                        if (e >= r) return false;
                        var n = "";
                        if (typeof t.stype !== "undefined" && t.stype !== 1 && u) { u = false;
                            n = ' class="active" ' }
                        if (t instanceof Object) { i.push("<tr ", n, ' data-suggest="', typeof t.stype == "undefined" ? 0 : t.stype, '" data-ind="', e, '"><td did="', t.id, '">', o(t.name), "</td></tr>") } else { i.push("<tr ", n, ' data-suggest="', typeof t.stype == "undefined" ? 0 : t.stype, '" data-ind="', e, '"><td>', o(t), "</td></tr>") } });
                    i.push("</tbody></table>");
                    var a = e(i.join("")).appendTo(this.el).data("data", t);
                    if (!this.args["container"]) this.el.css(s(this.activeEl));
                    var f = this.args["width"];
                    if (!f) this.el.css("width", this.activeEl.outerWidth());
                    else this.el.css("width", f);
                    this.el.show();
                    f = Math.max(f, e("table", this.el).width() + 2);
                    this.el.css("width", f);
                    this._trigger("q-suggest-show", [t]) }, dispose: function() { this._trigger("q-suggest-dispose");
                    this.activeEl.unbind("." + this.ns);
                    e(window).unbind("." + this.ns);
                    this.el.remove() }, visible: function() {
                    return this.el.is(":visible") }, _trigger: function() { this.activeEl.triggerHandler.apply(this.activeEl, arguments) }, setValue: function(e) {
                    if (e instanceof Object) { t.set(this.activeEl[0], e.val || e.value || e.name) } else { t.set(this.activeEl[0], e) }
                    this._value = e }, getValue: function() {
                    return this._value }, set: function(e, t) {
                    var n = false;
                    switch (e) {
                        case "container":
                            this.el.appendTo(t || document.body);
                            this.el.css({ top: "", left: "" });
                            break }
                    if (!n)
                        for (var r = 0, i = e.split("."), s = i.length, o = this.args; r < s && (r !== s - 1 && (o[i[r]] || (o[i[r]] = {})) || (o[i[r]] = t)); o = o[i[r]], r++) {}
                    return t }, get: function(e) {
                    for (var t = 0, n = this.args, r = e.split("."), i = r.length; t < i && (n = n[r[t]]); t++) {}
                    return n } });
            e.fn.qsuggest = function() {
                var t = arguments;
                if (arguments.length > 1 && this.data(n)) {
                    var r = null;
                    if (arguments[0] === "option" || arguments[0] === "setting") this.each(function(i, s) {
                        var o = e(s);
                        var u = this.data(n);
                        if (u) r = r || (t.length > 2 ? u.set(t[1], t[2]) : u.get(t[1])) });
                    return r } else if (arguments.length <= 1) { this.each(function(r, i) {
                        var s = e(i);
                        if (s.data(n)) { s.data(n).dispose();
                            s.removeData(n) }
                        var o = new u(i, t[0]);
                        s.data(n, o) }) }
                return this } })(jQuery) }(t.exports, t, e);
    e.____MODULES["fe8ff9e9c4c2aa885484241b5fe4813f"] = t.exports })(this);
(function(e) {
    var t = { id: "41a7248588fec9d08b74aea5a76b3eba", filename: "jquery.tmpl.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function(e, t) {
            function h(t, n, r, i) {
                var u = { data: i || (n ? n.data : {}), _wrap: n ? n._wrap : null, tmpl: null, parent: n || null, nodes: [], calls: w, nest: E, wrap: S, html: x, update: T };
                if (t) { e.extend(u, t, { nodes: [], parent: n }) }
                if (r) { u.tmpl = r;
                    u._ctnt = u._ctnt || u.tmpl(e, u);
                    u.key = ++f;
                    (c.length ? o : s)[f] = u }
                return u }

            function p(t, n, i) {
                var s, o = i ? e.map(i, function(e) {
                    return typeof e === "string" ? t.key ? e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g, "$1 " + r + '="' + t.key + '" $2') : e : p(e, t, e._ctnt) }) : t;
                if (n) {
                    return o }
                o = o.join("");
                o.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/, function(t, n, r, i) { s = e(r).get();
                    b(s);
                    if (n) { s = d(n).concat(s) }
                    if (i) { s = s.concat(d(i)) } });
                return s ? s : d(o) }

            function d(t) {
                var n = document.createElement("div");
                n.innerHTML = t;
                return e.makeArray(n.childNodes) }

            function v(t) {
                return new Function("jQuery", "$item", "var $=jQuery,call,_=[],$data=$item.data;" + "with($data){_.push('" + e.trim(t).replace(/([\\'])/g, "\\$1").replace(/[\r\t\n]/g, " ").replace(/\$\{([^\}]*)\}/g, "{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g, function(t, n, r, i, s, o, u) {
                    var a = e.tmpl.tag[r],
                        f, l, c;
                    if (!a) {
                        throw "Template command not found: " + r }
                    f = a._default || [];
                    if (o && !/\w$/.test(s)) { s += o;
                        o = "" }
                    if (s) { s = g(s);
                        u = u ? "," + g(u) + ")" : o ? ")" : "";
                        l = o ? s.indexOf(".") > -1 ? s + o : "(" + s + ").call($item" + u : s;
                        c = o ? l : "(typeof(" + s + ")==='function'?(" + s + ").call($item):(" + s + "))" } else { c = l = f.$1 || "null" }
                    i = g(i);
                    return "');" + a[n ? "close" : "open"].split("$notnull_1").join(s ? "typeof(" + s + ")!=='undefined' && (" + s + ")!=null" : "true").split("$1a").join(c).split("$1").join(l).split("$2").join(i ? i.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g, function(e, t, n, r) { r = r ? "," + r + ")" : n ? ")" : "";
                        return r ? "(" + t + ").call($item" + r : e }) : f.$2 || "") + "_.push('" }) + "');}return _;") }

            function m(t, n) { t._wrap = p(t, true, e.isArray(n) ? n : [i.test(n) ? n : e(n).html()]).join("") }

            function g(e) {
                return e ? e.replace(/\\'/g, "'").replace(/\\\\/g, "\\") : null }

            function y(e) {
                var t = document.createElement("div");
                t.appendChild(e.cloneNode(true));
                return t.innerHTML }

            function b(t) {
                function v(t) {
                    function v(e) { e = e + n;
                        p = a[e] = a[e] || h(p, s[p.parent.key + n] || p.parent, null, true) }
                    var i, u = t,
                        c, p, d;
                    if (d = t.getAttribute(r)) {
                        while (u.parentNode && (u = u.parentNode).nodeType === 1 && !(i = u.getAttribute(r))) {}
                        if (i !== d) { u = u.parentNode ? u.nodeType === 11 ? 0 : u.getAttribute(r) || 0 : 0;
                            if (!(p = s[d])) { p = o[d];
                                p = h(p, s[u] || o[u], null, true);
                                p.key = ++f;
                                s[f] = p }
                            if (l) { v(d) } }
                        t.removeAttribute(r) } else if (l && (p = e.data(t, "tmplItem"))) { v(p.key);
                        s[p.key] = p;
                        u = e.data(t.parentNode, "tmplItem");
                        u = u ? u.key : 0 }
                    if (p) { c = p;
                        while (c && c.key != u) { c.nodes.push(t);
                            c = c.parent }
                        delete p._ctnt;
                        delete p._wrap;
                        e.data(t, "tmplItem", p) } }
                var n = "_" + l,
                    i, u, a = {},
                    c, p, d;
                for (c = 0, p = t.length; c < p; c++) {
                    if ((i = t[c]).nodeType !== 1) {
                        continue }
                    u = i.getElementsByTagName("*");
                    for (d = u.length - 1; d >= 0; d--) { v(u[d]) }
                    v(i) } }

            function w(e, t, n, r) {
                if (!e) {
                    return c.pop() }
                c.push({ _: e, tmpl: t, item: this, data: n, options: r }) }

            function E(t, n, r) {
                return e.tmpl(e.template(t), n, r, this) }

            function S(t, n) {
                var r = t.options || {};
                r.wrapped = n;
                return e.tmpl(e.template(t.tmpl), t.data, r, t.item) }

            function x(t, n) {
                var r = this._wrap;
                return e.map(e(e.isArray(r) ? r.join("") : r).filter(t || "*"), function(e) {
                    return n ? e.innerText || e.textContent : e.outerHTML || y(e) }) }

            function T() {
                var t = this.nodes;
                e.tmpl(null, null, null, this).insertBefore(t[0]);
                e(t).remove() }
            var n = e.fn.domManip,
                r = "_tmplitem",
                i = /^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,
                s = {},
                o = {},
                u, a = { key: 0, data: {} },
                f = 0,
                l = 0,
                c = [];
            e.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function(t, n) { e.fn[t] = function(r) {
                    var i = [],
                        o = e(r),
                        a, f, c, h, p = this.length === 1 && this[0].parentNode;
                    u = s || {};
                    if (p && p.nodeType === 11 && p.childNodes.length === 1 && o.length === 1) { o[n](this[0]);
                        i = this } else {
                        for (f = 0, c = o.length; f < c; f++) { l = f;
                            a = (f > 0 ? this.clone(true) : this).get();
                            e.fn[n].apply(e(o[f]), a);
                            i = i.concat(a) }
                        l = 0;
                        i = this.pushStack(i, t, o.selector) }
                    h = u;
                    u = null;
                    e.tmpl.complete(h);
                    return i } });
            e.fn.extend({ tmpl: function(t, n, r) {
                    return e.tmpl(this[0], t, n, r) }, tmplItem: function() {
                    return e.tmplItem(this[0]) }, template: function(t) {
                    return e.template(t, this[0]) }, domManip: function(t, r, i, o) {
                    if (t[0] && t[0].nodeType) {
                        var a = e.makeArray(arguments),
                            f = t.length,
                            c = 0,
                            h;
                        while (c < f && !(h = e.data(t[c++], "tmplItem"))) {}
                        if (f > 1) { a[0] = [e.makeArray(t)] }
                        if (h && l) { a[2] = function(t) { e.tmpl.afterManip(this, t, i) } }
                        n.apply(this, a) } else { n.apply(this, arguments) }
                    l = 0;
                    if (!u) { e.tmpl.complete(s) }
                    return this } });
            e.extend({ tmpl: function(t, n, r, i) {
                    var u, f = !i;
                    if (f) { i = a;
                        t = e.template[t] || e.template(null, t);
                        o = {} } else if (!t) { t = i.tmpl;
                        s[i.key] = i;
                        i.nodes = [];
                        if (i.wrapped) { m(i, i.wrapped) }
                        return e(p(i, null, i.tmpl(e, i))) }
                    if (!t) {
                        return [] }
                    if (typeof n === "function") { n = n.call(i || {}) }
                    if (r && r.wrapped) { m(r, r.wrapped) }
                    u = e.isArray(n) ? e.map(n, function(e) {
                        return e ? h(r, i, t, e) : null }) : [h(r, i, t, n)];
                    return f ? e(p(i, null, u)) : u }, tmplItem: function(t) {
                    var n;
                    if (t instanceof e) { t = t[0] }
                    while (t && t.nodeType === 1 && !(n = e.data(t, "tmplItem")) && (t = t.parentNode)) {}
                    return n || a }, template: function(t, n) {
                    if (n) {
                        if (typeof n === "string") { n = v(n) } else if (n instanceof e) { n = n[0] || {} }
                        if (n.nodeType) { n = e.data(n, "tmpl") || e.data(n, "tmpl", v(n.innerHTML)) }
                        return typeof t === "string" ? e.template[t] = n : n }
                    return t ? typeof t !== "string" ? e.template(null, t) : e.template[t] || e.template(null, i.test(t) ? t : e(t)) : null }, encode: function(e) {
                    return ("" + e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;") } });
            e.extend(e.tmpl, { tag: { tmpl: { _default: { $2: "null" }, open: "if($notnull_1){_=_.concat($item.nest($1,$2));}" }, wrap: { _default: { $2: "null" }, open: "$item.calls(_,$1,$2);_=[];", close: "call=$item.calls();_=call._.concat($item.wrap(call,_));" }, each: { _default: { $2: "$index, $value" }, open: "if($notnull_1){$.each($1a,function($2){with(this){", close: "}});}" }, "if": { open: "if(($notnull_1) && $1a){", close: "}" }, "else": { _default: { $1: "true" }, open: "}else if(($notnull_1) && $1a){" }, html: { open: "if($notnull_1){_.push($1a);}" }, "=": { _default: { $1: "$data" }, open: "if($notnull_1){_.push($.encode($1a));}" }, "!": { open: "" } }, complete: function(e) { s = {} }, afterManip: function(n, r, i) {
                    var s = r.nodeType === 11 ? e.makeArray(r.childNodes) : r.nodeType === 1 ? [r] : [];
                    i.call(n, r);
                    b(s);
                    l++ } }) })(jQuery) }(t.exports, t, e);
    e.____MODULES["41a7248588fec9d08b74aea5a76b3eba"] = t.exports })(this);
(function(e) {
    var t = { id: "580f229f63062b146d407c92fb4bba94", filename: "hogan-2.0.0-fix.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) { window.Hogan = {};
        (function(e, t) {
            function a(e) {
                return String(e === null || e === undefined ? "" : e) }

            function f(e) { e = a(e);
                return u.test(e) ? e.replace(n, "&amp;").replace(r, "&lt;").replace(i, "&gt;").replace(s, "&#39;").replace(o, "&quot;") : e }
            e.Template = function(e, n, r, i) { this.r = e || this.r;
                this.c = r;
                this.options = i;
                this.text = n || "";
                this.buf = t ? [] : "" };
            e.Template.prototype = { r: function(e, t, n) {
                    return "" }, v: f, t: a, render: function(t, n, r) {
                    return this.ri([t], n || {}, r) }, ri: function(e, t, n) {
                    return this.r(e, t, n) }, rp: function(e, t, n, r) {
                    var i = n[e];
                    if (!i) {
                        return "" }
                    if (this.c && typeof i == "string") { i = this.c.compile(i, this.options) }
                    return i.ri(t, n, r) }, rs: function(e, t, n) {
                    var r = e[e.length - 1];
                    if (!l(r)) { n(e, t, this);
                        return }
                    for (var i = 0; i < r.length; i++) { e.push(r[i]);
                        n(e, t, this);
                        e.pop() } }, s: function(e, t, n, r, i, s, o) {
                    var u;
                    if (l(e) && e.length === 0) {
                        return false }
                    if (typeof e == "function") { e = this.ls(e, t, n, r, i, s, o) }
                    u = e === "" || !!e;
                    if (!r && u && t) { t.push(typeof e == "object" ? e : t[t.length - 1]) }
                    return u }, d: function(e, t, n, r) {
                    var i = e.split("."),
                        s = this.f(i[0], t, n, r),
                        o = null;
                    if (e === "." && l(t[t.length - 2])) {
                        return t[t.length - 1] }
                    for (var u = 1; u < i.length; u++) {
                        if (s && typeof s == "object" && i[u] in s) { o = s;
                            s = s[i[u]] } else { s = "" } }
                    if (r && !s) {
                        return false }
                    if (!r && typeof s == "function") { t.push(o);
                        s = this.lv(s, t, n);
                        t.pop() }
                    return s }, f: function(e, t, n, r) {
                    var i = false,
                        s = null,
                        o = false;
                    for (var u = t.length - 1; u >= 0; u--) { s = t[u];
                        if (s && typeof s == "object" && e in s) { i = s[e];
                            o = true;
                            break } }
                    if (!o) {
                        return r ? false : "" }
                    if (!r && typeof i == "function") { i = this.lv(i, t, n) }
                    return i }, ho: function(e, t, n, r, i) {
                    var s = this.c;
                    var o = this.options;
                    o.delimiters = i;
                    var r = e.call(t, r);
                    r = r == null ? String(r) : r.toString();
                    this.b(s.compile(r, o).render(t, n));
                    return false }, b: t ? function(e) { this.buf.push(e) } : function(e) { this.buf += e }, fl: t ? function() {
                    var e = this.buf.join("");
                    this.buf = [];
                    return e } : function() {
                    var e = this.buf;
                    this.buf = "";
                    return e }, ls: function(e, t, n, r, i, s, o) {
                    var u = t[t.length - 1],
                        a = null;
                    if (!r && this.c && e.length > 0) {
                        return this.ho(e, u, n, this.text.substring(i, s), o) }
                    a = e.call(u);
                    if (typeof a == "function") {
                        if (r) {
                            return true } else if (this.c) {
                            return this.ho(a, u, n, this.text.substring(i, s), o) } }
                    return a }, lv: function(e, t, n) {
                    var r = t[t.length - 1];
                    var i = e.call(r);
                    if (typeof i == "function") { i = a(i.call(r));
                        if (this.c && ~i.indexOf("{{")) {
                            return this.c.compile(i, this.options).render(r, n) } }
                    return a(i) } };
            var n = /&/g,
                r = /</g,
                i = />/g,
                s = /\'/g,
                o = /\"/g,
                u = /[&<>\"\']/;
            var l = Array.isArray || function(e) {
                return Object.prototype.toString.call(e) === "[object Array]" } })(Hogan);
        (function(e) {
            function u(e) {
                if (e.n.substr(e.n.length - 1) === "}") { e.n = e.n.substring(0, e.n.length - 1) } }

            function a(e) {
                if (e.trim) {
                    return e.trim() }
                return e.replace(/^\s*|\s*$/g, "") }

            function f(e, t, n) {
                if (t.charAt(n) != e.charAt(0)) {
                    return false }
                for (var r = 1, i = e.length; r < i; r++) {
                    if (t.charAt(n + r) != e.charAt(r)) {
                        return false } }
                return true }

            function l(e, t, n, r) {
                var i = [],
                    s = null,
                    o = null;
                while (e.length > 0) { o = e.shift();
                    if (o.tag == "#" || o.tag == "^" || c(o, r)) { n.push(o);
                        o.nodes = l(e, o.tag, n, r);
                        i.push(o) } else if (o.tag == "/") {
                        if (n.length === 0) {
                            throw new Error("Closing tag without opener: /" + o.n) }
                        s = n.pop();
                        if (o.n != s.n && !h(o.n, s.n, r)) {
                            throw new Error("Nesting error: " + s.n + " vs. " + o.n) }
                        s.end = o.i;
                        return i } else { i.push(o) } }
                if (n.length > 0) {
                    throw new Error("missing closing tag: " + n.pop().n) }
                return i }

            function c(e, t) {
                for (var n = 0, r = t.length; n < r; n++) {
                    if (t[n].o == e.n) { e.tag = "#";
                        return true } } }

            function h(e, t, n) {
                for (var r = 0, i = n.length; r < i; r++) {
                    if (n[r].c == e && n[r].o == t) {
                        return true } } }

            function p(e) {
                return e.replace(s, "\\\\").replace(n, '\\"').replace(r, "\\n").replace(i, "\\r") }

            function d(e) {
                return ~e.indexOf(".") ? "d" : "f" }

            function v(e) {
                var t = "";
                for (var n = 0, r = e.length; n < r; n++) {
                    var i = e[n].tag;
                    if (i == "#") { t += m(e[n].nodes, e[n].n, d(e[n].n), e[n].i, e[n].end, e[n].otag + " " + e[n].ctag) } else if (i == "^") { t += g(e[n].nodes, e[n].n, d(e[n].n)) } else if (i == "<" || i == ">") { t += y(e[n]) } else if (i == "{" || i == "&") { t += b(e[n].n, d(e[n].n)) } else if (i == "\n") { t += E('"\\n"' + (e.length - 1 == n ? "" : " + i")) } else if (i == "_v") { t += w(e[n].n, d(e[n].n)) } else if (i === undefined) { t += E('"' + p(e[n]) + '"') } }
                return t }

            function m(e, t, n, r, i, s) {
                return "if(_.s(_." + n + '("' + p(t) + '",c,p,1),' + "c,p,0," + r + "," + i + ',"' + s + '")){' + "_.rs(c,p," + "function(c,p,_){" + v(e) + "});c.pop();}" }

            function g(e, t, n) {
                return "if(!_.s(_." + n + '("' + p(t) + '",c,p,1),c,p,1,0,0,"")){' + v(e) + "};" }

            function y(e) {
                return '_.b(_.rp("' + p(e.n) + '",c,p,"' + (e.indent || "") + '"));' }

            function b(e, t) {
                return "_.b(_.t(_." + t + '("' + p(e) + '",c,p,0)));' }

            function w(e, t) {
                return "_.b(_.v(_." + t + '("' + p(e) + '",c,p,0)));' }

            function E(e) {
                return "_.b(" + e + ");" }
            var t = /\S/,
                n = /\"/g,
                r = /\n/g,
                i = /\r/g,
                s = /\\/g,
                o = { "#": 1, "^": 2, "/": 3, "!": 4, ">": 5, "<": 6, "=": 7, _v: 8, "{": 9, "&": 10 };
            e.scan = function(n, r) {
                function S() {
                    if (v.length > 0) { m.push(new String(v));
                        v = "" } }

                function x() {
                    var e = true;
                    for (var n = b; n < m.length; n++) { e = m[n].tag && o[m[n].tag] < o["_v"] || !m[n].tag && m[n].match(t) === null;
                        if (!e) {
                            return false } }
                    return e }

                function T(e, t) { S();
                    if (e && x()) {
                        for (var n = b, r; n < m.length; n++) {
                            if (!m[n].tag) {
                                if ((r = m[n + 1]) && r.tag == ">") { r.indent = m[n].toString() }
                                m.splice(n, 1) } } } else if (!t) { m.push({ tag: "\n" }) }
                    g = false;
                    b = m.length }

                function N(e, t) {
                    var n = "=" + E,
                        r = e.indexOf(n, t),
                        i = a(e.substring(e.indexOf("=", t) + 1, r)).split(" ");
                    w = i[0];
                    E = i[1];
                    return r + n.length - 1 }
                var i = n.length,
                    s = 0,
                    l = 1,
                    c = 2,
                    h = s,
                    p = null,
                    d = null,
                    v = "",
                    m = [],
                    g = false,
                    y = 0,
                    b = 0,
                    w = "{{",
                    E = "}}";
                if (r) { r = r.split(" ");
                    w = r[0];
                    E = r[1] }
                for (y = 0; y < i; y++) {
                    if (h == s) {
                        if (f(w, n, y)) {--y;
                            S();
                            h = l } else {
                            if (n.charAt(y) == "\n") { T(g) } else { v += n.charAt(y) } } } else if (h == l) { y += w.length - 1;
                        d = o[n.charAt(y + 1)];
                        p = d ? n.charAt(y + 1) : "_v";
                        if (p == "=") { y = N(n, y);
                            h = s } else {
                            if (d) { y++ }
                            h = c }
                        g = y } else {
                        if (f(E, n, y)) { m.push({ tag: p, n: a(v), otag: w, ctag: E, i: p == "/" ? g - E.length : y + w.length });
                            v = "";
                            y += E.length - 1;
                            h = s;
                            if (p == "{") {
                                if (E == "}}") { y++ } else { u(m[m.length - 1]) } } } else { v += n.charAt(y) } } }
                T(g, true);
                return m };
            e.generate = function(t, n, r) {
                var i = 'var _=this;_.b(i=i||"");' + v(t) + "return _.fl();";
                if (r.asString) {
                    return "function(c,p,i){" + i + ";}" }
                return new e.Template(new Function("c", "p", "i", i), n, e, r) };
            e.parse = function(e, t, n) { n = n || {};
                return l(e, "", [], n.sectionTags || []) }, e.cache = {};
            e.compile = function(e, t) { t = t || {};
                var n = e + "||" + !!t.asString;
                var r = this.cache[n];
                if (r) {
                    return r }
                r = this.generate(this.parse(this.scan(e, t.delimiters), e, t), e, t);
                return this.cache[n] = r } })(Hogan) }(t.exports, t, e);
    e.____MODULES["580f229f63062b146d407c92fb4bba94"] = t.exports })(this);
(function(e) {
    var t = { id: "c856aeec5c93b857f6d47e98e7ef6810", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["580f229f63062b146d407c92fb4bba94"] }(t.exports, t, e);
    e.____MODULES["c856aeec5c93b857f6d47e98e7ef6810"] = t.exports })(this);
(function(e) {
    var t = { id: "e10cea9267c239b22c80d1b2b5a0fb83", filename: "hogan-2.0.0.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["c856aeec5c93b857f6d47e98e7ef6810"] }(t.exports, t, e);
    e.____MODULES["e10cea9267c239b22c80d1b2b5a0fb83"] = t.exports })(this);
(function(e) {
    var t = { id: "93c0a4ba87409208de0ceb75eb6ca239", filename: "dialog.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof QNR == "undefined") { window.QNR = {} }(function() {
            var e = $("<div></div>");
            QNR.dialog = function(e) {
                if (typeof e == "string") { e = { html: e } }
                this.config = $.extend({ mask: false, buttons: [{ name: "确定", event: function() { this.hide() } }], title: false, html: "", width: 300, closeButton: true, className: "", template: "", autoCenter: true }, e);
                this.init();
                this.render();
                this.bindEvents();
                this.initCommon() };
            var t = function() {};
            var n = function(e) {
                var r = $("<div></div>");
                r.hide().appendTo(document.body);
                r.css({ position: "absolute", "z-index": "3000", opacity: $.type(e) === "number" ? e : .5, top: 0, left: 0, width: "100%", background: "#000" });
                if ($.browser.mozilla) { r.unbind("DOMMouseScroll").bind("DOMMouseScroll", function(e) { e.preventDefault() }) } else { r.unbind("mousewheel").bind("mousewheel", function(e) { e.preventDefault() }) }
                n = function() {
                    var e = $(window).height() > $(document.body).height() ? $(window).height() : $(document.body).height() + "px";
                    var t = $(window).width() + "px";
                    r.css({ height: e }).show() };
                t = function() { r.hide() };
                n() };
            QNR.htmlDialog = function(e, t) { this.config = $.extend({ mask: true, autoCenter: true }, t);
                this.init(e);
                this.initCommon() };
            var r = { remove: function() { this.dom.remove() }, xy: function(e, t) {
                    if (typeof e == "object") {
                        var t = e.top;
                        e = e.left }
                    this.dom.css("left", e + "px");
                    this.dom.css("top", t + "px") }, initCommon: function() { this.hide();
                    this.body.append(this.dom) }, append: function() { this.append = function() { this.dom.show() };
                    this.append();
                    e.bind("dialog-show", $.proxy(function(e, t) {
                        if (this != t) { this.dom.hide() } }, this)) }, show: function() {
                    if (this.config.mask) { n(this.config.maskOpacity) }
                    var t = this;
                    this.xy(-1e4, -1e4);
                    this.append();
                    if (this.config.autoCenter) { setTimeout(function() { t.update() }, 1) }
                    e.trigger("dialog-show", [this]) }, update: function() {
                    var e = parseInt(this.dom.css("height"));
                    var t = parseInt(this.dom.css("width"));
                    var n = document.documentElement.clientHeight;
                    var r = document.body.clientHeight;
                    var i = n > r && r > 0 ? r : r > n && n > 0 ? n : r || n;
                    var s = document.body.scrollTop || document.documentElement.scrollTop;
                    var o = parseInt((i - e) / 2) + s;
                    var u = "50%";
                    if (o < 0) { o = 0 } else { o = o + "px" }
                    this.dom.css({ left: u, top: o, "margin-left": -parseInt(t / 2) + "px" }) }, hide: function() {
                    if (this.config.nohide) { this.xy(-1e4, -1e4) } else { this.dom.hide() }
                    if (this.config.mask) { t() } }, trigger: function(e, t) { this.eve.trigger(e, t);
                    return this }, bind: function(e, t) { this.eve.bind(e, t);
                    return this } };
            $.extend(QNR.htmlDialog.prototype, r, { init: function(e) { this.body = $(document.body);
                    this.eve = $("<div></div>");
                    this.dom = $(e);
                    this.dom.css({ position: "absolute", "z-index": 3001 });
                    this.bindEvents() }, bindEvents: function() {
                    var e = this;
                    this.dom.find("[js-dialog-action]").bind("click", function(t) {
                        if (this.tagName == "A") { t.preventDefault() }
                        var n = $(this);
                        var r = n.attr("js-dialog-action");
                        e.trigger(r) }) } });
            $.extend(QNR.dialog.prototype, r, { init: function() { this.body = $(document.body);
                    this.eve = $("<div></div>");
                    if (this.config.buttons instanceof Array) {
                        for (var e = 0, t; e < this.config.buttons.length; e++) { t = this.config.buttons[e];
                            if (!t.name) { t.name = "确定" } } } else if (typeof this.config.buttons == "object") {
                        var n = [];
                        for (var r in this.config.buttons) { n.push({ event: this.config.buttons[r], name: r }) }
                        this.config.buttons = n } }, render: function() {
                    var e = '<div class="common-dialog"><h3 class="dialog-title" item="title"></h3><div class="dialog-inner" item="inner"></div><div class="action" item="action"></div><a class="dialog-close" href="javascript:void(0)" item="close">&times;</a></div>';
                    this.dom = $(e);
                    var t = {};
                    this.dom.find("[item]").each(function() { t[$(this).attr("item")] = $(this) });
                    if (this.config.title) { t.title.text(this.config.title) } else { t.title.remove() }
                    if (this.config.buttons && this.config.buttons.length) {
                        var n = [];
                        $.each(this.config.buttons, function(e) { n.push('<a href="javascript:void(0)" class="dialog-button" eve="button' + e + '">' + this.name + "</a>") });
                        t.action.html(n.join("")) } else { t.action.remove() }
                    t.inner.width(this.config.width).html(this.config.html || "");
                    this.items = t;
                    this.dom.css({ position: "absolute", "z-index": 3001 }) }, bindEvents: function() {
                    if (this.config.buttons || this.config.buttons.length) {
                        for (var e = 0, t; e < this.config.buttons.length; e++) { t = this.config.buttons[e];
                            if (typeof t.event == "function") { this.bind("button" + e, $.proxy(t.event, this)) } } }
                    this.items.close.bind("click", $.proxy(function(e) { e.preventDefault();
                        this.hide() }, this));
                    this.items.action.find("[eve]").each($.proxy(function(e, t) {
                        var n = $(t);
                        n.bind("click", $.proxy(function(e) { e.preventDefault();
                            this.trigger(n.attr("eve")) }, this)) }, this)) } });
            QNR.dialog.hide = function() { e.trigger("dialog-show", [false]);
                t() } })() }(t.exports, t, e);
    e.____MODULES["93c0a4ba87409208de0ceb75eb6ca239"] = t.exports })(this);
(function(e) {
    var t = { id: "17ed7398c21c0f9ceddb3d3973da0dd4", filename: "SimpleCalculator.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof QNR == "undefined") { window.QNR = {} }
        QNR.SimpleCalculator = function(e) {
            function l(t, n) {
                if (!t && !t.jquery || t.length < 1 || t[0].nodeType !== 1 && t.nodeType !== 1) {
                    var r = t ? t.selector : "";
                    return false }
                this.options = e.extend({}, a, n);
                this._jqRootElement = e(f).insertBefore(e(t));
                this._jqAddBtn = null;
                this._jqSubBtn = null;
                this._jqInput = null;
                this._jqHint = null;
                this._hintTimeout = null;
                this._init() }
            var t = "valuecomb_disable",
                n = "increase_hover",
                r = "decrease_hover",
                i = ".increase",
                s = ".decrease",
                o = "sub",
                u = "add";
            var a = { defaultValue: 0, minValue: 0, maxValue: Number.MAX_VALUE, rule: 1 };
            var f = ['<div class="valuecomb" >', '<span class="hint" style="display:none">', '<span class="arrow"></span>', '<span class="hintContent"></span>', "</span>", '<span onselectstart="return false;" style="-moz-user-select:none;" class="decrease"></span>', '<span class="ct">', '<input type="text" class="textbox" >', "</span>", '<span onselectstart="return false;" style="-moz-user-select:none;"  class="increase"></span>', "</div>"].join("");
            e.extend(l.prototype, { getValue: function(e) {
                    if (!this._jqInput) {
                        return 0 }
                    var t = this._jqInput.val();
                    if (this.options.rule == 1) {
                        return e === "string" ? t : parseInt(t, 10) } else if (this.options.rule) {
                        return parseFloat(t) } }, setValue: function(e, t, n) {
                    if (this._jqInput && this._jqInput.length) { this._jqInput.val(e) }
                    if (t == true) { this._checkBtnStatus(e) } else { this._inputChangeHandler(n) }
                    return this }, setMinValueOfOptions: function(t) {
                    if (e.type(t) !== "number" || !this.options) {
                        return }
                    this.options.minValue = t;
                    this._checkBtnStatus(this.getValue());
                    return this }, setMaxValueOfOptions: function(t) {
                    if (e.type(t) !== "number" || !this.options) {
                        return }
                    this.options.maxValue = t;
                    this._checkBtnStatus(this.getValue());
                    return this }, show: function() { this._jqRootElement.show() }, hide: function() { this._jqRootElement.hide() }, _init: function() { this._getNeededNodes();
                    this._initEvents();
                    this.setValue(this.options.defaultValue, true);
                    this._checkBtnStatus(this.options.defaultValue);
                    if (!isNaN(this.options.zIndex)) { this._jqRootElement.css("zIndex", this.options.zIndex) } }, _getNeededNodes: function() { this._jqSubBtn = this._jqRootElement.find(s);
                    this._jqAddBtn = this._jqRootElement.find(i);
                    this._jqInput = this._jqRootElement.find("input");
                    this._jqInput.attr("autoComplete", false);
                    this._jqHint = this._jqRootElement.find(".hint") }, _initEvents: function() {
                    var t = this;
                    this._jqSubBtn.click(function(e) { t._subBtnClickHandler(e, "__sub__") }).hover(function() { t._btnMouseoverHandler(this) }, function() { t._btnMouseoutHandler(this) });
                    this._jqAddBtn.click(function(e) { t._addBtnClickHandler(e, "__add__") }).hover(function() { t._btnMouseoverHandler(this) }, function() { t._btnMouseoutHandler(this) });
                    this._jqInput.bind(this._isIE8AndBelow() ? "keydown paste" : "input", function(e) { setTimeout(function() { t._inputChangeHandler(e) }) }).blur(function() { t._inputBlurHandler() });
                    var n = this.options.onChange;
                    if (typeof n === "function") { e(this).bind("change", function(e, t) { n(e, t, this._jqInput) }) } }, _inputChangeHandler: function(t) {
                    var n = this.getValue("string");
                    if (n === "") {
                        return }
                    var r = e(this).data("inputValidVal");
                    var i = isNaN(n);
                    var s = parseInt(this.options.rule) == 0 ? parseFloat(n) : parseInt(n, 10);
                    if (i) { newCurrentIntVal = r ? this.options.minValue : this.options.defaultValue } else if (s <= this.options.minValue) { newCurrentIntVal = this.options.minValue } else if (s > this.options.maxValue) { newCurrentIntVal = this.options.maxValue } else { newCurrentIntVal = s }
                    if (!t) { newCurrentIntVal = this.options.minValue }
                    e(this).data("inputValidVal", newCurrentIntVal);
                    this._checkBtnStatus(newCurrentIntVal);
                    this._jqInput.val(newCurrentIntVal);
                    if (newCurrentIntVal !== r) { e(this).trigger("change", [newCurrentIntVal]) } }, _inputBlurHandler: function() {
                    if (e.trim(this.getValue("string")) === "") { this.setValue(this.options.minValue) } }, _btnMouseoverHandler: function(s) {
                    var o = e(s);
                    if (o.hasClass(t)) {
                        return }
                    o.addClass("." + o.attr("class") === i ? n : r) }, _btnMouseoutHandler: function(t) { e(t).removeClass(n).removeClass(r) }, _addBtnClickHandler: function(e) {
                    if (this._jqAddBtn.hasClass(t)) { this._showHint("add");
                        return }
                    var r = this.getValue();
                    this.setValue(r + this.options.rule, "__add__", e);
                    if (r + this.options.rule >= this.options.maxValue) { this._jqAddBtn.removeClass(n) } }, _subBtnClickHandler: function(e) {
                    if (this._jqSubBtn.hasClass(t)) { this._showHint("sub");
                        return }
                    var n = this.getValue();
                    this.setValue(n - this.options.rule, "__sub__", e);
                    if (n - this.options.rule <= this.options.minValue) { this._jqSubBtn.removeClass(r) } }, _showHint: function(e) { clearTimeout(this._hintTimeout);
                    this._jqHint.removeClass(o + " " + u);
                    this._jqHint.addClass(e === "add" ? u : o);
                    var t = "最" + (e === "add" ? "大" : "小") + "值不能" + (e === "add" ? "大于" : "小于") + (e === "add" ? this.options.maxValue : this.options.minValue);
                    if (this.options.descSchemes == "two") {
                        var n = this.options.unitStr || "";
                        t = e == "add" ? "亲，该产品最多只能预订" + this.options.maxValue + n + "哦！" : "亲，该产品最少" + this.options.minValue + n + "起订哦！" }
                    this._jqHint.find(".hintContent").text(t);
                    this._jqHint.show();
                    var r = this;
                    this._hintTimeout = setTimeout(function() { r._jqHint.hide() }, 1500) }, _checkBtnStatus: function(e) {
                    if (this.options) { e <= this.options.minValue ? this._jqSubBtn.addClass(t) : this._jqSubBtn.removeClass(t);
                        e >= this.options.maxValue ? this._jqAddBtn.addClass(t) : this._jqAddBtn.removeClass(t) } }, _isIE8AndBelow: function() {
                    return e.browser.msie && parseInt(e.browser.version) < 9 } });
            return l }(jQuery) }(t.exports, t, e);
    e.____MODULES["17ed7398c21c0f9ceddb3d3973da0dd4"] = t.exports })(this);
(function(e) {
    var t = { id: "aef8671e579147e0078483172848e472", filename: "tip.model.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof QNR == "undefined") { window.QNR = {} }(function() {
            function e() { this.init() }
            e.TIP_CONFIG = { 0: { empty: "请填写英文名字", err: "英文名字必须为英文", userfor: "英文名字" }, "001": { empty: "请填写供应商产品ID", err: "供应商产品ID不能为空", userfor: "productID" }, 1: { empty: "请填入产品名称", err: "产品名称不可超过100字", userfor: "productTitle" }, 2: { empty: "请至少选择两项", err: "请至少选择两项", userfor: "daily_day_num" }, 3: { empty: "行程天数不能为空", err: "请填入1-40的数字", focus: "请填入1-40的数字", userfor: "行程天数" }, 4: { empty: "请填入1-100的数字", err: "请填入1-100的数字", focus: "请填入0-100的数字", userfor: "Advance_registration" }, 5: { empty: "出发地不可为空", err: "出发地必须由suggest选择", focus: "请输入出发地或选择出发地", userfor: "departure" }, 6: { empty: "目的地不可为空", err: "目的地必须由suggest选择", focus: "请输入出发地或选择出发地，回车键添加或是点击添加", userfor: "arrival" }, 7: { err: "产品大交通不得往返均为自理", empty: "请选择往返交通类型", tip: "请到产品详情页核查交通信息的填写情况" }, 8: { empty: "提前天数不可为空", err: "请填入数字", userfor: "提前预定设置" }, Advance_day_desc: { empty: "提前预定描述不能为空", err: "提前预定描述不能为空" }, 9: { empty: "图片限2M以下，限一张，格式 jpg、jpeg、png", err: "请上传产品主图", right: "" }, 10: { empty: "图片限2M以下，限一张，格式 jpg、jpeg、png", err: "" }, 11: { empty: "请填写产品副标题", err: "产品副标题不可为空", down: true }, 12: { empty: "产品特色设置不能为空", err: "产品特色设置不能为空", right: "" }, 13: { empty: "请选择两项以上的自由行类别", err: "自由行类别至少包含两项", right: "" }, 14: { empty: "请填写行程内容", err: "行程内容不能为空", right: "" }, 15: { empty: "请选择长短途", err: "长短途必须选择一项", right: "" }, 16: { empty: "请填写优惠描述", err: "优惠描述不能为空", right: "" }, 17: { empty: "请填写入住晚数", err: "入住晚数必须为数字，且必须小于行程天数。", right: "", userfor: "入住晚数" }, 18: { empty: "请填其他信息", err: "其他信息不能为空", right: "", userfor: "其他信息" }, 19: { empty: "请填写航线名称", err: "请填写航线名称", right: "", userfor: "航线名称" }, 20: { empty: "请填写上船地点", err: "上船地点不合法", right: "", userfor: "上船地点" }, 21: { empty: "请填写下船地点", err: "下船地点不合法", right: "", userfor: "下船地点" }, 22: { empty: "请填写途径港口", err: "途径港口不能为空", right: "", userfor: "途径港口" }, 23: { empty: "请填写邮轮名称", err: "请选择输入suggest列表中的游轮名称", right: "", userfor: "邮轮名称" }, 24: { empty: "提前预定天数不可为空", err: "请填入正确的数字", userfor: "提前预定设置" }, 25: { empty: "住宿必须选择一项", err: "请选择一项", userfor: "邮轮住宿" }, 26: { empty: "请填写到港时间", err: "到港时间格式不正确", userfor: "邮轮住宿" }, 27: { empty: "请填写离港时间", err: "离港时间格式不正确", userfor: "邮轮住宿" }, 28: { empty: "请填写货币种类", err: "请填写货币种类", userfor: "货币种类" }, 31: { empty: "请填写供应商景区ID", err: "供应商景区ID不能为空", right: "" }, 32: { empty: "请填写门票产品ID", err: "门票产品ID不能为空", right: "" }, 33: { empty: "请填写门票名称", err: "门票名称不能为空", right: "" }, 34: { empty: "请填写所在景区", err: "所在景区不能为空", right: "" }, 35: { empty: "请选择需要旅客信息", err: "旅客信息必须选择一项", right: "" }, 36: { empty: "请填写推荐理由", err: "推荐理由不能为空", right: "" }, 37: { empty: "请填写资源ID", err: "资源ID不能未空", right: "" }, 123: { empty: "请填写推荐理由", err: "推荐理由不能为空", down: true }, 41: { empty: "航班不能为空", err: "请填写正确的航班", userfor: "详情交通", tag: "飞机航班号" }, 42: { empty: "始发地不能为空", err: "始发地填写错误", userfor: "详情交通", tag: "出发地" }, 43: { empty: "目的地不能为空", err: "目的地填写错误", userfor: "详情交通", tag: "详情页目的地" }, 44: { empty: "起飞机场不能为空", err: "起飞机场填写错误", userfor: "详情交通", tag: "起飞机场" }, 45: { empty: "请填写正确起飞时间", err: "请填写正确起飞时间", userfor: "详情交通", tag: "起飞时间" }, 46: { empty: "到达机场不能为空", err: "到达机场填写错误", userfor: "详情交通", tag: "到达机场" }, 47: { empty: "飞机型号不能为空", err: "飞机型号不能为空", userfor: "详情交通", tag: "飞机类型" }, 48: { empty: "到达机场不能为空", err: "到达机场填写错误", userfor: "详情交通", tag: "到达机场" }, 49: { empty: "到达时间不能为空", err: "到达时间填写错误", userfor: "详情交通", tag: "到达时间" }, 50: { empty: "门票名称不能为空", err: "门票名称不能为空", userfor: "详情门票", tag: "门票名称" }, 51: { empty: "请输入酒店所在地", err: "酒店所在地不能为空", userfor: "详情交通", tag: "酒店所在地 " }, 52: { empty: "请输入酒店名称", err: "酒店名称不能为空", userfor: "详情交通", tag: "酒店所在地 " }, 54: { empty: "集合地信息设置不能为空", err: "集合地信息不能为空", right: "", tip: "请注明集合时间、集合地点、注意事项等相关信息" }, 541: { empty: "集合地信息设置不能为空", err: "集合地信息不能为空", right: "", tip: '<span style="color:#ccc;">请注明集合时间、集合地点、注意事项等相关信息</span>' }, 55: { empty: "请选择参团方式", err: "参团方式必须选择一项", right: "" }, 56: { empty: "请选择有无购物", err: "有无购物必须选择一项", right: "" }, 57: { empty: "请选择电子合同模版", err: "电子合同模版必须选择一项", right: "" }, daily_day: { empty: "", err: "行程不能超过100个汉字" }, daily_desc: { empty: "", err: "行程内容不能为空" }, 71: { empty: "", err: "请填写正确的金额" }, 60: { empty: "请输入产品名称", err: "您输入的字数超限，请限制在16个汉字之内" }, 61: { empty: "请输入价格", err: "请输入1-9999之间的整数" }, 62: { empty: "请输入推荐理由", err: "您输入的字数超限，请限制在1024个汉字之内" }, 63: { empty: "请输入费用包含", err: "您输入的字数超限，请限制在1024个汉字之内", userfor: "自定义产品" }, 100: { empty: "请填写车次类型", err: "车次类型不能为空", userfor: "火车车次类型" }, 101: { empty: "请填写上车站点", err: "上车站点必须是字母和汉字", userfor: "火车上车站点" }, 102: { empty: "请填写发车时间", err: "发车时间不能为空", userfor: "火车发车时间" }, 103: { empty: "请填写下车站点", err: "下车站点必须是字母和汉字", userfor: "火车下车时间" }, 104: { empty: "请填写到站时间", err: "到站时间不能为空", userfor: "火车到站时间" }, 105: { empty: "请填写座位类型", err: "座位类型不能为空", userfor: "火车座位类型" }, 106: { empty: "请输入发车时间", err: "发车时间不能为空", userfor: "汽车发车时间" }, 107: { empty: "请输入到达时间", err: "到达时间不能为空", userfor: "汽车到达时间" }, 108: { empty: "请输入集合时间", err: "集合时间不能为空", userfor: "汽车集合时间" }, 109: { empty: "请输入集合地点", err: "集合地点必须是字母和汉字", userfor: "汽车集合地点" }, 110: { empty: "请输入证件名称", err: "证件名称不能为空" }, 111: { empty: "请输入资料名称", err: "资料名称不能为空" }, 112: { empty: "请输入详细描述", err: "详细描述不能为空且不能超长" }, 113: { empty: "请上传附件", err: "附件不能为空" }, 114: { empty: "请输入受理范围", err: "受理范围不能为空" }, 115: { empty: "请选择签证类型", err: "签证类型不能为空" }, 116: { empty: "请选择保证金", err: "保证金必须选择" }, 117: { empty: "请选择是否面试", err: "是否面试必须选择" }, 118: { empty: "请选择办理地点", err: "办理地点必须选择" }, 119: { empty: "不允许为空", err: "请正确填写提前天数,范围为0-60天" }, 120: { empty: "请填写行程天数", err: "行程天数须输入正整数" }, 121: { err: "不能超过22个字符" }, 122: { err: "不能超8个字符", empty: "不能超8个字符" }, 123: { empty: "住宿详情不允许为空", err: "请填写正确的住宿详情" }, 124: { empty: "请选择住宿类别", err: "请选择正确的住宿类别" }, 125: { empty: "请选择住宿类别", err: "请选择正确的住宿类别" }, 130: { empty: "产品说明不能为空", err: "产品说明不能超过5000个字" }, 131: { empty: "产品名称不能为空", err: "产品名称不能超过50个字" }, 132: { empty: "取还地点不能为空", err: "取还地点不能超过100个字" }, 133: { empty: "不能为空", err: "填写有误" }, 126: { empty: "", err: "不能超过20个字符", right: "" }, "default": { empty: "不允许为空", err: "不允许为空" } };
            e.ICON_CLASS = { err: "q_bg dis", empty: "q_bg dis", right: "q_bg", tright: "hide" };
            $.extend(e.prototype, { init: function() { $(this).bind("validate", function(e, t) {
                        var n = this.getStatusByNodeName(t);
                        var r = this.getClass(n);
                        var i = this.getTips(t.type, n);
                        t.fn && t.fn({ className: r, text: i }) }) }, getTmpl: function(e) {
                    return this.tmpl[e] }, getTips: function(t, n) { t = t || "default";
                    n = n || "empty";
                    return e.TIP_CONFIG[t][n] }, getClass: function(t) { t = t || "default";
                    return e.ICON_CLASS[t] || "" }, getStatusByNodeName: function(e) {
                    var t = "right";
                    if (e.type == "9") {
                        return e.status }
                    if (e.node) {
                        switch (e.node.nodeName.toLowerCase()) {
                            case "select":
                                t = this.validate_select(e.node);
                                break;
                            case "input":
                                t = this.validate_input(e.node);
                                break;
                            case "textarea":
                                t = this.validate_textArea(e.node);
                                break;
                            default:
                                break } }
                    return t }, validate_select: function(e) {
                    var t = "right";
                    var n = $(e).closest("tr").find(e.nodeName);
                    var r = 0;
                    for (var i = 0; i < n.length; i++) {
                        if (n.get(i).selectedIndex == 0) {
                            return "empty" }
                        r = n.get(i).selectedIndex == 1 ? 1 : 0 }
                    if (r) {
                        return "err" }
                    return t }, validate_input: function(e) {
                    var t = "";
                    if (e.value == "" || e.type != "text" && e.type != "hidden" && !$(e).attr("checked")) {
                        return "empty" } else if (e.value != "") { t = $($(e).attr("dataDom"));
                        if (t && t.val() == "") {
                            return "empty" }
                        return "err" }
                    return "right" }, validate_textArea: function(e) {
                    var t = $(e).data("editor");
                    if (t && t.text().length == 0) {
                        return "err" }
                    if ($(e).val() != "") {
                        if ($(e).val() != $(e).attr("data-jvalidator-placeholder")) {
                            return "err" }
                        return "tright" } else if ($(e).attr("data-jvalidator-placeholder")) {
                        return "empty" }
                    if ($(e).attr("dataDom") && $(e).val() == "") {
                        return "empty" }
                    return "err" }, tmpl: { detail: ['<div class="b_stips b_stips_on b_check_status">', '    <div class="holder">', "         <i></i>", '         <span class="tipscontent"></span>', "    </div>", "</div>"].join(""), common: ['<span class="b_check_status red msg" nodetype="tips">', "<i></i>", '<span class="tipscontent"></span>', "</span>"].join("") } });
            QNR.tips = e })() }(t.exports, t, e);
    e.____MODULES["aef8671e579147e0078483172848e472"] = t.exports })(this);
(function(e) {
    var t = { id: "ce77ddbd38a9d01b7bc90ae3d649aa45", filename: "dlg.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) { window.Dlg = function(e) { e = e || {};
            this.defaultCfg = { tmpl: "", btnTmpl: "", recycle: false, fixTop: -165, drag: false, lock: true, zIndex: 1100, afterClose: null, canClose: true };
            $.extend(this, this.defaultCfg, e);
            this._init() };
        Dlg.prototype = { _init: function() {
                if (this.tmpl) { this.dlg = $(this.tmpl) } else {
                    var e = [],
                        t = "";
                    e.push('<div class="oe_dlg">');
                    e.push('<div class="inner">');
                    e.push('<a class="aclose_btn oe_dlg_close" href="#"></a>');
                    e.push('<div class="oe_dlg_hd"><h2 class="title">提示</h2></div>');
                    e.push('<div class="oe_dlg_bd"></div>');
                    e.push('<div class="oe_dlg_ft">');
                    e.push("</div>");
                    e.push("</div>");
                    e.push("</div>");
                    this.dlg = $(e.join("")) }
                if (!this.canClose) { this.dlg.find(".oe_dlg_close").remove() }
                this.dlg.css({ position: "absolute", zIndex: this.zIndex, display: "none" }).appendTo($("body"));
                this.header = this.dlg.find(".oe_dlg_hd");
                this.body = this.dlg.find(".oe_dlg_bd");
                this.footer = this.dlg.find(".oe_dlg_ft");
                this.width && this.dlg.css("width", this.width);
                this.setBtns([{ text: "确定" }]);
                this._bindEvents() }, _initoverlay: function() { this.overlay = $("<div></div>").addClass("lb_overlay").css({ top: 0, left: 0, width: $(window).width(), height: Math.max($(window).height(), $(document).height()), position: "absolute", zIndex: this.zIndex - 1, display: "none" });
                if (this.bgcolor) { this.overlay.css({ background: this.bgcolor }) }
                if (this.opacity) { this.overlay.css({ opacity: this.opacity }) }
                $("body").append(this.overlay) }, _bindEvents: function() {
                var e = this,
                    t = $(document);
                if (this.canClose) { this.dlg.find(".oe_dlg_close").click(function(t) { t.preventDefault();
                        e.close() }) }
                var n = function(n) {
                    if (n.which == 27) { e.close();
                        t.unbind(n) } };
                this.on("aftershow", function() { t.bind("keyup", n);
                    e.aftershow && e.aftershow() });
                this.on("afterclose", function() { t.unbind("keyup", n) });
                if (this.lock) { this._initoverlay() }
                if (this.drag) { this._initDrag() }
                this.resize() }, on: function(e, t) { this.dlg.bind(e, t) }, off: function(e, t) { this.dlg.unbind(e, t) }, setHeader: function(e) { this.header.html(e) }, setBody: function(e) { this.body.html(e) }, setFooter: function(e) { this.footer.html(e) }, setBtns: function(e) {
                var t = this,
                    n;
                if (!t.btnTmpl) { this.setFooter('<table width="100%"><tr><td align="center"><div class="oe_dlg_btn"></div></td></tr></table>');
                    n = this.footer.find(".oe_dlg_btn") } else { n = this.footer.html("") }
                $(e).each(function(e, r) {
                    var i = t.btnTmpl ? $(t.btnTmpl) : $('<a class="oe_btn btn" hidefocus="true" href="' + (typeof r.href !== "undefined" ? r.href : "#") + '"></a>').css({ display: "inline-block", marginLeft: "10px", fontSize: "12px" });
                    if (r.classname) { i.addClass(r.classname) }
                    i.html(r.text || "确定").click(function(e) {
                        if ($(this).data("clicked")) {
                            return }
                        $(this).data("clicked", true);
                        e.preventDefault();
                        if (typeof r.fn == "function") { r.fn(e, t, i) } else { t.close() }
                        $(this).data("clicked", false) });
                    n.append(i) }) }, _shim: function() {
                var e = this.dlg,
                    t = e.offset(),
                    n = '<iframe frameborder="0" tabindex="-1" src="javascript:;" style="' + "display: block;" + "position: absolute;" + "top:0;" + "left:-1px;" + "width:" + e.outerWidth() + "px;" + "height:" + e.outerHeight() + "px;" + "z-index:-1;" + "filter:alpha(opacity=0)" + '"/>';
                e.append(n) }, show: function() {
                if (this.dlg.triggerHandler("beforeshow") === false) return;
                this.overlay && this.overlay.css({ height: Math.max($(window).height(), $(document).height()) }) && this.overlay.show();
                var e, t = this;
                if (window.self == window.top) { e = $(top).scrollTop() + $(window).height() / 2 - this.dlg.outerHeight() / 2;
                    e = e < 0 ? 0 : e } else {
                    var n;
                    try { n = $(window.parent.document).find("#" + window.name).offset().top * -1 } catch (r) { n = t.fixTop }
                    e = $(parent).scrollTop() + n + $(parent).height() / 2 - this.dlg.outerHeight() / 2;
                    var i = Math.max($(document.body).height(), $(document.documentElement).height());
                    if (e + this.dlg.outerHeight() > i) { e = i - this.dlg.outerHeight() }
                    e = e < 0 ? 0 : e }
                var s = $(document).scrollLeft() + $(window).width() / 2 - this.dlg.outerWidth() / 2;
                this.dlg.css({ top: t.top || e, left: s });
                if (!window.XMLHttpRequest) { this._shim() }
                this.dlg.show();
                this.dlg.triggerHandler("aftershow");
                return this }, close: function() {
                if (this.dlg.triggerHandler("beforeclose") === false) {
                    return }
                this.overlay && this.overlay.hide();
                if (!this.recycle) { this.overlay && this.overlay.remove() }
                this.dlg.hide();
                $("body").css("overflow", "auto");
                this.dlg.triggerHandler("afterclose");
                if (!this.recycle) { this.dlg.remove() }
                this.afterClose && this.afterClose() }, _initDrag: function() { this.isClick = false;
                var e = l = 0;
                var t = this;
                t.position = {};
                this.dlg.mousedown(function(n) { t.isClick = true;
                    e = $(this).css("top");
                    l = $(this).css("left");
                    t.position.defaultX = n.pageX;
                    t.position.defaultY = n.pageY;
                    t.position.left = parseFloat(l);
                    t.position.top = parseFloat(e) });
                this.dlg.mousemove(function(e) {
                    if (!t.isClick) {
                        return }
                    var n = e.pageX,
                        r = e.pageY;
                    var i = parseFloat(n) - t.position.defaultX + t.position.left;
                    var s = parseFloat(r) - t.position.defaultY + t.position.top;
                    var o = $(window).height(),
                        u = $(window).width();
                    i = i <= 0 ? 0 : i + this.offsetWidth > u ? u - this.offsetWidth : i;
                    s = s <= 0 ? 0 : s + this.offsetHeight > o ? o - this.offsetHeight : s;
                    $(this).css({ top: s + "px", left: i + "px" }) });
                this.dlg.mouseup(function(e) { t.isClick = false }) }, resize: function() {
                var e = this;
                $(window).resize(function() {
                    var t = $(window).scrollTop() + ($(window).height() - e.dlg.height()) / 2;
                    var n = ($(window).width() - e.dlg.width()) / 2;
                    e.dlg.css({ top: t + "px", left: n + "px" }) }) } } }(t.exports, t, e);
    e.____MODULES["ce77ddbd38a9d01b7bc90ae3d649aa45"] = t.exports })(this);
(function(e) {
    var t = { id: "25c92b863c154435e92b328ba1138912", filename: "CsSelect.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) { window.CsSelect = function(e, t, n) {
            if (typeof t == "string") { t = document.getElementById(t) }
            var r = this;
            r._value = "";
            r.data = e;
            if (typeof r.data == "undefined" || r.data.length < 1) return;
            this.insertAfter = function(e, t) {
                var n = t.parentNode;
                if (n.lastChild == t) { n.appendChild(e) } else { n.insertBefore(e, t.nextSibling) } };
            var i = [];
            r._CsSelect = document.createElement("div");
            r._CsSelect.className = typeof n === "undefined" ? "csSelect" : "csSelect " + n;
            r._CsStitle = document.createElement("div");
            r._CsStitle.className = "csStitle";
            if (typeof t !== "undefined") { r._CsStitle.innerHTML = t.getAttribute("data-text") }
            r._CsContent = document.createElement("div");
            r._CsContent.className = "csContent";
            r._CsSelect.appendChild(r._CsStitle);
            r._CsSelect.appendChild(r._CsContent);
            r._CsSlist = document.createElement("ul");
            r._CsSlist.className = "csSlist";
            for (var s = 0; s < r.data.length; s++) {
                var o = r.data[s];
                var u = o[0];
                var a = o[1];
                i.push('<li><a style="cursor: pointer;" value="');
                i.push(u);
                i.push('">');
                i.push(a);
                i.push("</a></li>") }
            r._CsSlist.innerHTML = i.join("");
            r._CsContent.appendChild(r._CsSlist);
            if (typeof t !== "undefined") {
                var f = t.parentNode }
            r.insertAfter(r._CsSelect, t);
            r._CsStitle.onclick = function() {
                var e = r._CsSlist;
                var t = document.getElementsByTagName("ul");
                for (var n = 0; n < t.length; n++) {
                    if (t[n].className.indexOf("csSlist") > -1 && t[n] != r._CsSlist) { t[n].style.display = "none" } }
                if (e.style.display != "block") { e.style.visibility = "hidden";
                    e.style.display = "block";
                    if (e.offsetHeight > 200) { e.style.height = "200px" }
                    e.style.visibility = "inherit" } else { e.style.display = "none";
                    e.style.height = "auto" } };
            var l = r._CsSlist.getElementsByTagName("a");
            for (var s = 0; s < l.length; s++) { l[s].onclick = function(e) {
                    var n = e || window.event;
                    var i = n.srcElement || n.target;
                    r._CsStitle.innerHTML = i.innerHTML;
                    t.value = i.getAttribute("value");
                    r._CsSlist.style.display = "none";
                    r.change();
                    return false } }
            this.change = function() {};
            this.hide = function() { r._CsSelect.style.display = "none" };
            this.show = function() { r._CsSelect.style.display = "block" };
            this.setValue = function(e) {
                var n = 0;
                for (var i = 0; i < r.data.length; i++) {
                    if (r.data[i].join("").indexOf(e) > -1) { n = i } }
                r._CsStitle.innerHTML = r.data[n][1];
                t.value = r.data[n][0] };
            this.getValue = function() {
                return t.value };
            if (window.addEventListener) { document.addEventListener("click", function(e) {
                    var t = e || window.event;
                    var n = t.srcElement || t.target;
                    if (n.className == "csStitle") return;
                    var r = document.getElementsByTagName("ul");
                    for (var i = 0; i < r.length; i++) {
                        if (r[i].className.indexOf("csSlist") > -1) { r[i].style.display = "none" } } }, false) } else { document.attachEvent("onclick", function(e) {
                    var t = e || window.event;
                    var n = t.srcElement || t.target;
                    if (n.className == "csStitle") return;
                    var r = document.getElementsByTagName("ul");
                    for (var i = 0; i < r.length; i++) {
                        if (r[i].className.indexOf("csSlist") > -1) { r[i].style.display = "none" } } }) } } }(t.exports, t, e);
    e.____MODULES["25c92b863c154435e92b328ba1138912"] = t.exports })(this);
(function(e) {
    var t = { id: "fb7fc4d30d41136c3aae939e2346e4b5", filename: "calendarCore.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        (function(t) {
            function i(e) { this.opts = t.extend({ currentDay: r.today(), DAYS_HEADER: [0, 1, 2, 3, 4, 5, 6] }, e) }
            var n = e.____MODULES["5f2d93edd6feb76c648e0a993cdde84c"];
            var r = { oneday: 24 * 60 * 60 * 1e3, today: function() {
                    var e = new Date;
                    return new Date(e.getFullYear(), e.getMonth(), e.getDate()) }, format: function(e) {
                    var t = r.toArr(e);
                    return t.join("-") }, toArr: function(e) {
                    var t = e.getFullYear();
                    var n = e.getMonth() + 1;
                    if (n < 10) { n = "0" + n }
                    var r = e.getDate();
                    if (r < 10) { r = "0" + r }
                    return [t, n, r] }, addDay: function(e, t) {
                    return new Date(e.getTime() + r.oneday * t) }, getFirstByMonth: function(e) {
                    return new Date(e.getFullYear(), e.getMonth(), 1) }, getLastByMonth: function(e) {
                    var t = new Date(e.getFullYear(), e.getMonth() + 1, 1);
                    return r.addDay(t, -1) }, parse: function(e) {
                    if (e instanceof Date) {
                        return e } else if (/^\d+$/.test(e)) {
                        return new Date(parseInt(e, 10)) } else {
                        return new Date(Date.parse(e.replace(/-/g, "/"))) } } };
            i.prototype = { today: function() {
                    return this.opts.currentDay }, nextMonth: function() {
                    var e = this.opts.currentDay;
                    this.opts.currentDay = new Date(e.getFullYear(), e.getMonth() + 1, 1);
                    this._refreshTable() }, prevMonth: function() {
                    var e = this.opts.currentDay;
                    this.opts.currentDay = new Date(e.getFullYear(), e.getMonth() - 1, 1);
                    this._refreshTable() }, changeDay: function(e) { this.opts.currentDay = r.parse(e);
                    this._refreshTable() }, refresh: function() { this._refreshTable() }, _wrapItem: function(e) {
                    return { date: new Date(e) } }, _refreshTable: function() {
                    var e = this.opts;
                    var n = r.getFirstByMonth(e.currentDay);
                    var i = r.getLastByMonth(e.currentDay);
                    var s = this._findClosestDateByDay(n, e.DAYS_HEADER[0], true);
                    var o = this._findClosestDateByDay(i, e.DAYS_HEADER[e.DAYS_HEADER.length - 1], false);
                    var u = s.getTime();
                    var a = [];
                    for (var f = 0; f < 6; f++) { a[f] = [];
                        for (var l = 0; l < e.DAYS_HEADER.length; l++) { a[f][l] = this._wrapItem(u);
                            u = u + r.oneday } }
                    t(this).trigger("refreshed", [a]) }, _findClosestDateByDay: function(e, n, i) {
                    var s = this.opts.DAYS_HEADER;
                    var o = t.inArray(e.getDay(), s);
                    if (i) {
                        return r.addDay(e, -o) } else {
                        return r.addDay(e, s.length - o - 1) } } };
            window.DateUtil = r;
            window.CalendarCore = i;
            window.holiday = n })(jQuery) }(t.exports, t, e);
    e.____MODULES["fb7fc4d30d41136c3aae939e2346e4b5"] = t.exports })(this);
(function(e) {
    var t = { id: "889851c385ba5032e77c3b21d9c47bc0", filename: "crossdomainpost.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function(e) {
            function r(e, n, r, s, o) {
                var u = [];
                var a = i(e, n, s, o),
                    f = "ifr" + o,
                    l = "form" + o;
                u.push('<form id="' + l + '" target="' + f + '" action="' + a + '" method="POST">');
                for (var c in r) {
                    if (r.hasOwnProperty(c)) { u.push("<input type='text' name='" + c + "' value='" + r[c] + "' />") } }
                u.push('<input id="hostname" name="" value="' + t + '" />');
                u.push('<input id="proxypath" name="" value="' + n + '" />');
                u.push('<input id="crosscall" name="" value="' + s + '" />');
                u.push('<input id="frameid" name="frameid" value="' + o + '" /></form>');
                u.push('<iframe name="' + f + '" id="' + f + '" src="about:blank"></iframe>');
                return u.join("") }

            function i(e, n, r, i) {
                var s = t,
                    o = e.indexOf("#"),
                    u = [e];
                var a = o < 0 ? "#" : e.substr(o);
                u[u.length] = a;
                if (a.replace(/#/g, "").length) { u.push("&") }
                u[u.length] = "crosspath=" + encodeURIComponent("http://" + s + "/" + n);
                u[u.length] = "&";
                u[u.length] = "crosscall=" + encodeURIComponent(r);
                u[u.length] = "&";
                u[u.length] = "frameid=" + i;
                return u.join("") }
            if (typeof e.QNR === "undefined") { e.QNR = {} }
            var t = e.location.host,
                n = e.document;
            QNR.crossDomainPost = function(t, i, s, o) {
                if (!t) {
                    return }
                o = o || {};
                i = i || {};
                var u = o.timeout || 0,
                    a = "crossDomainPost" + (new Date).getTime(),
                    f = false;
                var l = function() {
                    if (f) {
                        return }
                    if (o.ontimeout) { o.ontimeout(t, i, s, a) }
                    h() };
                var c = function(e) {
                    if (f) {
                        return }
                    if (o.onsuccess) { o.onsuccess(e) }
                    h() };
                var h = function() {
                    var t = n.getElementById(a);
                    t.parentNode.removeChild(t);
                    f = true;
                    e[a] = null };
                e[a] = c;
                var p = r(t, s, i, a, a),
                    d = n.createElement("div");
                d.style.display = "none";
                d.id = a;
                d.innerHTML = p;
                n.body.appendChild(d);
                var v = n.getElementById("form" + a);
                v.submit();
                if (u) { setTimeout(l, u) } } })(this) }(t.exports, t, e);
    e.____MODULES["889851c385ba5032e77c3b21d9c47bc0"] = t.exports })(this);
(function(e) {
    var t = { id: "8a2e592011ba8d57e150be099f8bba87", filename: "inventory-calendar.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof QNR == "undefined") { window.QNR = {} }
        QNR.InventoryCalendar = function() {
            var e = function(e) { this.opts = $.extend({ DAYS_HEADER: [1, 2, 3, 4, 5, 6, 0], DAYS_HEADER_TEXT: ["一", "二", "三", "四", "五", "六", "日"], currentDay: DateUtil.today(), minDay: DateUtil.today(), maxDay: false, onrendered: function() {}, cache: false, clickcancel: true, activeClass: "yellow" }, e);
                if (this.opts.minDay.getTime() > this.opts.currentDay.getTime()) { this.opts.minDay = this.opts.currentDay }
                this.Inventory = new InventoryClass(this.opts);
                this.init() };
            $.extend(e.prototype, { init: function() { $(this.Inventory).bind("q-finish-data", $.proxy(function(e, t) { this.render(t);
                        this.bindEvents();
                        this.opts.onrendered.call(this) }, this));
                    this.Inventory.init() }, render: function(e) { this._renderTitle();
                    this._renderTable(e) }, _renderTitle: function() {
                    var e = "pre_month",
                        t = "next_month";
                    if (this.title) { this.title.remove() }
                    var n = this.getMonth();
                    var r = parseInt(n.split("-")[1], 10);
                    if ((r + 10) % 12 + 1 == this.opts.minDay.getMonth()) { e += " pre_month_last" }
                    if (this.opts.maxDay.getMonth && r % 12 + 1 == this.opts.maxDay.getMonth() + 2) { t += " next_month_last" }
                    var i = [];
                    i.push('<h3 class="date"><a href="javascript:void(0)" class="', e, '" placeholder="prev"></a>');
                    i.push('<span placeholder="current"></span><span class="a_blue" style="display: none" placeholder="allcheck">全选<input type="checkbox" /></span>');
                    i.push('<a href="javascript:void(0)" class="', t, '" placeholder="next"></a></h3>');
                    this.title = $(i.join(""));
                    this.title.find('[placeholder="current"]').html(n.replace("-", "年") + "月");
                    this.title.find('[placeholder="prev"]').html((r + 10) % 12 + 1 + "月");
                    this.title.find('[placeholder="next"]').html(r % 12 + 1 + "月");
                    this.opts.parent.append(this.title) }, _renderTable: function(e) { this.data = {};
                    this.dataIndex = {};
                    if (this.table) { this.table.remove() }
                    var t, n, r = [];
                    r.push('<table class="calendar_date">');
                    r.push("<thead><tr>");
                    for (var i = 0; i < this.opts.DAYS_HEADER_TEXT.length; i++) {
                        if (this.opts.DAYS_HEADER[i] < 6 && this.opts.DAYS_HEADER[i] > 0) { r.push('<th class="col">') } else if (this.opts.DAYS_HEADER[i] == 0) { r.push('<th class="weekday">') } else { r.push('<th class="weekday saturday">') }
                        r.push('<div class="box"><p class="clr_after"><span class="week">' + this.opts.DAYS_HEADER_TEXT[i] + '</span><span class="_checkrows select_box" style="display:none"><input type="checkbox"></span></p></div>');
                        r.push("</th>") }
                    r.push("</tr></thead>");
                    r.push("<tbody>");
                    for (var i = 0; i < e.length; i++) { t = e[i];
                        r.push("<tr>");
                        for (var s = 0; s < t.length; s++) { n = t[s];
                            if (n.other_month) { r.push('<td class="k_day">') } else if ((!this.opts.minDay || n.date >= this.opts.minDay) && (!this.opts.maxDay || n.date <= this.opts.maxDay)) { r.push('<td date="' + DateUtil.format(n.date) + '">') } else { r.push('<td class="gray">') }
                            if (!n.other_month) { r.push('<div class="box">');
                                r.push(this.opts.render(n));
                                r.push("</div>");
                                this.data[DateUtil.format(n.date)] = n;
                                this.dataIndex[DateUtil.format(n.date)] = [i, s] }
                            r.push("</td>") }
                        r.push("</tr>") }
                    r.push("</tbody>");
                    r.push("</table>");
                    this.table = $(r.join(""));
                    this.opts.parent.append(this.table) }, getCell: function(e) { e = DateUtil.format(DateUtil.parse(e));
                    if (this.dataIndex[e]) {
                        return this.table.find("td:eq(" + (this.dataIndex[e][0] * 7 + this.dataIndex[e][1]) + ")") } else {
                        return false } }, bindEvents: function() {
                    var e = this;
                    this.table.find("tbody td[date]").bind("click", function() { e._click($(this)) });
                    this.table.find("tbody td[date]").bind("mousedown", function(e) { e.preventDefault() });
                    this.table.find("thead th").each(function(t, n) { $(this).find(":checkbox").bind("click", function() { e.checkcols(t, this.checked) }) });
                    this.title.find('[placeholder="prev"]').bind("click", $.proxy(this.prev, this));
                    this.title.find('[placeholder="next"]').bind("click", $.proxy(this.next, this));
                    this.title.find(":checkbox").bind("click", function() {
                        if (this.checked) { e.checkAll() } else { e.clearAll() } });
                    this.readCache();
                    if (this.multi) { this.multi = false;
                        this.changeMode() } }, _click: function(e) {
                    if (this.multi) {
                        if (e.hasClass(this.opts.activeClass)) {
                            if (this.opts.clickcancel) { e.removeClass(this.opts.activeClass) } } else { e.addClass(this.opts.activeClass) }
                        this.checkMulti();
                        this._updateAllCheck() } else {
                        if (e.hasClass(this.opts.activeClass)) {
                            if (this.opts.clickcancel) { e.removeClass(this.opts.activeClass) } } else { this.table.find("." + this.opts.activeClass).removeClass(this.opts.activeClass);
                            e.addClass(this.opts.activeClass) } }
                    if (this.opts.handler) { this.opts.handler.call(this.table.find("." + this.opts.activeClass), this.checklist()) } }, changeMode: function() { this.multi = !this.multi;
                    if (this.multi) { this.table.find("thead :checkbox").attr("checked", false);
                        this.title.find('[placeholder="allcheck"] :checkbox').attr("checked", false);
                        this.table.find("thead .select_box").show();
                        this.title.find('[placeholder="allcheck"]').show() } else { this.table.find("thead .select_box").hide();
                        this.title.find('[placeholder="allcheck"]').hide();
                        this.clearAll() } }, multi: false, cache: [], readCache: function() {
                    if (!this.cache.length) {
                        return }
                    var e = [];
                    for (var t = 0; t < this.cache.length; t++) { e.push('[date="' + this.cache[t] + '"]') }
                    this.table.find(e.join(",")).addClass(this.opts.activeClass);
                    this.cache = [];
                    if (this.opts.handler) { this.opts.handler(this.checklist()) } }, checklist: function() {
                    var e = [];
                    this.table.find("." + this.opts.activeClass).each($.proxy(function(t, n) { e.push(this.data[$(n).attr("date")]) }, this));
                    return e }, checkMulti: function() { this.table.find("thead :checkbox").each($.proxy(function(e, t) {
                        if (t.checked && !this._checkedcols(e)) { $(t).attr("checked", false) } }, this)) }, checkcols: function(e, t) {
                    if (this._checkedcols(e) == t) {
                        return }
                    var n = this;
                    if (t) { this.table.find("tbody tr").find("td:eq(" + e + ")").each(function() {
                            if ($(this).attr("date")) { $(this).addClass(n.opts.activeClass) } }) } else { this.table.find("tbody tr").find("td:eq(" + e + ")").removeClass(this.opts.activeClass) }
                    this._updateAllCheck();
                    if (this.opts.handler) { this.opts.handler(this.checklist()) } }, _checkedcols: function(e) {
                    if (isNaN(e) || e < 0 || e > 6) {
                        return false }
                    var t = parseInt(e, 10);
                    var n = this.table.find("tbody tr").find("td:eq(" + t + ")");
                    for (var e = 0; e < n.length; e++) {
                        if ($(n[e]).attr("date") && !$(n[e]).hasClass(this.opts.activeClass)) {
                            return false } }
                    return true }, _updateAllCheck: function() {
                    if (this.multi && this.title.find(":checkbox").attr("checked")) { this.title.find(":checkbox").attr("checked", this.isAllChecked()) } }, reload: function() { this.cache = [];
                    this.table.find("." + this.opts.activeClass).each($.proxy(function(e, t) { this.cache.push($(t).attr("date")) }, this));
                    this.Inventory.init() }, next: function() {
                    if (!this.opts.maxDay || this.opts.maxDay && this.opts.maxDay > this.getMaxDay()) { this.Inventory.next() } }, prev: function() {
                    if (this.opts.minDay < this.getMinDay()) { this.Inventory.prev() } }, getMonth: function() {
                    return this.Inventory.getMonth() }, setMonth: function(e) { this.Inventory.opts.currentDay = DateUtil.parse(e + "-01");
                    this.Inventory.init() }, getMinDay: function() {
                    return DateUtil.parse(this.Inventory.getMonth() + "-01") }, getMaxDay: function() {
                    return new Date(DateUtil.getLastByMonth(DateUtil.parse(this.Inventory.getMonth() + "-01")).valueOf() + DateUtil.oneday - 1) }, checkAll: function() {
                    if (this.multi) { this.table.find("tbody td[date]").addClass(this.opts.activeClass);
                        this.table.find("thead :checkbox").attr("checked", true);
                        if (this.opts.handler) { this.opts.handler(this.checklist()) } } }, clearAll: function() { this.table.find("tbody td[date]").removeClass(this.opts.activeClass);
                    this.table.find("thead :checkbox").attr("checked", false);
                    this.title.find(":checkbox").attr("checked", false);
                    if (this.opts.handler) { this.opts.handler(this.checklist()) } }, isAllChecked: function() {
                    return this.table.find("tbody td[date]").length == this.table.find("tbody td[date]." + this.opts.activeClass).length } });
            return e }() }(t.exports, t, e);
    e.____MODULES["8a2e592011ba8d57e150be099f8bba87"] = t.exports })(this);
(function(e) {
    var t = { id: "82e81e91b9f9f565007c6e7ff6c68759", filename: "InventoryClass.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() {
            function e(e) { this.opts = $.extend({ SHOW_OTHER_MONTH: false, DAYS_HEADER: [1, 2, 3, 4, 5, 6, 0], cache: false, datakey: "content", paramkey: "ym" }, e) }
            e.prototype = { init: function() { $(this).one("q-format-data", function(e, t) { $(this).trigger("q-finish-data", [t, this.list]) });
                    this._format() }, prev: function() {
                    var e = this.opts.currentDay;
                    this.opts.currentDay = new Date(e.getFullYear(), e.getMonth() - 1, 1);
                    this.init() }, next: function() {
                    var e = this.opts.currentDay;
                    this.opts.currentDay = new Date(e.getFullYear(), e.getMonth() + 1, 1);
                    this.init() }, _format: function() {
                    var e = this;
                    $(this).one("q-merge-data", function(t, n) {
                        if (!e.opts.SHOW_OTHER_MONTH) { $.each(n, function(t, n) { $.each(n, function(t, n) {
                                    var r = e.getMonth(n.date);
                                    var i = e.getMonth();
                                    if (r !== i) { n.other_month = true } }) }) }
                        $(e).trigger("q-format-data", [n]) });
                    this._merge() }, getMonth: function(e) {
                    var t;
                    if (e) { t = e } else { t = this.opts.currentDay }
                    var n = DateUtil.format(t);
                    n = n.substring(0, 7);
                    return n }, _formatURL: function() {
                    var e = this.opts.url;
                    var t = this.opts.currentDay;
                    var n = this.getMonth();
                    var r = "?";
                    if (e.indexOf(r) > -1) { r = "&" }
                    e = e + r + "pId=" + this.opts.pId;
                    if (typeof this.opts.tId !== "undefined") { e = e + "&tId=" + this.opts.tId }
                    if (QNR.bookdata && QNR.bookdata.isReserve) { QNR.bookdata.currentTid = $("#tId").val();
                        var i = $("input[name=adultCount]").length ? $("input[name=adultCount]").val() : $("input[name=buy_taocan_count]").val() || 1;
                        e = e + "&" + "buy_count" + "=" + i + "&tId=" + $("#tId").val() }
                    if (QNR.module && QNR.module.reserve && QNR.module.reserve.count) { e = e + "&" + "buy_count" + "=" + QNR.module.reserve.count }
                    e = e + "&" + this.opts.paramkey + "=" + n;
                    return e }, _cache: {}, _getList: function() {
                    var e = [];
                    var t = this;
                    var n = this._formatURL();
                    if (QNR.bookdata && QNR.bookdata.isReserve) {
                        if (this._cache[n] && QNR.bookdata.currentTid == $("#tId").val()) { $(this).trigger("q-ajax-data", [this.copyData(this._cache[n])]) } else { $.getJSON(n, function(r) {
                                if (r && r.data) { e = r.data[t.opts.datakey] || {};
                                    t.originalData = r.data;
                                    if (t.opts.cache) { t._cache[n] = t.copyData(e) }
                                    $(t).trigger("q-ajax-data", [e]) } }) } } else {
                        if (this._cache[n]) { $(this).trigger("q-ajax-data", [this.copyData(this._cache[n])]) } else { $.getJSON(n, function(r) {
                                if (r && r.data) { e = r.data[t.opts.datakey] || {};
                                    t.originalData = r.data;
                                    if (t.opts.cache) { t._cache[n] = t.copyData(e) }
                                    $(t).trigger("q-ajax-data", [e]) } }) } } }, copyData: function(e) {
                    var t = [];
                    $.each(e, function() { t.push($.extend({}, this)) });
                    return t }, _merge: function() {
                    var e = [];
                    $(this).one("q-ajax-data", function(t, n) { e = n;
                        this.list = n;
                        var r = this._getTabel();
                        if (!e.length) { $(this).trigger("q-merge-data", [r]) } else { $.each(r, function(t, n) { $.each(n, function(t, n) { $.each(e, function(e, t) {
                                        var r = DateUtil.format(n.date);
                                        if (r === t.date) { t.date = DateUtil.parse(t.date);
                                            $.extend(n, t) } }) }) });
                            $(this).trigger("q-merge-data", [r]) } });
                    this._getList() }, _getTabel: function() {
                    var e = this.opts;
                    var t = [];
                    var n = new CalendarCore({ currentDay: e.currentDay, DAYS_HEADER: e.DAYS_HEADER });
                    $(n).one("refreshed", function(e, n) { t = n });
                    n.refresh();
                    return t } };
            window.InventoryClass = e })() }(t.exports, t, e);
    e.____MODULES["82e81e91b9f9f565007c6e7ff6c68759"] = t.exports })(this);
(function(e) {
    var t = { id: "d6cd467b58cafcd1594347e23ea2f73a", filename: "numberTip.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["numberTip"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="');
            r.b(r.v(r.f("mclass", e, t, 0)));
            r.b("\" style='display:none;'>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["numberTip"] }(t.exports, t, e);
    e.____MODULES["d6cd467b58cafcd1594347e23ea2f73a"] = t.exports })(this);
(function(e) {
    var t = { id: "b6dd2397f7a3cae724624f256e274654", filename: "numberTips.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() {
            var e = { ID: 18, TEL: 11, BANKCODE: 20 };
            var t = '<div class="mb_alertbox_wrapper hide"><div class="mb_textctn"><div class="mb_text"></div></div></div>';
            var n = function(e, n) { this.config = $.extend({ rule: null, change: function() {}, splitKey: " ", tipsEl: null, activeClass: "" }, n || {});
                this.el = e;
                this.max = n[this.config.rule] || 18;
                if (!this.config.tipsEl.length) { this.config.tipsEl = $(t);
                    this.config.tipsEl.find(".mb_textctn").css("width", this.el.width()) }
                this.config.tipsEl.insertAfter(this.el);
                this.init() };
            $.extend(n.prototype, { init: function() { this.bindEvents() }, bindEvents: function() {
                    var e = this.config.rule,
                        t = this.config.activeClass;
                    var n = this;
                    this.el.bind("keyup", function() {
                        var r = $(this);
                        if (r.data("numberTipFlag") === false) {
                            return }
                        e = r.data("numberTipRule") || e;
                        var i = $.trim(r.val());
                        n.config.tipsEl.show();
                        if (i.length > n.max) {
                            return false }
                        t && r.addClass(t);
                        n.splitWord(i, e) });
                    this.el.blur(function(e) { t && $(this).removeClass(t);
                        n.config.tipsEl.hide() }) }, splitWord: function(e, t) {
                    var n = [],
                        r = e.length;
                    switch (t) {
                        case "ID":
                            this.checkID(e);
                            break;
                        case "TEL":
                            this.checkTEL(e);
                            break;
                        case "BANKCODE":
                            this.checkBankCode(e);
                            break;
                        case "FOUR":
                            this.checkFour(e);
                            break;
                        default:
                            this.change(e);
                            break } }, checkTEL: function(e) {
                    var t = [],
                        n = e.length;
                    if (n <= 3) { t.push(e) } else if (n > 3 && n <= 7) { t.push(e.substr(0, 3), e.substr(3, n)) } else if (n > 7) { t.push(e.substr(0, 3), e.substr(3, 4), e.substr(7, n)) }
                    this.change(t.join(this.config.splitKey)) }, checkID: function(e) {
                    var t = [],
                        n = e.length;
                    if (n <= 6) { t.push(e) } else if (n > 6 && n <= 14) { t.push(e.substr(0, 6), e.substr(6, 8)) } else if (n > 14) { t.push(e.substr(0, 6), e.substr(6, 8), e.substr(14, 18)) }
                    this.change(t.join(this.config.splitKey)) }, checkBankCode: function(e) { this.change(e.replace(/(\d{4})(?=\d)/g, "$1" + this.config.splitKey)) }, checkFour: function(e) { this.change(e.replace(/(\w{4})(?=\w)/g, "$1" + this.config.splitKey)) }, change: function(e) { this.config.change && this.config.change.call(this, e) } });
            $.fn.numberTip = function(e) {
                return this.each(function() {
                    var t = new n($(this), e);
                    $(this).data("numberTip", t) }) } })() }(t.exports, t, e);
    e.____MODULES["b6dd2397f7a3cae724624f256e274654"] = t.exports })(this);
(function(e) {
    var t = { id: "212cf4811c68e143fa24b41eda5d1a91", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["d6cd467b58cafcd1594347e23ea2f73a"];
        e.____MODULES["b6dd2397f7a3cae724624f256e274654"] }(t.exports, t, e);
    e.____MODULES["212cf4811c68e143fa24b41eda5d1a91"] = t.exports })(this);
(function(e) {
    var t = { id: "58da89d66af0124b2b9103e66bf647a1", filename: "beacon.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.util.beacon", function() {
                var e = function() { this.param = {} };
                e.prototype.cookie = function(e, t, n) {
                    if (arguments.length > 1 && String(t) !== "[object Object]") { n = n || {};
                        if (t === null || t === undefined) { n.expires = -1 }
                        if (typeof n.expires === "number") {
                            var r = n.expires,
                                i = n.expires = new Date;
                            i.setDate(i.getDate() + r) }
                        t = String(t);
                        return document.cookie = [encodeURIComponent(e), "=", n.raw ? t : encodeURIComponent(t), n.expires ? "; expires=" + n.expires.toUTCString() : "", n.path ? "; path=" + n.path : "; path=/", n.domain ? "; domain=" + n.domain : "", n.secure ? "; secure" : ""].join("") }
                    n = t || {};
                    var s, o = n.raw ? function(e) {
                        return e } : decodeURIComponent;
                    return (s = (new RegExp("(?:^|; )" + encodeURIComponent(e) + "=([^;]*)")).exec(document.cookie)) ? o(s[1]) : null };
                e.prototype.add = function(e, t) {
                    if (t != null) { this.param[e] = t } };
                e.prototype.getHashString = function(e) {
                    var t = window.location.hash.toString();
                    var n = new RegExp("" + e + "=([^&?]*)", "ig");
                    return t.match(n) ? decodeURIComponent(t.match(n)[0].substr(e.length + 1)) : "" };
                e.prototype.getQueryString = function(e) {
                    var t = window.location.search.toString();
                    var n = new RegExp("" + e + "=([^&?]*)", "ig");
                    return t.match(n) ? decodeURIComponent(t.match(n)[0].substr(e.length + 1)) : "" };
                e.prototype.send = function() {
                    var e = this.get_location();
                    var t = new Image;
                    t.src = location.protocol + "//bc.qunar.com/" + e + "?" + this._collect_params() };
                e.prototype._collect_params = function() {
                    var e = [];
                    var t = this.param;
                    for (var n in t) { e.push(n + "=" + encodeURIComponent(t[n])) }
                    return e.join("&") };
                e.prototype.getDomain = function(e) {
                    return (e || "").replace(/^.+\.(.+?\..+)$/, "$1") };
                e.prototype.get_location = function() {
                    return "dj" };
                if (window["QNRGA"]) { window["QNR_GA"] = e } else { window["QNRGA"] = e }
                var t = function(t) {
                    if (typeof t == "number" || typeof t == "string") {
                        var n = t;
                        t = {};
                        if (arguments.length == 2) { $.extend(t, arguments[1]) }
                        t["s"] = n }
                    var r = new e;
                    var i = r.getDomain(document.domain);
                    var s = r.getHashString("in_track") || r.getQueryString("in_track");
                    var o = r.getHashString("ex_track") || r.getQueryString("ex_track");
                    if (s) { r.cookie("QN5", s, { domain: i }) }
                    if (o) { r.cookie("QN6", o, { domain: i }) }
                    r.add("utmwv", "0.1");
                    r.add("t", Math.random());
                    r.add("utmsr", screen.availWidth + "*" + screen.availHeight);
                    r.add("utmr", document.referrer || "-1");
                    r.add("utmp", window.location.href.toString());
                    r.add("utmhn", window.location.host.toString());
                    for (var u in t) { r.add(u, t[u]) }
                    if (window["_ba_utm_ex"]) {
                        var a = window["_ba_utm_ex"];
                        for (var f in a) { r.add(f, a[f]) } }
                    r.send() };
                t.clk = function() {
                    if (!arguments.length) {
                        return }
                    var e = "";
                    if (typeof arguments[0] == "number" || typeof arguments[0] == "string") { e = parseInt(arguments[0], 10) || 0 }
                    if (!e) {
                        return }
                    var t = ["s=" + e];
                    if (arguments.length == 2 && typeof arguments[1] == "object") {
                        var n = arguments[1] || {};
                        for (var r in n) { t.push(encodeURIComponent(r) + "=" + encodeURIComponent((n[r] || "") + "")) } } else {
                        for (var i = 1; i < arguments.length; i++) { t.push(String.fromCharCode(96 + i) + "=" + encodeURIComponent((arguments[i] || "") + "")) } }
                    t.push("n=" + Math.random());
                    var s = new Image;
                    s.src = location.protocol + "//bc.qunar.com/clk?" + t.join("&") };
                return { add: t } }()) })() }(t.exports, t, e);
    e.____MODULES["58da89d66af0124b2b9103e66bf647a1"] = t.exports })(this);
(function(e) {
    var t = { id: "6135c0a5ee741a870ab7dabee2ff6f8a", filename: "fixOldData.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function(e) { this.Oldversion = { fixTicketCatalog: function(e) {
                    var e = e.team[0];
                    $.extend(e, { left: parseInt(e.stock, 10), limit: parseInt(e.maxBuyCount, 10), price: { adult: parseInt(e.aPrice, 10), child: parseInt(e.cPrice, 10), other: parseInt(e.oPrice, 10), taocan: parseInt(e.taocan_price, 10) || 0 }, desc: { other: e.oDesc || "", use: e.useDesc, fee: e.feeDesc }, ac_date: { begin: e.display_begin_date, end: e.display_end_date, week: e.accurate_day_of_week, soldout: e.sold_out_dateset } });
                    return e }, fixTicketCalendar: function(e) {
                    if (!e.prices) {
                        return e }
                    $.extend(e, { tId: e.tId, date: e.date, left: parseInt(e.only, 10), limit: parseInt(e.maxBuyCount, 10), price: { adult: parseInt(e.prices.adultPrice, 10), child: parseInt(e.prices.childPrice, 10), other: parseInt(e.prices.otherPrice, 10), taocan: parseInt(e.prices.taocan_price, 10), is_child_price: e.prices.is_child_price || false }, desc: { other: e.oDesc || "", use: e.useDesc, fee: e.feeDesc } });
                    return e }, fixFreetripCatalog: function(e) {
                    var e = e.team[0];
                    $.extend(e, { tId: e.tId, left: parseInt(e.stock, 10), limit: parseInt(e.maxBuyCount, 10), price: { adult: parseInt(e.aPrice, 10), child: parseInt(e.cPrice, 10), send: parseInt(e.sendPrice, 10), reduce: { type: QNR.bookdata.price.reduceType, num: QNR.bookdata.price.reducePrice }, taocan: parseInt(e.taocan_price) || 0, is_child_price: e.is_child_price || false }, desc: { use: e.useDesc, fee: e.feeDesc, cse: e.child_price_desc }, ac_date: { begin: e.display_begin_date, end: e.display_end_date, week: e.accurate_day_of_week, soldout: e.sold_out_dateset }, roomtype: parseInt(e.roomType) || 2 });
                    return e }, fixFreetripCalendar: function(e) {
                    if (!e.prices) {
                        return e }
                    $.extend(e, { tId: e.tId, date: e.date, left: parseInt(e.only, 10), limit: parseInt(e.maxBuyCount, 10), price: { adult: parseInt(e.prices.adultPrice, 10), child: parseInt(e.prices.childPrice, 10), send: parseInt(e.prices.sendPrice, 10), taocan: parseInt(e.prices.taocan_price, 10) || 0, reduce: { type: QNR.bookdata.price.reduceType, num: QNR.bookdata.price.reducePrice }, desc: e.prices.child_price_desc, is_child_price: e.prices.is_child_price }, desc: { other: e.oDesc || "", use: e.useDesc, fee: e.feeDesc }, roomtype: e.roomType || 2 });
                    return e }, fixCruiseCalendar: function(e) {
                    if (!e.prices) {
                        return e }
                    $.extend(e, { tId: e.tId, date: e.date, left: parseInt(e.only, 10), limit: parseInt(e.maxBuyCount, 10), roomPMax: parseInt(e.max_person, 10), roomPMin: parseInt(e.min_person, 10), price: { adult: parseInt(e.prices.adultPrice, 10), child: parseInt(e.prices.childPrice, 10), send: parseInt(e.prices.sendPrice, 10), taocan: parseInt(e.prices.taocan_price, 10) || 0, adult34: e.prices.adultPrice34, child34: e.prices.childPrice34, reduce: { type: QNR.bookdata.price.reduceType, num: QNR.bookdata.price.reducePrice }, desc: e.prices.child_price_desc, is_child_price: e.prices.is_child_price }, desc: { other: e.oDesc || "", use: e.useDesc, fee: e.feeDesc }, roomtype: e.roomType || 2 });
                    return e } } })(window) }(t.exports, t, e);
    e.____MODULES["6135c0a5ee741a870ab7dabee2ff6f8a"] = t.exports })(this);
(function(e) {
    var t = { id: "4b9971162444f739314060e2bada0bca", filename: "validate.patterns.id.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof QNR == "undefined") { window.QNR = {} }
        QNR.validate = function() {
            var e = { id: { areaCode: { 11: "北京", 12: "天津", 13: "河北", 14: "山西", 15: "内蒙古", 21: "辽宁", 22: "吉林", 23: "黑龙江", 31: "上海", 32: "江苏", 33: "浙江", 34: "安徽", 35: "福建", 36: "江西", 37: "山东", 41: "河南", 42: "湖北", 43: "湖南", 44: "广东", 45: "广西", 46: "海南", 50: "重庆", 51: "四川", 52: "贵州", 53: "云南", 54: "西藏", 61: "陕西", 62: "甘肃", 63: "青海", 64: "宁夏", 65: "新疆", 71: "台湾", 81: "香港", 82: "澳门", 91: "国外" } } };
            var t = { id: { test: function(t) {
                        var n = { errorInfo: "", legal: false };
                        var r = Ai = "",
                            i, s, o;
                        var u = ["1", "0", "x", "9", "8", "7", "6", "5", "4", "3", "2"],
                            a = ["7", "9", "10", "5", "8", "4", "2", "1", "6", "3", "7", "9", "10", "5", "8", "4", "2"];
                        t = t.replace("X", "x");
                        if (t.length != 15 && t.length != 18) { r = "身份证号码长度应该为15位或18位。";
                            return r }
                        if (t.length == 18) { Ai = t.substring(0, 17) } else if (t.length == 15) { Ai = t.substring(0, 6) + "19" + t.substring(6, 15) }
                        if (!/\d{17}/.test(Ai)) { r = "身份证15位号码都应为数字 ; 18位号码除最后一位外，都应为数字。";
                            return r }
                        i = Ai.substring(6, 10);
                        s = Ai.substring(10, 12);
                        o = Ai.substring(12, 14);
                        if (new Date(i + "-" + s + "-" + o) == false) { r = "身份证生日无效。";
                            return r }
                        if (parseInt(s, 10) > 12 || parseInt(s, 10) == 0) { r = "身份证月份无效";
                            return r }
                        if (parseInt(o, 10) > 31 || parseInt(o, 10) == 0) { r = "身份证日期无效";
                            return r }
                        if (!e.id.areaCode[Ai.substring(0, 2)]) { r = "身份证地区编码错误。";
                            return r }
                        var f = 0;
                        for (var l = 0; l < 17; l++) { f = f + parseInt(String(Ai.charAt(l)), 10) * parseInt(a[l], 10) }
                        var c = f % 11;
                        var h = u[c];
                        Ai = Ai + h;
                        if (t.length == 18) {
                            if (Ai != t) { r = "身份证无效，不是合法的身份证号码";
                                return r } } else {
                            return "YES" }
                        return "YES" } } };
            return t }() }(t.exports, t, e);
    e.____MODULES["4b9971162444f739314060e2bada0bca"] = t.exports })(this);
(function(e) {
    var t = { id: "9bb6175b6dc51664f2ac48cd8819f602", filename: "detail-calendar.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof QNR == "undefined") { window.QNR = {} }
        QNR.detail = QNR.detail || {};
        QNR.detail.calendar = function() {
            var e = function(e) { this.opts = $.extend({ currentDay: DateUtil.today(), minDay: DateUtil.today(), maxDay: false, onrendered: null, handler: null, handlerTitle: null, renderTitleFunc: null, renderTableFunc: null, cache: false, SHOW_TITLE: true, SHOW_HOLIDAY: true, SHOW_YU: false, SHOW_CZ: false, DAYS_HEADER: [0, 1, 2, 3, 4, 5, 6], DAYS_HEADER_TEXT: ["日", "一", "二", "三", "四", "五", "六"], datakey: "team", paramkey: "month", clickcancel: false, activeClass: "active", titleRenderType: "single", validDataMonthsFlag: false, validDataMonths: [] }, e);
                if (!this.opts.minDay.getTime || window.isNaN(this.opts.minDay.getTime()) || this.opts.minDay.getTime() > this.opts.currentDay.getTime()) { this.opts.minDay = this.opts.currentDay }
                if (!this.opts.maxDay.getTime || window.isNaN(this.opts.maxDay.getTime())) { this.opts.maxDay = new Date(2099, 0, 1) }
                this.Inventory = new InventoryClass({ tId: this.opts.tId, pId: this.opts.pId, url: this.opts.url, buy_count: this.opts.buy_count, cache: this.opts.cache, datakey: this.opts.datakey, paramkey: this.opts.paramkey, currentDay: this.opts.currentDay, DAYS_HEADER: this.opts.DAYS_HEADER, SHOW_OTHER_MONTH: false });
                this.init() };
            $.extend(e.prototype, { init: function() { $(this.Inventory).bind("q-finish-data", $.proxy(function(e, t) { this.render(t);
                        this.bindEvents();
                        this.opts.onrendered.call(this);
                        if (this.opts.finish) { this.opts.finish() } }, this));
                    this.Inventory.init() }, render: function(e) { this.opts.titleRenderType == "multi" ? this._renderTitleM() : this._renderTitleS();
                    this._renderTable(e) }, _renderTitleS: function() {
                    if (this.title) { this.title.remove() }
                    var e = this.getMonth();
                    var t = parseInt(e.split("-")[0], 10);
                    var n = parseInt(e.split("-")[1], 10);
                    var r = "cld_p",
                        i = "cld_n";
                    var s = this.getNYM(this.getMonth(), "next");
                    if (s.substring(0, 4) == this.opts.minDay.getFullYear() && (n + 10) % 12 + 1 == this.opts.minDay.getMonth()) { r += " cld_p_dis" }
                    var o = "";
                    if (typeof this.opts.renderTitleFunc === "function") { o = this.opts.renderTitleFunc.call(this, { cuyear: t, cumonth: n, prevClass: r, nextClass: i }) } else {
                        var u = [];
                        u.push('<div class="h3 cf">');
                        u.push('<span class="', r, '" placeholder="prev"></span>');
                        u.push('<span class="', i, '" placeholder="next"></span>');
                        u.push(t, "年<em>", n, "</em>月");
                        u.push("</div>");
                        o = u.join("") }
                    this.title = $(o);
                    this.opts.parent.append(this.title) }, _renderTitleM: function() {
                    if (this.title) { this.title.remove() }
                    var e = "cld_p",
                        t = "cld_n",
                        n = true,
                        r = true,
                        i = true,
                        s = "",
                        o = "";
                    var u = this.getMonth();
                    var a = parseInt(u.split("-")[0], 10);
                    var f = parseInt(u.split("-")[1], 10);
                    var l = this.getNYM(this.getMonth(), "prev");
                    var c = this.getNYM(this.getMonth(), "next");
                    var h = this.getNYM(c, "next");
                    var p = c ? window.parseInt(c.substring(5, 7), 10) : "";
                    var d = h ? window.parseInt(h.substring(5, 7), 10) : "";
                    var v = p ? "<em>" + p + "</em>月" : "";
                    var m = d ? "<em>" + d + "</em>月" : "";
                    var g = "";
                    if (typeof this.opts.renderTitleFunc === "function") { g = this.opts.renderTitleFunc.call(this, { cuyear: a, cuym: u, cumonth: f, nextoneym: c, nexttwoym: h, prevym: l, nextoneValidFlag: r, nexttwoValidFlag: i, nextonehtml: v, nexttwohtml: m, nextoneym: c, nexttwoym: h, prevClass: e, nextClass: t, prevValidFlag: n }) } else {
                        var y = [];
                        y.push('<div class="h3 cf">');
                        y.push('<div class="c_left">', "出行日价格表", "</div>");
                        y.push('<div class="c_right">');
                        y.push('<b class="year">', a, "年</b>");
                        y.push('<span class="', e, '" placeholder="prev"></span>');
                        y.push("<ul>");
                        y.push('<li placeholder="monthbtn" yearmonth="', u, '" canclickflag="true" class="active"><em>', f, "</em>月</li>");
                        y.push('<li placeholder="monthbtn" yearmonth="', c, '" canclickflag="', r, '" class="', s, '">', v, "</li>");
                        y.push('<li placeholder="monthbtn" yearmonth="', h, '" canclickflag="', i, '" class="', o, '">', m, "</li>");
                        y.push("</ul>");
                        y.push('<span class="', t, '" placeholder="next"></span>');
                        y.push("</div>");
                        y.push("</div>");
                        g = y.join("") }
                    this.title = $(g);
                    this.opts.parent.append(this.title);
                    this.title.find("[placeholder='monthbtn']").each(function(e, t) {
                        if ($(t).attr("canclickflag") == "false") { $(t).css("cursor", "default") } }) }, _renderTable: function(e) { this.data = {};
                    this.dataIndex = {};
                    this.table && this.table.remove();
                    if (typeof this.opts.renderTableFunc === "function") {
                        var t, n;
                        for (var r = 0; r < e.length; r++) { t = e[r];
                            for (var i = 0; i < t.length; i++) { n = window.Oldversion ? window.Oldversion.fixFreetripCalendar(t[i]) : t[i];
                                n.isToday = DateUtil.format(n.date) == DateUtil.format(new Date);
                                this.data[DateUtil.format(n.date)] = n;
                                this.dataIndex[DateUtil.format(n.date)] = [r, i] } }
                        var s = this.opts.renderTableFunc.call(this, { opts: this.opts, data: e });
                        this.table = $(s);
                        this.opts.parent.append(this.table);
                        return }
                    var t, n, s = [];
                    s.push('<div class="cal_table"><table>');
                    if (this.opts.SHOW_TITLE) { s.push("<thead><tr>");
                        for (var r = 0; r < this.opts.DAYS_HEADER_TEXT.length; r++) { s.push("<th>");
                            if (this.opts.DAYS_HEADER[r] < 6 && this.opts.DAYS_HEADER[r] > 0) { s.push('<div class="weekday">') } else { s.push('<div class="weekend">') }
                            s.push(this.opts.DAYS_HEADER_TEXT[r]);
                            s.push("</div></th>") }
                        s.push("</tr></thead>") }
                    s.push("<tbody>");
                    for (var r = 0; r < e.length; r++) { t = e[r];
                        if (t[0].other_month && t[6].other_month) {
                            continue }
                        s.push("<tr>");
                        for (var i = 0; i < t.length; i++) { n = window.Oldversion ? window.Oldversion.fixFreetripCalendar(t[i]) : t[i];
                            var o = [],
                                u = [],
                                a = !!n.price,
                                f = DateUtil.format(n.date) == DateUtil.format(new Date),
                                l = !1,
                                c = !1,
                                h = window.holiday[DateUtil.format(n.date)],
                                p = !!(h && h.type == "holiday"),
                                d = "",
                                v = "",
                                m = "",
                                g = parseInt(n.only, 10);
                            if (f && this.opts.SHOW_HOLIDAY) { o.push('<span class="t">今天</span>');
                                u.push("today") }
                            if (this.opts.SHOW_YU === true && g < 10) { m = '<em class="red">余' + g + "</em>" }
                            if (this.opts.SHOW_CZ === true && g >= 10) { m = '<em class="blue">充足</em>' }
                            if (!this.opts.SHOW_HOLIDAY || !f && !p) { o.push(n.date.getDate()) }
                            if (this.opts.SHOW_HOLIDAY && h) { hName = h.holidayName || "";
                                switch (h.type) {
                                    case "work":
                                        o.push('<p class="fn">', m, '<span class="blue">', hName, "</span></p>");
                                        u.push("holiday");
                                        break;
                                    case "rest":
                                        o.push('<p class="fn">', m, '<span class="orange">', hName, "</span></p>");
                                        u.push("holiday");
                                        break;
                                    case "holiday":
                                        o.push(hName, '<p class="fn">', m, "</p>");
                                        u.push("holiday");
                                        break;
                                    default:
                                        m && o.push('<p class="fn">', m, "</p>");
                                        break } } else { m && o.push('<p class="fn">', m, "</p>") }
                            if (a && n.date >= DateUtil.parse(QNR.bookdata.minDay) && (!QNR.bookdata.maxDay || n.date <= DateUtil.parse(QNR.bookdata.maxDay))) { v += ' date="' + DateUtil.format(n.date) + '"' + '  marketPrice="' + n.prices.marketPrice + '"' + '  adultPrice="' + n.prices.adultPrice + '"' }
                            a ? u.push("normal") : u.push("disable");
                            if (!!n.other_month) { v += ' om="true"';
                                u.push("om") } else { u.push("") }
                            if (typeof this.opts.render == "function") { o.push(this.opts.render.call(this, n)) }
                            if (QNR.bookdata.type == "freetrip" || QNR.bookdata.type == "group") { u.push("free") }
                            s.push("<td", v, '><div class="', u.join(" "), '">', o.join(""), "</div></td>");
                            this.data[DateUtil.format(n.date)] = n;
                            this.dataIndex[DateUtil.format(n.date)] = [r, i] }
                        s.push("</tr>") }
                    s.push("</tbody></table></div>");
                    this.table = $(s.join(""));
                    this.opts.parent.append(this.table) }, getCell: function(e) { e = DateUtil.format(DateUtil.parse(e));
                    if (this.dataIndex[e]) {
                        return this.table.find("td:eq(" + (this.dataIndex[e][0] * 7 + this.dataIndex[e][1]) + ")") } else {
                        return false } }, bindEvents: function() {
                    var e = this;
                    this.table.find("tbody td[date]").bind("click", function(t) { e._click($(this), t) });
                    this.table.find("[data-date]").bind("click", function(t) { e._click($(this), t) });
                    this.table.find("tbody td[date]").bind("mousedown", function(e) { e.preventDefault() });
                    this.table.find("tbody td").bind("click", function(e) { e.preventDefault();
                        e.stopPropagation() });
                    this.title.find('[placeholder="prev"]').bind("click", $.proxy(this.prev, this));
                    this.title.find('[placeholder="next"]').bind("click", $.proxy(this.next, this));
                    if (typeof this.opts.moveTableTitle === "function") { this.title.find('[data-node="next"],[data-node="prev"]').bind("click", function() { e.opts.moveTableTitle($(this).data("node")) }) }
                    this.title.find('[placeholder="monthbtn"]').bind("click", function() { e._clickMonthBtn($(this)) }) }, _click: function(e, t) { this.table.find("div." + this.opts.activeClass).removeClass(this.opts.activeClass);
                    e.children("div").addClass(this.opts.activeClass);
                    var n = e.attr("date");
                    if (this.opts.handler && t) { this.opts.handler.call(e, [this.data[n]], this, t) }
                    if (n && n.length == 10) { this.opts.currentDay = DateUtil.parse(n);
                        if (e.attr("om") === "true") { this.setMonth(n.substring(0, 7)) } }
                    t && t.stopPropagation && t.stopPropagation() }, _clickMonthBtn: function(e) {
                    if (e && e.jquery) {
                        var t = e.attr("canclickflag");
                        var n = e.attr("yearmonth");
                        if (t == "true" && n) { this.setMonth(n) } }
                    if (typeof this.opts.handlerTitle === "function") { this.opts.handlerTitle.call(e, { canclickFlag: t, yearMonth: n, el: e }) } }, next: function(e) { e.stopPropagation();
                    if (!this.opts.maxDay || this.opts.maxDay && this.opts.maxDay > this.getMaxDay()) {
                        if (this.opts.validDataMonthsFlag === true || this.opts.validDataMonthsFlag == "true") { this.setMonth(this.getNYM(this.getMonth(), "next")) } else { this.Inventory.next() } } }, prev: function(e) { e.stopPropagation();
                    if (this.opts.minDay < this.getMinDay()) {
                        if (this.opts.validDataMonthsFlag === true || this.opts.validDataMonthsFlag == "true") { this.setMonth(this.getNYM(this.getMonth(), "prev")) } else { this.Inventory.prev() } } }, getMonth: function() {
                    return this.Inventory.getMonth() }, setMonth: function(e) {
                    if (typeof e == "string" && e.length == 7) { this.Inventory.opts.currentDay = DateUtil.parse(e + "-01");
                        QNR.event.fire("qnr-calendar-change-month", { currentDate: this.Inventory.opts.currentDay });
                        this.Inventory.init() } }, getMinDay: function() {
                    return DateUtil.parse(this.Inventory.getMonth() + "-01") }, getMaxDay: function() {
                    return new Date(DateUtil.getLastByMonth(DateUtil.parse(this.Inventory.getMonth() + "-01")).valueOf() + DateUtil.oneday - 1) }, getNextYM: function(e) {
                    var t = e || this.getMonth();
                    var n = parseInt(t.split("-")[0], 10);
                    var r = parseInt(t.split("-")[1], 10);
                    var i = DateUtil.format(new Date(n, r, 1));
                    var s = i.substring(0, 7);
                    return s }, getPrevYM: function(e) {
                    var t = e || this.getMonth();
                    var n = parseInt(t.split("-")[0], 10);
                    var r = parseInt(t.split("-")[1], 10);
                    var i = DateUtil.format(new Date(n, r - 2, 1));
                    var s = i.substring(0, 7);
                    return s }, isValidYM: function(e) {
                    if (!e || !e.length || e.length != 7) {
                        return false }
                    var t = function(e) {
                        return typeof e == "object" ? e.getFullYear() * 12 + (e.getMonth() + 1) : e.substring(0, 4) * 12 + parseInt(e.substring(5, 7), 10) };
                    var n = this.opts.maxDay;
                    if (n && n.getMonth && t(e) > t(n)) {
                        return false }
                    var r = this.opts.minDay;
                    if (r && r.getMonth && t(e) < t(r)) {
                        return false }
                    return true }, getNYM: function(e, t) {
                    var n = this.opts.validDataMonths || [];
                    var r = e || this.getMonth();
                    var i = t || "next";
                    var s = this;
                    var o = function(e, t) {
                        var r = "";
                        switch (t) {
                            case "next":
                                r = s.getNextYM(e);
                                break;
                            case "prev":
                                r = s.getPrevYM(e);
                                break;
                            default:
                                r = s.getNextYM(e);
                                break }
                        if (!s.isValidYM(r)) {
                            return "" }
                        if (!s.opts.validDataMonthsFlag && s.opts.validDataMonthsFlag != "true") {
                            return r }
                        var i = $.inArray(r, n);
                        if (i >= 0) {
                            return r } else {
                            return o(r, t) } };
                    return o(r, i) } });
            return e }() }(t.exports, t, e);
    e.____MODULES["9bb6175b6dc51664f2ac48cd8819f602"] = t.exports })(this);
(function(__context) {
    var module = { id: "a645c4202fa9fc5682816afeb011f269", filename: "detail-tip.js", exports: {} };
    if (!__context.____MODULES) { __context.____MODULES = {} }
    var r = function(exports, module, global) {
        if (typeof QNR == "undefined" || !QNR) { window.QNR = {} }
        QNR.detail = QNR.detail || {};
        QNR.detail.tip = function() {
            var soldOutTip = { init: function(e) { this._initParams(e);
                    this._initDom();
                    this._initEvent() }, _initParams: function(e) {
                    var t = { $wrapper: $("[node='out_date']"), maxWrapSize: 30, maxRowsSize: 2, upkey: "(收起)", downkey: "(展开)", downDesc: "...已售完", downShowType: "wrap" };
                    $.extend(t, e || {});
                    this.dom = t.$wrapper;
                    this.maxWrapSize = parseInt(t.maxWrapSize, 10);
                    this.maxRowsSize = parseInt(t.maxRowsSize, 10);
                    this.upkey = t.upkey || "";
                    this.downkey = t.downkey || "";
                    this.downDesc = t.downDesc || "";
                    this.downShowType = t.downShowType }, _initDom: function() {
                    var oriText = this.dom.text();
                    if (oriText && oriText.length > this.maxWrapSize) {
                        var mt = oriText.replace(eval("/.{1," + (this.maxWrapSize + 1) + "}/ig"), function(e) {
                            return e ? "<p class='m_tip'>" + e + "</p>" : "" });
                        this.dom.html(mt);
                        if (this.dom.find("p").length > this.maxRowsSize) { this.dom.find("p:last").append("<a item='js_sot_down_btn' href='javascript:void(0);' class='h_btn'>" + this.upkey + "</a>");
                            if (this.downShowType == "nowrap") {
                                var d = this.dom.find("p:eq(" + (this.maxRowsSize - 1) + ")");
                                var t = d.text();
                                var s = this.downDesc.length + this.downkey.length + 1;
                                t = t.replace(eval("/(\\S{" + s + "})$/ig"), "<span item='js_e_s' style='display:none'>$1</span>") + "<span item='js_e_b'>" + this.downDesc + "<a item='js_sot_up_btn' href='javascript:void(0);' class='h_btn'>" + this.downkey + "</a></span>";
                                d.html(t) } else { this.dom.append("<p item='js_sot_up_wrapper'>" + this.downDesc + "<a item='js_sot_up_btn' href='javascript:void(0);' class='h_btn'>" + this.downkey + "</a></p>") } }
                        this._hide() } }, _initEvent: function() {
                    var e = this;
                    e.dom.undelegate().delegate("a", "click", function(t) { t.preventDefault();
                        var n = $(this).attr("item") || "";
                        switch (n) {
                            case "js_sot_up_btn":
                                e._show();
                                break;
                            case "js_sot_down_btn":
                                e._hide();
                                break } }) }, _show: function() { this.dom.find("[item='js_sot_down_btn']").show();
                    this.dom.find("p").show().filter("[item='js_sot_up_wrapper']").hide();
                    this.dom.find("[item='js_e_s']").show();
                    this.dom.find("[item='js_e_b']").hide() }, _hide: function() { this.dom.find("[item='js_sot_down_btn']").hide();
                    this.dom.find("p:gt(" + (this.maxRowsSize - 1) + ")").hide().filter("[item='js_sot_up_wrapper']").show();
                    this.dom.find("[item='js_e_s']").hide();
                    this.dom.find("[item='js_e_b']").show() } };
            return { initSoldOutTip: function(e) { soldOutTip.init(e) } } }() }(module.exports, module, __context);
    __context.____MODULES["a645c4202fa9fc5682816afeb011f269"] = module.exports })(this);
(function(e) {
    var t = { id: "6b285667647fa2a6bfd0ad3297554e82", filename: "detail-sfloater.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof QNR == "undefined") { window.QNR = {} }
        QNR.detail = QNR.detail || {};
        QNR.detail.sfloater = function() {
            var e = function(e) { this.config = $.extend(true, { elem: $("#js_supplier_info_wrapper"), top: 226, sTop: 0, pTop: null, autoRight: true, right: 0, director: "right", wW: 1280, autoMove: true, reduceZIndex: false, minShow: false, minEl: $("#js_s_min_show"), bottomAdpation: true, toggleClass: "scale_active", floatRight: "scale_on" }, e || {});
                this.$dom = this.config.elem;
                if (this.$dom && this.$dom.jquery && this.$dom.length) { this.isIE6Flag = !!this.isIE6;
                    this.init() } };
            $.extend(e.prototype, { init: function() { this.initEvents() }, initEvents: function() {
                    if (this.config.minShow === true) {
                        var e = false;
                        this.config.minEl.bind("mouseenter", $.proxy(function() { this.$dom.fadeIn();
                            this.config.minEl.fadeOut() }, this));
                        if (/(ipad|iphone|ios|android)/i.test(window.navigator.userAgent)) { this.config.minEl.bind("click", $.proxy(function() { this.$dom.fadeIn();
                                this.config.minEl.fadeOut() }, this)) }
                        $(window).bind("resize", $.proxy(function() {
                            var t = document.documentElement.clientWidth || document.body.clientWidth;
                            if (t <= this.config.wW) { e = true;
                                if (t <= 1050) { this.config.minEl.addClass(this.config.toggleClass).addClass(this.config.floatRight) } else if (t <= 1170) { this.config.minEl.removeClass(this.config.floatRight).addClass(this.config.toggleClass) } else { this.config.minEl.removeClass(this.config.toggleClass).removeClass(this.config.floatRight) }
                                this.$dom.fadeOut();
                                this.config.minEl.fadeIn() } else { e = false;
                                this.config.minEl.fadeOut();
                                this.$dom.fadeIn() } }, this)).trigger("resize");
                        $(window).bind("scroll", $.proxy(function() {
                            var e = document.documentElement.clientWidth || document.body.clientWidth;
                            this.initTop(this.config.minEl);
                            if (e <= this.config.wW) { this.$dom.fadeOut();
                                this.config.minEl.fadeIn() } }, this)).trigger("scroll") }
                    $(window).bind("scroll", $.proxy(function() { this.timer && clearTimeout(this.timer);
                        this.timer = setTimeout($.proxy(function() { this.initTop(this.$dom) }, this), 10) }, this)).trigger("scroll");
                    $(window).bind("resize", $.proxy(function() { this.initRight() }, this)).trigger("resize") }, initTop: function(e) {
                    var t = document.body.scrollTop || document.documentElement.scrollTop,
                        n = null,
                        r = null;
                    if (this.isIE6Flag) {
                        if (this.config.pTop !== null) { n = t - this.config.top;
                            r = this.config.pTop } else { n = t;
                            r = this.config.top }
                        if (t >= this.config.top) { e.css({ position: "absolute", top: n + "px" }) } else { e.css({ position: "absolute", top: r + "px" }) } } else {
                        if (t >= this.config.top - this.config.sTop) { e.css({ position: "fixed", top: this.config.sTop + "px" }) } else {
                            if (this.config.autoRight) { e.css({ position: "absolute", top: this.config.top + "px" }) } else { e.removeAttr("style") } } }
                    if (this.config.bottomAdpation === true) {
                        var i = this.$dom.offset().top;
                        var s = this.$dom.outerHeight(true);
                        var o = $(document).height();
                        var u = document.documentElement.clientHeight;
                        var a = 80;
                        if (i + s >= o - a) { e.css({ position: "absolute", top: u + t - s - a + "px" }) } } }, initRight: function() {
                    if (!this.config.autoRight) {
                        return }
                    var e = document.compatMode === "CSS1Compat" ? document.documentElement.clientWidth : document.body.clientWidth;
                    var t = this.$dom.outerWidth();
                    var n = Math.round((e - 980) / 2 - t) - this.config.right;
                    var r = { zIndex: 20, overflow: "inherit" };
                    if (this.config.autoMove === true) {
                        if (n <= 10) { n = 0 } }
                    if (this.config.reduceZIndex === true) { r.zIndex = "1" }
                    r[this.config.director] = n + "px";
                    this.$dom.css(r);
                    if (e > this.config.wW) { this.$dom.fadeIn() } }, isIE6: $.browser.msie && $.browser.version == "6.0" && !$.support.style, setTop: function(e) { e && (this.config.top = e) } });
            return { init: function(t) {
                    return new e(t) } } }() }(t.exports, t, e);
    e.____MODULES["6b285667647fa2a6bfd0ad3297554e82"] = t.exports })(this);
(function(e) {
    var t = { id: "73b29f1171831adf5c56949b9673efce", filename: "confirm-ayaquan.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) { $.namespace("QNR.AyaQuan", { ayaPriceCompute: function(e) {
                var t = e.originalPrice || 0;
                if (e.originalPrice > 0 && e.reducePrice > 0) { t = e.originalPrice - e.reducePrice } else if (typeof e.originalPrice == "undefined") { t = e.totalPrice }
                t = parseInt(t * .5, 10);
                t = t > 500 ? 500 : t;
                t = t < 30 ? 0 : t;
                return t }, bindAyaEvents: function() {
                var e = $(".js_aya_quna");
                if (parseInt(e.attr("data-aya"), 10) > 0 && typeof ayaQuanShow != "undefined" && parseInt(ayaQuanShow, 10) === 1) { e.show() } else { e.hide();
                    return }
                if (!e.length) {
                    return }
                e.find(".tagquan").hover(function() { e.find(".m_quan_tip").show() }, function() { e.find(".m_quan_tip").hide() }) } }) }(t.exports, t, e);
    e.____MODULES["73b29f1171831adf5c56949b9673efce"] = t.exports })(this);
(function(e) {
    var t = { id: "a3b7f32213f44e9483f855b82c04bab8", filename: "hash.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof QNR === "undefined") { window.QNR = {} }(function(e) {
            var t = { nav: { desc: "detail导航栏", key: "d20" }, rightbar: { desc: "右侧店铺首页", key: "d21" }, shop: { desc: "店铺相关推荐", key: "d22" }, hot: { desc: "热销推荐", key: "d23" }, bottomhot: { desc: "底部热销产品", key: "d25" } };
            var n = { init: function(e) {
                    var t = window.location.hash,
                        n, r;
                    var i = { from: "", searchid: "", buyid: "", product_id: "" },
                        s = [];
                    n = t == "" ? "" : t.substring(1).split("&");
                    r = this.hashToObj(i, n);
                    this.hashObject = r;!this.replaced && this.replaceAUrl();
                    if (r && r.length) {
                        var o = $.trim(e.attr("action"));
                        o && e.attr("action", o + "#" + r.join("&"));
                        return "#" + r.join("&") }
                    return "" }, hashToObj: function(e, t) {
                    var n = [],
                        r;
                    for (var i = 0, s = t.length; i < s; i++) {
                        var o = t[i].split("="),
                            u = o[0].toLowerCase();
                        if (o && u != "ex_track") { n.push(o[0].toLowerCase() + "=" + (o[1] || ""));
                            e[u] = o[1] || "" } }
                    if (e["from"]) {
                        if (e["searchid"] == "") { e["searchid"] = (new Date).getTime();
                            n.push("searchid=" + e["searchid"]) }
                        if (e["buyid"] == "") { r = window.location.search.substring(1);
                            var a = r.match(/id\s*=\s*(\d+)/);
                            if (a) { n.push("buyid=" + a[1]);
                                if (!e["productid"]) { n.push("productid=" + a[1]) }
                                this.pId = a[1] } } }
                    if (QNR.bid == "" && !e["bid"]) {
                        var f = (new Date).getTime();
                        n.push("bid=" + f) } else {
                        if (QNR.bid != "") { n.push(QNR.bid) } }
                    return n }, replaceAUrl: function() { $("a").each(function() {
                        var e = $(this).attr("href");
                        if (e && e.indexOf("javascript") == -1) {
                            if (e.indexOf("#") == -1) { this.href = this.href + location.hash } else {
                                try {
                                    var t = QNR.rewriteUrl.replace(e);
                                    this.href = t || e } catch (n) {} } } });
                    this.replaced = true } };
            var r = { strToArr: function(e, t) {
                    var n = [];
                    if (arguments.length < 2) return;
                    if (e == "") return [];
                    var r = e.split("&");
                    for (var i = 0, s = r.length; i < s; i++) {
                        var o = r[i].split("=");
                        if (o[0] && o[0] in t) { n.push(r[i]) } }
                    return n } };
            var i = function() {
                var e = { searchid: "", from: "", tm: "", tp: "" };
                var t = location.search.substring(1);
                var n = document.location.hash.substring(1);
                var i;
                var s = "";
                if (n == "") { s = "#bid=" + (new Date).getTime();
                    i = QNR.bookdata && QNR.bookdata.pId || document.getElementById("pId") && document.getElementById("pId").value || "";
                    if (i != "") { s += "&productid=" + i } } else {
                    if (n.indexOf("bid") == -1) { s = "&bid=" + (new Date).getTime() }
                    if (n.indexOf("productid") == -1) { i = QNR.bookdata && QNR.bookdata.pId || document.getElementById("pId") && document.getElementById("pId").value || "";
                        if (i != "") { s += "&productid=" + i } } }
                QNR.bid = s.substring(1);
                var o = "/user/QunarDetailLog.do";
                var i = r.strToArr(t, { id: "" }).join(" ");
                i = i.replace("id", "product_id");
                var u = r.strToArr(n, e).join("_@_");
                var a = encodeURIComponent(document.referrer),
                    f = document.cookie.replace(/(_q=[^;]*;?)|(_t=[^;]*;?)/g, ""),
                    l = encodeURIComponent(window.location.href + s);
                var c = ["ref=" + a, "cook=" + encodeURIComponent(f), "url=" + l];
                return { id: i, param: u, url: o, service: c.join("&") } }();
            var s = function() {
                var e = { detail: function() {
                        var e = this.img(i.url + "?" + i.id + "&other=" + encodeURIComponent(i.param)) }, other: function() {
                        var e = this.img("/user/statistics.do?" + i.service) }, setcookies: function() {
                        var e = "/user/allocate_cookie.qunar";
                        this.img(e) }, img: function(e) {
                        var t = document.createElement("img");
                        t.width = 1;
                        t.height = 1;
                        t.src = e;
                        document.body.appendChild(t);
                        t.style.display = "none";
                        return t } };
                return { render: function(t) { e.setcookies();
                        if (t) { e.detail() }
                        e.other() }, setCookie: function() { e.setcookies() } } }();
            var o = { regex: /tm=([^&]*)/, getHashType: function(e, n) {
                    var r = e && t[e] && t[e].key;
                    var i = n || location.hash;
                    if (i.indexOf("tm=") == -1) { i = "#tm=" + r + i;
                        return i }
                    var i = i.replace(this.regex, function(e, t) {
                        return "tm=" + r });
                    return i }, cache: {}, replace: function(e) {
                    var t = QNR.hash.hashObject.concat().join("&");
                    e = decodeURIComponent(e);
                    var n = e.indexOf("#");
                    var r = e.substring(n + 1);
                    if (!r) return "";
                    r = r.split("&");
                    for (var i = 0; i < r.length; i++) {
                        var s = r[i].split("=");
                        if (s && s[1]) {
                            var o = new RegExp(s[0] + "=[^&]*");
                            if (o.test(t)) { t = t.replace(o, r[i]) } else { t += "&" + r[i] } } else {
                            return e } }
                    return e.substr(0, n) + "#" + t } };
            var u = { url: "/user/detail/log.do", log: function(e) {
                    var t = this.formatUrl(e);
                    $.get(t) }, formatUrl: function(e) {
                    var t = [];
                    t.push(options.service);
                    e = e || {};
                    for (var n in e) { t.push(n + "=" + e[n]) }
                    t = t.join("&");
                    return this.url + "?" + t } };
            window.logModule = u;
            e.QNR.hash = n;
            window.QNR.rewriteUrl = o;
            window.QNR.dailyServer = s })(window) }(t.exports, t, e);
    e.____MODULES["a3b7f32213f44e9483f855b82c04bab8"] = t.exports })(this);
(function(e) {
    var t = { id: "f034af631966d311ef4d1e6b0242dc51", filename: "favorites.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() {
            var e = document.domain;
            var t = function(e, t, n) {
                var e = e || document.title || "去哪儿网Qunar.com";
                t = t || location;
                try {
                    if (document.all) { window.external.addFavorite(t, e) } else if (window.sidebar) { window.sidebar.addPanel(e, t, "") } else { alert("当前浏览器不支持自动收藏功能，请尝试使用Ctrl+D进行添加");
                        n && n(false) } } catch (r) {} };
            $.namespace("QNR.module.fav", { init: function() { this.attachEvent() }, attachEvent: function() { this._attachShop();
                    this._attachLocal() }, _attachShop: function() {
                    var e = $(".js_favorite_shop");
                    if (e.length) { e.unbind().bind("click", function(e) { e.preventDefault();
                            var n = "去哪儿度假-" + document.title;
                            t(n) }) } }, _attachLocal: function() {
                    var e = $(".js_favorite_wrapper");
                    if (e.length) { e.unbind().bind("click", function(e) { e.preventDefault();
                            t() }) } } });
            $(function() {}) })() }(t.exports, t, e);
    e.____MODULES["f034af631966d311ef4d1e6b0242dc51"] = t.exports })(this);
(function(e) {
    var t = { id: "e4fe9355b65225a6e19d8ea1010fc36f", filename: "pgAdultAbroad.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["pgAdultAbroad"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<li class='js_p_p_item'>");
            r.b("\n" + n);
            r.b('    <div class="guest_info cf">');
            r.b("\n" + n);
            r.b('        <div class="guest_num">');
            r.b("\n" + n);
            r.b('            <strong><i class="required"></i>旅客<font item="num">');
            r.b(r.v(r.f("num", e, t, 0)));
            r.b("</font></strong>");
            r.b("\n" + n);
            r.b('            <span class="js-adultsstandard-label">成人&gt;12岁</span>');
            r.b("\n" + n);
            r.b('            <span><input type="hidden" value="true" data-type="isAdult" name="isAdult"></span>');
            r.b("\n" + n);
            r.b("        </div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('        <div class="guest_info_main cf">');
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('            <div class="js_ul">');
            r.b("\n" + n);
            r.b('                <div class="pb cf js_code_box">');
            r.b("\n" + n);
            r.b('                    <div class="label">姓名</div>');
            r.b("\n" + n);
            r.b('                    <div class="inputgroup">');
            r.b("\n" + n);
            r.b('                        <input type="hidden" name="contactId">');
            r.b("\n" + n);
            r.b('                        <input type="text" class="input_text" data-type="name" value="');
            r.b(r.v(r.f("name", e, t, 0)));
            r.b('"');
            r.b("\n" + n);
            r.b('                               data-jvalidator-pattern="person_name & require" data-jvalidator-tiptype="1"');
            r.b("\n" + n);
            r.b('                               maxlength="30" name="name" item="js_pname">');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            if (!r.s(r.f("isVisa", e, t, 1), e, t, 1, 0, 0, "")) { r.b('                        <div class="label">证件类型</div>');
                r.b("\n" + n);
                r.b('                        <div class="select">');
                r.b("\n" + n);
                r.b("                            <select name=\"idType\" class='js_idType' item=\"js_pcredentialstype\" data-classify='adult'");
                r.b("\n" + n);
                r.b('                                    data-type="idType"></select>');
                r.b("\n" + n);
                r.b("                        </div>");
                r.b("\n" + n);
                r.b('                        <div class="inputgroup w190_inte">');
                r.b("\n" + n);
                r.b('                            <input type="text" class="input_text" data-type="idNo" value="');
                r.b(r.v(r.f("idNo", e, t, 0)));
                r.b('"');
                r.b("\n" + n);
                r.b('                                   item="js_pcredentialsno" data-jvalidator-pattern="id_no & require" maxlength="50"');
                r.b("\n" + n);
                r.b('                                   name="idNo"/>');
                r.b("\n" + n);
                if (r.s(r.f("forgetCode", e, t, 1), e, t, 0, 1649, 2321, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('                                <div class="js_forget_id ');
                        if (r.s(r.f("hasUseInsurance", e, t, 1), e, t, 0, 1727, 1731, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("hide") });
                            e.pop() }
                        r.b('">');
                        r.b("\n" + n);
                        r.b('                                    <input type="hidden" name="code_false" value="false">');
                        r.b("\n" + n);
                        r.b('		            	<span class="checkbox js_forget_id_checkbox"><i class="icon"></i>忘记证件号码<i');
                        r.b("\n" + n);
                        r.b('                                class="checkbox_war_blue"></i><span class="checkbox_war_infotip hide"><span>该出行人证件号码可暂缓提供；请在订单');
                        r.b("\n" + n);
                        r.b('					提交后尽快到我的订单中补充相关证件信息以确保您的正常出行。</span><span class="checkbox_caret_tl"><i');
                        r.b("\n" + n);
                        r.b('                                class="checkbox_caret_out"></i><i class="checkbox_caret_in"></i></span></span></span>');
                        r.b("\n" + n);
                        r.b("                                </div>");
                        r.b("\n") });
                    e.pop() }
                r.b("                        </div>");
                r.b("\n") }
            if (r.s(r.f("isVisa", e, t, 1), e, t, 0, 2431, 3467, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('                        <div class="label">手机</div>');
                    r.b("\n" + n);
                    r.b('                        <input type="hidden" name="idType" value="7">');
                    r.b("\n" + n);
                    r.b('                        <input type="hidden" name="idNo" value="007">');
                    r.b("\n" + n);
                    r.b('                        <div class="inputgroup w66_inte">');
                    r.b("\n" + n);
                    r.b('                            <input class="input_text code" type="text" name="teleCode" value="86" data-jvalidator-pattern="require&countryCode" placeholder="国家码">');
                    r.b("\n" + n);
                    r.b("                        </div>");
                    r.b("\n" + n);
                    r.b('                        <div class="inputgroup w200_inte">');
                    r.b("\n" + n);
                    r.b('                            <input type="text" class="input_text" data-type="idNo" value="" item="js_pcredentialsno"');
                    r.b("\n" + n);
                    r.b('                                   data-jvalidator-pattern="require&mobile" maxlength="50" name="telephone">');
                    r.b("\n" + n);
                    r.b('                            <div class="num_idcard" style="display:none;">');
                    r.b("\n" + n);
                    r.b("                            </div>");
                    r.b("\n" + n);
                    r.b("                        </div>");
                    r.b("\n" + n);
                    r.b('                        <div class="ops">');
                    r.b("\n" + n);
                    r.b('                            <a href="javascript:;" item="clrBtn">清空</a>');
                    r.b("\n" + n);
                    r.b("                        </div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            r.b("                </div>");
            r.b("\n" + n);
            r.b("\n" + n);
            if (r.s(r.f("hasInsurance", e, t, 1), e, t, 0, 3537, 6268, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('                    <div class="pb cf js_a_ul ');
                    if (!r.s(r.f("hasUseInsurance", e, t, 1), e, t, 1, 0, 0, "")) { r.b("hide") }
                    r.b('">');
                    r.b("\n" + n);
                    r.b('                        <div class="label">姓氏拼音</div>');
                    r.b("\n" + n);
                    r.b('                        <div class="inputgroup">');
                    r.b("\n" + n);
                    r.b('                            <input type="text" class="input_text" data-jvalidator-pattern="require & is_english_name"');
                    r.b("\n" + n);
                    r.b('                                   data-type="first_name" value="');
                    r.b(r.v(r.f("first_name", e, t, 0)));
                    r.b('" name="first_name">');
                    r.b("\n" + n);
                    r.b("                        </div>");
                    r.b("\n" + n);
                    r.b("\n" + n);
                    r.b('                        <div class="label">名字拼音</div>');
                    r.b("\n" + n);
                    r.b('                        <div class="inputgroup">');
                    r.b("\n" + n);
                    r.b('                            <input type="text" class="input_text" name="last_name"');
                    r.b("\n" + n);
                    r.b('                                   data-jvalidator-pattern="require & is_english_name" data-type="last_name"');
                    r.b("\n" + n);
                    r.b('                                   value="');
                    r.b(r.v(r.f("last_name", e, t, 0)));
                    r.b('"/>');
                    r.b("\n" + n);
                    r.b("                        </div>");
                    r.b("\n" + n);
                    r.b("                    </div>");
                    r.b("\n" + n);
                    if (!r.s(r.f("onlyPinYin", e, t, 1), e, t, 1, 0, 0, "")) { r.b('                        <div class="js_a_ul ');
                        if (!r.s(r.f("hasUseInsurance", e, t, 1), e, t, 1, 0, 0, "")) { r.b("hide") }
                        r.b('">');
                        r.b("\n" + n);
                        r.b('                            <div class="pb cf">');
                        r.b("\n" + n);
                        r.b('                                <div class="label">性&nbsp;&nbsp;别</div>');
                        r.b("\n" + n);
                        r.b('                                <div class="select">');
                        r.b("\n" + n);
                        r.b('                                    <select node-type="sex" data-type="sex" name="sex" class="sex">');
                        r.b("\n" + n);
                        r.b('                                        <option selected value="M">男</option>');
                        r.b("\n" + n);
                        r.b('                                        <option value="F">女</option>');
                        r.b("\n" + n);
                        r.b("                                    </select>");
                        r.b("\n" + n);
                        r.b("                                </div>");
                        r.b("\n" + n);
                        r.b('                                <div class="label">出生日期<input type="hidden" value="" name="birth_date" class="js-date"></div>');
                        r.b("\n" + n);
                        r.b('                                <div class="inputgroup">');
                        r.b("\n" + n);
                        r.b('                                    <input type="text" name="birth_year" value="" class="input_text js-year" placeholder="出生年份"');
                        r.b("\n" + n);
                        r.b('                                           maxlength="4" data-jvalidator-pattern="require & is_year"/>');
                        r.b("\n" + n);
                        r.b("                                </div>");
                        r.b("\n" + n);
                        r.b('                                <div class="inputgroup w88_inte">');
                        r.b("\n" + n);
                        r.b('                                    <input type="text" name="birth_month" value="" class="input_text js-month" placeholder="月份"');
                        r.b("\n" + n);
                        r.b('                                           maxlength="2" data-jvalidator-pattern="require & is_month"/>');
                        r.b("\n" + n);
                        r.b("                                </div>");
                        r.b("\n" + n);
                        r.b('                                <div class="inputgroup w88_inte">');
                        r.b("\n" + n);
                        r.b('                                    <input type="text" name="birth_day" value="" class="input_text js-day" placeholder="日期"');
                        r.b("\n" + n);
                        r.b('                                           maxlength="2" data-jvalidator-pattern="require & is_day"/>');
                        r.b("\n" + n);
                        r.b("                                </div>");
                        r.b("\n" + n);
                        r.b("                            </div>");
                        r.b("\n" + n);
                        r.b("                        </div>");
                        r.b("\n" + n);
                        r.b("\n") } });
                e.pop() }
            r.b("\n" + n);
            if (!r.s(r.f("isVisa", e, t, 1), e, t, 1, 0, 0, "")) { r.b('                    <div class=" js_cpv_ul ');
                if (!r.s(r.f("isShowCvp", e, t, 1), e, t, 1, 0, 0, "")) { r.b("hide") }
                r.b('">');
                r.b("\n" + n);
                r.b('                        <div class="pb cf">');
                r.b("\n" + n);
                r.b('                            <div class="label">证件签发地</div>');
                r.b("\n" + n);
                r.b('                            <div class="inputgroup">');
                r.b("\n" + n);
                r.b('                                <input type="hidden" value="CN" name="certificate_place" data-type="certificate_place"/>');
                r.b("\n" + n);
                r.b("\n" + n);
                r.b('                                <input data-type="certificate_place_cn" value="中国" name="issuedCountry" type="text" data-jvalidator-pattern="require & isSuggest" class="input_text">');
                r.b("\n" + n);
                r.b("                            </div>");
                r.b("\n" + n);
                r.b('                            <div class="label">证件有效期<input type="hidden" value="" name="cvp_date" class="js-date"></div>');
                r.b("\n" + n);
                r.b('                            <div class="inputgroup">');
                r.b("\n" + n);
                r.b('                                <input type="text" class="input_text js-year"  name="cvp_year"  placeholder="有效期年份"');
                r.b("\n" + n);
                r.b('                                       maxlength="4" data-jvalidator-pattern="require & is_year"/>');
                r.b("\n" + n);
                r.b("                            </div>");
                r.b("\n" + n);
                r.b('                            <div class="inputgroup w88_inte">');
                r.b("\n" + n);
                r.b('                                <input type="text" class="input_text js-month"  name="cvp_month"  placeholder="月份"');
                r.b("\n" + n);
                r.b('                                       maxlength="2" data-jvalidator-pattern="require & is_month"/>');
                r.b("\n" + n);
                r.b("                            </div>");
                r.b("\n" + n);
                r.b('                            <div class="inputgroup w88_inte">');
                r.b("\n" + n);
                r.b('                                <input type="text" class="input_text js-day"  name="cvp_day"  placeholder="日期"');
                r.b("\n" + n);
                r.b('                                       maxlength="2" data-jvalidator-pattern="require & is_day"/>');
                r.b("\n" + n);
                r.b("                            </div>");
                r.b("\n" + n);
                r.b("                        </div>");
                r.b("\n" + n);
                r.b("                    </div>");
                r.b("\n" + n);
                r.b('                    <div class="ops">');
                r.b("\n" + n);
                r.b('                        <a href="javascript:;" item="clrBtn">清空</a>');
                r.b("\n" + n);
                r.b("                    </div>");
                r.b("\n") }
            r.b("            </div>");
            r.b("\n" + n);
            r.b("        </div>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["pgAdultAbroad"] }(t.exports, t, e);
    e.____MODULES["e4fe9355b65225a6e19d8ea1010fc36f"] = t.exports })(this);
(function(e) {
    var t = { id: "c1c39efc96a08ba92be9928040d4ba0c", filename: "pgAdultInner.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["pgAdultInner"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<li class='js_p_p_item'>");
            r.b("\n" + n);
            r.b('	<div class="guest_info cf">');
            r.b("\n" + n);
            r.b('		<div class="guest_num">');
            r.b("\n" + n);
            r.b('	    	<strong><i class="required"></i>旅客<font item="num">');
            r.b(r.v(r.f("num", e, t, 0)));
            r.b("</font></strong>");
            r.b("\n" + n);
            r.b('            <span class="js-adultsstandard-label">成人&gt;12岁</span><span><input type="hidden" value="true" data-type="isAdult" name="isAdult"></span>');
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	    ");
            r.b("\n" + n);
            r.b('	    <div class="guest_info_main cf">');
            r.b("\n" + n);
            r.b('	    	<div class="pb cf js_ul js_code_box">');
            r.b("\n" + n);
            r.b('	    		<div class="label">姓名</div>');
            r.b("\n" + n);
            r.b('		        <div class="inputgroup">');
            r.b("\n" + n);
            r.b('		        	<input type="hidden" name="contactId">');
            r.b("\n" + n);
            r.b('		            <input type="text" class="input_text" data-type="name" value="');
            r.b(r.v(r.f("name", e, t, 0)));
            r.b('" data-jvalidator-pattern="person_name & require" data-jvalidator-tiptype="1" maxlength="30" name="name" item="js_pname">');
            r.b("\n" + n);
            r.b("		        </div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('		        <div class="label">证件号码</div>    ');
            r.b("\n" + n);
            r.b('		        <div class="select">');
            r.b("\n" + n);
            r.b('		        	<select class=\'js_idType\' name="idType" item="js_pcredentialstype" data-classify=\'adult\' data-type="idType"></select>');
            r.b("\n" + n);
            r.b("		        </div>  ");
            r.b("\n" + n);
            r.b('		        <div class="inputgroup w190_inte">');
            r.b("\n" + n);
            r.b('		            <input type="text" name="idNo" class="input_text" data-type="idNo" value="');
            r.b(r.v(r.f("idNo", e, t, 0)));
            r.b('"  item="js_pcredentialsno" data-jvalidator-pattern="id_no & require" maxlength="50"/>');
            r.b("\n" + n);
            if (r.s(r.f("forgetCode", e, t, 1), e, t, 0, 1234, 1772, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('		            <div class="js_forget_id ');
                    if (r.s(r.f("hasUseInsurance", e, t, 1), e, t, 0, 1294, 1298, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("hide") });
                        e.pop() }
                    r.b('">');
                    r.b("\n" + n);
                    r.b('		            	<input type="hidden" name="code_false" value="false">	');
                    r.b("\n" + n);
                    r.b('		            	<span class="checkbox js_forget_id_checkbox"><i class="icon"></i>忘记证件号码<i class="checkbox_war_blue"></i><span class="checkbox_war_infotip hide"><span>该出行人证件号码可暂缓提供；请在订单');
                    r.b("\n" + n);
                    r.b('					提交后尽快到我的订单中补充相关证件信息以确保您的正常出行。</span><span class="checkbox_caret_tl"><i class="checkbox_caret_out"></i><i class="checkbox_caret_in"></i></span></span></span>');
                    r.b("\n" + n);
                    r.b("		            </div>");
                    r.b("\n") });
                e.pop() }
            r.b("		        </div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b("	    	</div>");
            r.b("\n" + n);
            r.b("	    	");
            r.b("\n" + n);
            if (r.s(r.f("hasInsurance", e, t, 1), e, t, 0, 1849, 2985, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('            <div class="pb cf js_a_ul">');
                    r.b("\n" + n);
                    r.b('				<div class="label">性别</div>    ');
                    r.b("\n" + n);
                    r.b('				<div class="select">');
                    r.b("\n" + n);
                    r.b('					<select node-type="sex" data-type="sex" name="sex" class="sex">');
                    r.b("\n" + n);
                    r.b('						<option selected value="M">男</option>');
                    r.b("\n" + n);
                    r.b('						<option value="F">女</option>');
                    r.b("\n" + n);
                    r.b("					</select>");
                    r.b("\n" + n);
                    r.b("				</div>  ");
                    r.b("\n" + n);
                    r.b("              ");
                    r.b("\n" + n);
                    r.b('            	<div class="label">出生日期<input type="hidden" class="js-date" value="" name="birth_date"></div>  ');
                    r.b("\n" + n);
                    r.b('                <div class="inputgroup">');
                    r.b("\n" + n);
                    r.b('                    <input type="text" name="birth_year" value="" class="input_text js-year" placeholder="出生年份" maxlength="4" data-jvalidator-pattern="require & is_year"/> </div>');
                    r.b("\n" + n);
                    r.b('                <div class="inputgroup w88_inte">');
                    r.b("\n" + n);
                    r.b('                    <input type="text" name="birth_month" value="" class="input_text js-month" placeholder="月份" maxlength="2" data-jvalidator-pattern="require & is_month"/>');
                    r.b("\n" + n);
                    r.b("                </div>");
                    r.b("\n" + n);
                    r.b('                <div class="inputgroup w88_inte">');
                    r.b("\n" + n);
                    r.b('                    <input type="text" name="birth_day" value="" class="input_text js-day" placeholder="日期" maxlength="2" data-jvalidator-pattern="require & is_day"/>');
                    r.b("\n" + n);
                    r.b("                </div>");
                    r.b("\n" + n);
                    r.b("            </div>");
                    r.b("\n") });
                e.pop() }
            r.b('            <div class=" js_cpv_ul ');
            if (!r.s(r.f("isShowCvp", e, t, 1), e, t, 1, 0, 0, "")) { r.b("hide") }
            r.b('">');
            r.b("\n" + n);
            r.b('                <div class="pb cf">');
            r.b("\n" + n);
            r.b('                    <div class="label">证件签发地</div>');
            r.b("\n" + n);
            r.b('                    <div class="inputgroup">');
            r.b("\n" + n);
            r.b('                        <input type="hidden" value="CN" name="certificate_place" data-type="certificate_place"/>');
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('                        <input data-type="certificate_place_cn" value="中国" name="issuedCountry" type="text" data-jvalidator-pattern="require & isSuggest" class="input_text">');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b('                    <div class="label">证件有效期<input type="hidden" value="" name="cvp_date" class="js-date"></div>');
            r.b("\n" + n);
            r.b('                    <div class="inputgroup">');
            r.b("\n" + n);
            r.b('                        <input type="text" class="input_text js-year"  name="cvp_year"  placeholder="有效期年份"');
            r.b("\n" + n);
            r.b('                               maxlength="4" data-jvalidator-pattern="require & is_year"/>');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b('                    <div class="inputgroup w88_inte">');
            r.b("\n" + n);
            r.b('                        <input type="text" class="input_text js-month"  name="cvp_month"  placeholder="月份"');
            r.b("\n" + n);
            r.b('                               maxlength="2" data-jvalidator-pattern="require & is_month"/>');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b('                    <div class="inputgroup w88_inte">');
            r.b("\n" + n);
            r.b('                        <input type="text" class="input_text js-day"   name="cvp_day"  placeholder="日期"');
            r.b("\n" + n);
            r.b('                               maxlength="2" data-jvalidator-pattern="require & is_day"/>');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b("                </div>");
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            if (!r.s(r.f("isFreecombine", e, t, 1), e, t, 1, 0, 0, "")) { r.b('	        <div class="ops">');
                r.b("\n" + n);
                r.b("	        	");
                if (r.s(r.f("taocan", e, t, 1), e, t, 0, 4577, 4620, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<a href="javascript:;" item="delBtn">删除</a>') });
                    e.pop() }
                r.b("\n" + n);
                r.b('            	<a href="javascript:;" item="clrBtn">清空</a>');
                r.b("\n" + n);
                r.b("            </div>");
                r.b("\n") }
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["pgAdultInner"] }(t.exports, t, e);
    e.____MODULES["c1c39efc96a08ba92be9928040d4ba0c"] = t.exports })(this);
(function(e) {
    var t = { id: "9c51ab604688fe518e53dc973c2f910a", filename: "pgCardTip.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["pgCardTip"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="alert_card js_p_p_card ');
            if (r.s(r.f("isCvp", e, t, 1), e, t, 0, 45, 59, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("alert_card_cpv") });
                e.pop() }
            r.b('" style="display:none;">');
            r.b("\n" + n);
            r.b('  <div class="alert_card_main">');
            r.b("\n" + n);
            r.b('  	 <span class="close"></span>');
            r.b("\n" + n);
            r.b('     <div class="note">');
            r.b("\n" + n);
            r.b("   	   <p>请严格按照登机时所用证件上的信息填写。</p>");
            r.b("\n" + n);
            r.b("   	   <p>填写说明以中国大陆护照上的位置为例。</p>");
            r.b("\n" + n);
            if (r.s(r.f("isCvp", e, t, 1), e, t, 0, 266, 305, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("	   <p>旅行结束日期需要比证件有效期早6个月。</p>");
                    n.b("\n") });
                e.pop() }
            r.b("     </div>");
            r.b("\n" + n);
            r.b('     <div class="imgs"><img src="//source.qunarzz.com/tts/images/demo/bg_idcard.png" alt=""></div>');
            r.b("\n" + n);
            r.b("  </div>");
            r.b("\n" + n);
            r.b('  <div class="caret_bl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["pgCardTip"] }(t.exports, t, e);
    e.____MODULES["9c51ab604688fe518e53dc973c2f910a"] = t.exports })(this);
(function(e) {
    var t = { id: "d7e5fd9f16a9279981aa4354d2358f42", filename: "csSelect.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["csSelect"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="select ');
            r.b(r.v(r.f("otherClass", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('	<div class="selected" js-select-item="show">');
            r.b("\n" + n);
            r.b('		<span class="sel_con" item="shower"></span>');
            r.b("\n" + n);
            r.b('		<i class="icon"></i>');
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b('	<div class="option">');
            r.b("\n" + n);
            r.b('		<ul js-select-item="list">');
            r.b("\n" + n);
            r.b('		    <li js-select-item="option" value="{value}">{name}</li>');
            r.b("\n" + n);
            r.b("		</ul>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</div> ");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["csSelect"] }(t.exports, t, e);
    e.____MODULES["d7e5fd9f16a9279981aa4354d2358f42"] = t.exports })(this);
(function(e) {
    var t = { id: "596352fa8f5fb0ce6e81293784719421", filename: "pgChildAbroad.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["pgChildAbroad"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<li class='js_p_p_item'>");
            r.b("\n" + n);
            r.b('	<div class="guest_info cf">');
            r.b("\n" + n);
            r.b('		<div class="guest_num">');
            r.b("\n" + n);
            r.b('	    	<strong><i class="required"></i>旅客<font item="num">');
            r.b(r.v(r.f("num", e, t, 0)));
            r.b("</font></strong>");
            r.b("\n" + n);
            r.b('            <span class="js-childrenstandard-label">儿童&lt;12岁</span>');
            r.b("\n" + n);
            r.b('                <div class="js-childrenstandard-tip coupon_tip cf" style="padding:0px 36px;margin:0px;">');
            r.b("\n" + n);
            r.b('                    <div class="e_agiolist_help">');
            r.b("\n" + n);
            r.b('                        <div class="help_name">&nbsp;</div>');
            r.b("\n" + n);
            r.b('                        <div class="pop_tips js-tip-content" style="display: none;">');
            r.b("\n" + n);
            r.b("                            <p>凡购买儿童票的旅客须符合购买儿童票的条件，如有不符情况产生额外费用或者产品无法使用的情况，后果须用户自行承担。</p>");
            r.b("\n" + n);
            r.b('                            <div class="caret_tl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("                        </div>");
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b("                </div>");
            r.b("\n" + n);
            r.b('                <input type="hidden" value="false" data-type="isAdult" name="isAdult">');
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	    ");
            r.b("\n" + n);
            r.b('	    <div class="guest_info_main cf">');
            r.b("\n" + n);
            r.b("	        ");
            r.b("\n" + n);
            r.b("	        ");
            r.b("\n" + n);
            r.b('	        <div class="js_ul js_code_box">');
            r.b("\n" + n);
            r.b('	            <div class="pb cf">');
            r.b("\n" + n);
            r.b('	                <div class="label">姓名</div>');
            r.b("\n" + n);
            r.b('			        <div class="inputgroup">');
            r.b("\n" + n);
            r.b('			        	<input type="hidden" name="contactId">');
            r.b("\n" + n);
            r.b('			            <input type="text" class="input_text" data-type="name" value="');
            r.b(r.v(r.f("name", e, t, 0)));
            r.b('" data-jvalidator-pattern="person_name & require" data-jvalidator-tiptype="1" maxlength="30" name="name" item="js_pname">');
            r.b("\n" + n);
            r.b("			        </div> ");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('			       <div class="label">证件类型</div>    ');
            r.b("\n" + n);
            r.b('		        <div class="select">');
            r.b("\n" + n);
            r.b('		        	<select name="idType" class=\'js_idType\' item="js_pcredentialstype" data-classify=\'adult\' data-type="idType"></select>');
            r.b("\n" + n);
            r.b("		        </div>  ");
            r.b("\n" + n);
            r.b('		        <div class="inputgroup w190_inte">');
            r.b("\n" + n);
            r.b('		            <input type="text" class="input_text" data-type="idNo" value="');
            r.b(r.v(r.f("idNo", e, t, 0)));
            r.b('" item="js_pcredentialsno" data-jvalidator-pattern="id_no & require" maxlength="50" name="idNo"/>');
            r.b("\n" + n);
            if (r.s(r.f("forgetCode", e, t, 1), e, t, 0, 1883, 2422, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('		            <div class="js_forget_id ');
                    if (r.s(r.f("hasUseInsurance", e, t, 1), e, t, 0, 1943, 1947, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("hide") });
                        e.pop() }
                    r.b('">');
                    r.b("\n" + n);
                    r.b('		            	<input type="hidden" name="code_false" value="false">	');
                    r.b("\n" + n);
                    r.b('		            	 <span class="checkbox js_forget_id_checkbox"><i class="icon"></i>忘记证件号码<i class="checkbox_war_blue"></i><span class="checkbox_war_infotip hide"><span>该出行人证件号码可暂缓提供；请在订单');
                    r.b("\n" + n);
                    r.b('					提交后尽快到我的订单中补充相关证件信息以确保您的正常出行。</span><span class="checkbox_caret_tl"><i class="checkbox_caret_out"></i><i class="checkbox_caret_in"></i></span></span></span>');
                    r.b("\n" + n);
                    r.b("		            </div>");
                    r.b("\n") });
                e.pop() }
            r.b("		        </div>  ");
            r.b("\n" + n);
            r.b("	            </div><!--第一行 -->");
            r.b("\n" + n);
            r.b("           	</div>");
            r.b("\n" + n);
            r.b("            ");
            r.b("\n" + n);
            if (r.s(r.f("hasInsurance", e, t, 1), e, t, 0, 2549, 4667, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('            <div class="pb cf js_a_ul ');
                    if (!r.s(r.f("hasUseInsurance", e, t, 1), e, t, 1, 0, 0, "")) { r.b("hide") }
                    r.b('">');
                    r.b("\n" + n);
                    r.b(' 	              <div class="label">姓氏拼音</div>');
                    r.b("\n" + n);
                    r.b('	              <div class="inputgroup">');
                    r.b("\n" + n);
                    r.b('	                  <input type="text" class="input_text" data-jvalidator-pattern="require & is_english_name" data-type="first_name" value="');
                    r.b(r.v(r.f("first_name", e, t, 0)));
                    r.b('" name="first_name">  ');
                    r.b("\n" + n);
                    r.b("	              </div>   ");
                    r.b("\n" + n);
                    r.b("	              ");
                    r.b("\n" + n);
                    r.b('	              <div class="label">名字拼音</div>');
                    r.b("\n" + n);
                    r.b('	              <div class="inputgroup">');
                    r.b("\n" + n);
                    r.b('	                  <input type="text" class="input_text" name="last_name" data-jvalidator-pattern="require & is_english_name" data-type="last_name" value="');
                    r.b(r.v(r.f("last_name", e, t, 0)));
                    r.b('"/>');
                    r.b("\n" + n);
                    r.b("	              </div>  ");
                    r.b("\n" + n);
                    r.b("	        </div>  ");
                    r.b("\n" + n);
                    r.b("	            ");
                    r.b("\n" + n);
                    if (!r.s(r.f("onlyPinYin", e, t, 1), e, t, 1, 0, 0, "")) { r.b('	        <div class="js_a_ul ');
                        if (!r.s(r.f("hasUseInsurance", e, t, 1), e, t, 1, 0, 0, "")) { r.b("hide") }
                        r.b('">');
                        r.b("\n" + n);
                        r.b('	            <div class="pb cf">');
                        r.b("\n" + n);
                        r.b('		            <div class="label">性&nbsp;&nbsp;别</div>    ');
                        r.b("\n" + n);
                        r.b('		                <div class="select">');
                        r.b("\n" + n);
                        r.b('		                  <select node-type="sex" data-type="sex" name="sex" class="sex">');
                        r.b("\n" + n);
                        r.b('		                    <option selected value="M">男</option>');
                        r.b("\n" + n);
                        r.b('		                    <option value="F">女</option>');
                        r.b("\n" + n);
                        r.b("		                </select>   ");
                        r.b("\n" + n);
                        r.b("		             </div>  ");
                        r.b("\n" + n);
                        r.b('	            	<div class="label">出生日期<input type="hidden" class="js-date" value="" name="birth_date"></div>  	 ');
                        r.b("\n" + n);
                        r.b('	                 <div class="inputgroup">	 ');
                        r.b("\n" + n);
                        r.b('	                     <input type="text" name="birth_year" value="" class="input_text js-year" placeholder="出生年份" maxlength="4" data-jvalidator-pattern="require & is_year"/>	 ');
                        r.b("\n" + n);
                        r.b("	                 </div>	 ");
                        r.b("\n" + n);
                        r.b('	                 <div class="inputgroup w88_inte">	 ');
                        r.b("\n" + n);
                        r.b('	                     <input type="text" name="birth_month" value="" class="input_text js-month" placeholder="月份" maxlength="2" data-jvalidator-pattern="require & is_month"/>	 ');
                        r.b("\n" + n);
                        r.b("	                 </div>	 ");
                        r.b("\n" + n);
                        r.b('	                 <div class="inputgroup w88_inte">	 ');
                        r.b("\n" + n);
                        r.b('	                     <input type="text" name="birth_day" value="" class="input_text js-day" placeholder="日期" maxlength="2" data-jvalidator-pattern="require & is_day"/>	 ');
                        r.b("\n" + n);
                        r.b("	                 </div>");
                        r.b("\n" + n);
                        r.b("	            </div>");
                        r.b("\n" + n);
                        r.b("            </div>");
                        r.b("\n") } });
                e.pop() }
            r.b('        	<div class=" js_cpv_ul ');
            if (!r.s(r.f("isShowCvp", e, t, 1), e, t, 1, 0, 0, "")) { r.b("hide") }
            r.b('">');
            r.b("\n" + n);
            r.b('                <div class="pb cf">');
            r.b("\n" + n);
            r.b('                    <div class="label">证件签发地</div>');
            r.b("\n" + n);
            r.b('                    <div class="inputgroup">');
            r.b("\n" + n);
            r.b('                        <input type="hidden" value="CN" name="certificate_place" data-type="certificate_place"/>');
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('                        <input data-type="certificate_place_cn" value="中国" name="issuedCountry" type="text" data-jvalidator-pattern="require & isSuggest" class="input_text">');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b('                    <div class="label">证件有效期<input type="hidden" value="" name="cvp_date" class="js-date"></div>');
            r.b("\n" + n);
            r.b('                    <div class="inputgroup">');
            r.b("\n" + n);
            r.b('                        <input type="text" class="input_text js-year"  name="cvp_year"  placeholder="有效期年份"');
            r.b("\n" + n);
            r.b('                               maxlength="4" data-jvalidator-pattern="require & is_year"/>');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b('                    <div class="inputgroup w88_inte">');
            r.b("\n" + n);
            r.b('                        <input type="text" class="input_text js-month"  name="cvp_month"  placeholder="月份"');
            r.b("\n" + n);
            r.b('                               maxlength="2" data-jvalidator-pattern="require & is_month"/>');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b('                    <div class="inputgroup w88_inte">');
            r.b("\n" + n);
            r.b('                        <input type="text" class="input_text js-day"   name="cvp_day"  placeholder="日期"');
            r.b("\n" + n);
            r.b('                               maxlength="2" data-jvalidator-pattern="require & is_day"/>');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b("                </div>");
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b('        	<div class="ops">');
            r.b("\n" + n);
            r.b("        		");
            if (r.s(r.f("taocan", e, t, 1), e, t, 0, 6228, 6271, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<a href="javascript:;" item="delBtn">删除</a>') });
                e.pop() }
            r.b("\n" + n);
            r.b('            	<a href="javascript:;" item="clrBtn">清空</a>');
            r.b("\n" + n);
            r.b("            </div> ");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["pgChildAbroad"] }(t.exports, t, e);
    e.____MODULES["596352fa8f5fb0ce6e81293784719421"] = t.exports })(this);
(function(e) {
    var t = { id: "10db3a0b0d8f0dcec292efc93c442774", filename: "pgChildInner.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["pgChildInner"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<li class='js_p_p_item'>");
            r.b("\n" + n);
            r.b('	<div class="guest_info cf">');
            r.b("\n" + n);
            r.b('		<div class="guest_num">');
            r.b("\n" + n);
            r.b('	    	<strong><i class="required"></i>旅客<font item="num">');
            r.b(r.v(r.f("num", e, t, 0)));
            r.b("</font></strong>");
            r.b("\n" + n);
            r.b('            <span class="js-childrenstandard-label">儿童&lt;12岁</span>');
            r.b("\n" + n);
            r.b('            <div class="js-childrenstandard-tip coupon_tip cf" style="padding:0px 36px;margin:0px;">');
            r.b("\n" + n);
            r.b('                <div class="e_agiolist_help">');
            r.b("\n" + n);
            r.b('                    <div class="help_name">&nbsp;</div>');
            r.b("\n" + n);
            r.b('                    <div class="pop_tips js-tip-content" style="display: none;">');
            r.b("\n" + n);
            r.b("                        <p>凡购买儿童票的旅客须符合购买儿童票的条件，如有不符情况产生额外费用或者产品无法使用的情况，后果须用户自行承担。</p>");
            r.b("\n" + n);
            r.b('                        <div class="caret_tl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b("                </div>");
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b('	        <input type="hidden" value="false" data-type="isAdult" name="isAdult">');
            r.b("\n" + n);
            r.b("	    	<!--");
            if (r.s(r.f("taocan", e, t, 1), e, t, 0, 873, 967, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<a class="deleteuser" item="close" href="javascript:;" title="温馨提示：若没有儿童出行，可以点击进行删除哦">删除旅客</a>') });
                e.pop() }
            r.b("-->");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	    ");
            r.b("\n" + n);
            r.b('	    <div class="guest_info_main cf">');
            r.b("\n" + n);
            r.b('	    	<div class="pb cf js_ul js_code_box">');
            r.b("\n" + n);
            r.b('		        <div class="label">姓名</div>');
            r.b("\n" + n);
            r.b('		        <div class="inputgroup">');
            r.b("\n" + n);
            r.b('                    <input type="hidden" name="contactId">');
            r.b("\n" + n);
            r.b('		        	<input class="input_text" type="text" name="name" item="js_pname" data-type="name" value="');
            r.b(r.v(r.f("name", e, t, 0)));
            r.b('" data-jvalidator-pattern="person_name & require" data-jvalidator-tiptype="1" maxlength="30">');
            r.b("\n" + n);
            r.b("		        </div>   ");
            r.b("\n" + n);
            r.b('		        <div class="label">证件号码</div>    ');
            r.b("\n" + n);
            r.b('		        <div class="select">');
            r.b("\n" + n);
            r.b('		        	<select class=\'js_idType\' name="idType" item="js_pcredentialstype" data-classify=\'child\' data-type="idType"></select>');
            r.b("\n" + n);
            r.b("		        </div>  ");
            r.b("\n" + n);
            r.b('		        <div class="inputgroup w190_inte">');
            r.b("\n" + n);
            r.b('		        	<input type="text" name="idNo" class="input_text" data-type="idNo" value="');
            r.b(r.v(r.f("idNo", e, t, 0)));
            r.b('"  item="js_pcredentialsno" data-jvalidator-pattern="id_no & require" maxlength="50">');
            r.b("\n" + n);
            if (r.s(r.f("forgetCode", e, t, 1), e, t, 0, 1910, 2446, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('		        	<div class="js_forget_id ');
                    if (r.s(r.f("hasUseInsurance", e, t, 1), e, t, 0, 1967, 1971, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("hide") });
                        e.pop() }
                    r.b('">');
                    r.b("\n" + n);
                    r.b('		            	 <input type="hidden" name="code_false" value="false">');
                    r.b("\n" + n);
                    r.b('		            	 <span class="checkbox js_forget_id_checkbox"><i class="icon"></i>忘记证件号码<i class="checkbox_war_blue"></i><span class="checkbox_war_infotip hide"><span>该出行人证件号码可暂缓提供；请在订单');
                    r.b("\n" + n);
                    r.b('					提交后尽快到我的订单中补充相关证件信息以确保您的正常出行。</span><span class="checkbox_caret_tl"><i class="checkbox_caret_out"></i><i class="checkbox_caret_in"></i></span></span></span>');
                    r.b("\n" + n);
                    r.b("		            </div>");
                    r.b("\n") });
                e.pop() }
            r.b("		        </div> ");
            r.b("\n" + n);
            r.b("	        </div>   ");
            r.b("\n" + n);
            r.b("	        ");
            r.b("\n" + n);
            if (r.s(r.f("hasInsurance", e, t, 1), e, t, 0, 2535, 3804, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('            <div class="pb cf js_a_ul ');
                    if (!r.s(r.f("hasUseInsurance", e, t, 1), e, t, 1, 0, 0, "")) { r.b("hide") }
                    r.b('">');
                    r.b("\n" + n);
                    r.b('              <div class="label">性别</div>    ');
                    r.b("\n" + n);
                    r.b('              <div class="select">');
                    r.b("\n" + n);
                    r.b('          		 <select node-type="sex" data-type="sex" name="sex" class="sex">');
                    r.b("\n" + n);
                    r.b('                    <option selected value="M">男</option>');
                    r.b("\n" + n);
                    r.b('                    <option value="F">女</option>');
                    r.b("\n" + n);
                    r.b("                 </select>");
                    r.b("\n" + n);
                    r.b("              </div>  ");
                    r.b("\n" + n);
                    r.b("              ");
                    r.b("\n" + n);
                    r.b('              	<div class="label">出生日期<input type="hidden" class="js-date" value="" name="birth_date"></div>   ');
                    r.b("\n" + n);
                    r.b('                <div class="inputgroup">');
                    r.b("\n" + n);
                    r.b('                    <input type="text" name="birth_year" value="" class="input_text js-year" placeholder="出生年份" maxlength="4" data-jvalidator-pattern="require & is_year"/>');
                    r.b("\n" + n);
                    r.b("                </div>");
                    r.b("\n" + n);
                    r.b('                <div class="inputgroup w88_inte">');
                    r.b("\n" + n);
                    r.b('                	<input type="text" name="birth_month" value="" class="input_text js-month" placeholder="月份" maxlength="2" data-jvalidator-pattern="require & is_month"/>');
                    r.b("\n" + n);
                    r.b("                </div>");
                    r.b("\n" + n);
                    r.b('                <div class="inputgroup w88_inte">');
                    r.b("\n" + n);
                    r.b('                	<input type="text" name="birth_day" value="" class="input_text js-day" placeholder="日期" maxlength="2" data-jvalidator-pattern="require & is_day"/>');
                    r.b("\n" + n);
                    r.b("            	</div>");
                    r.b("\n" + n);
                    r.b("            </div>");
                    r.b("\n") });
                e.pop() }
            r.b('            <div class=" js_cpv_ul ');
            if (!r.s(r.f("isShowCvp", e, t, 1), e, t, 1, 0, 0, "")) { r.b("hide") }
            r.b('">');
            r.b("\n" + n);
            r.b('                <div class="pb cf">');
            r.b("\n" + n);
            r.b('                    <div class="label">证件签发地</div>');
            r.b("\n" + n);
            r.b('                    <div class="inputgroup">');
            r.b("\n" + n);
            r.b('                        <input type="hidden" value="CN" name="certificate_place" data-type="certificate_place"/>');
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('                        <input data-type="certificate_place_cn" value="中国" name="issuedCountry" type="text" data-jvalidator-pattern="require & isSuggest" class="input_text">');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b('                    <div class="label">证件有效期<input type="hidden" value="" name="cvp_date" class="js-date"></div>');
            r.b("\n" + n);
            r.b('                    <div class="inputgroup">');
            r.b("\n" + n);
            r.b('                        <input type="text" class="input_text js-year"  name="cvp_year"  placeholder="有效期年份"');
            r.b("\n" + n);
            r.b('                               maxlength="4" data-jvalidator-pattern="require & is_year"/>');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b('                    <div class="inputgroup w88_inte">');
            r.b("\n" + n);
            r.b('                        <input type="text" class="input_text js-month"  name="cvp_month"  placeholder="月份"');
            r.b("\n" + n);
            r.b('                               maxlength="2" data-jvalidator-pattern="require & is_month"/>');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b('                    <div class="inputgroup w88_inte">');
            r.b("\n" + n);
            r.b('                        <input type="text" class="input_text js-day"   name="cvp_day"  placeholder="日期"');
            r.b("\n" + n);
            r.b('                               maxlength="2" data-jvalidator-pattern="require & is_day"/>');
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b("                </div>");
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b('        	<div class="ops">');
            r.b("\n" + n);
            r.b("            	");
            if (r.s(r.f("taocan", e, t, 1), e, t, 0, 5373, 5416, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<a href="javascript:;" item="delBtn">删除</a>') });
                e.pop() }
            r.b("\n" + n);
            r.b('            	<a href="javascript:;" item="clrBtn">清空</a>');
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["pgChildInner"] }(t.exports, t, e);
    e.____MODULES["10db3a0b0d8f0dcec292efc93c442774"] = t.exports })(this);
(function(e) {
    var t = { id: "342a151d92d2ee1a6680927a02f332e0", filename: "pgWrapper.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["pgWrapper"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<h1 class="title">');
            r.b("\n" + n);
            r.b('	<span class="tit_name">旅客信息</span>');
            r.b("\n" + n);
            r.b("	<div class=\"b_order_title\" item='js_help_w' style='display:none;'>");
            r.b("\n" + n);
            r.b("		<span class=\"fill_qunar\" item='btn'>去哪儿帮您填</span>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("  <span class='fill_tip red'>");
            r.b(r.t(r.f("tips", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b("</h1>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('<div class="farenames">');
            r.b("\n" + n);
            r.b('  <p style="display:none;" class="nothing" item="js_no_chk_wrapper">您的常用旅客信息列表为空，可在"<a class="blue" href="http://user.qunar.com/index.jsp#contact">常用旅客信息</a>"中添加，以后就可以自动为您填写常用旅客信息了。</p>');
            r.b("\n" + n);
            r.b('  <dl class="cf" item="js_chk_wrapper">');
            r.b("\n" + n);
            r.b("      <dt>常用旅客信息</dt>");
            r.b("\n" + n);
            r.b('      <dd class="cf" item="js_pchk_cnt">');
            r.b("\n" + n);
            r.b("      	<!--这里放联系人选项-->");
            r.b("\n" + n);
            r.b("      </dd>");
            r.b("\n" + n);
            r.b("  </dl>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('<div class="remind" item="warmTip" style="display:none;">');
            r.b("\n" + n);
            r.b('    <span item="title"></span>');
            r.b("\n" + n);
            r.b('    <p item="content"></p>');
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('<div class="guest_main" item="js_maininfo">');
            r.b("\n" + n);
            r.b('	<ul data-type="adult" item="adult_passenger_info" class="guest_list"></ul>');
            r.b("\n" + n);
            r.b('	<ul data-type="child" item="child_passenger_info" class="guest_list"></ul>');
            r.b("\n" + n);
            r.b('  <div class="tips">您还可以使用<a href="/user/cert/certList.qunar" target="_blank">证件照片管理</a>功能对常用出行人电子照片进行管理</div>');
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["pgWrapper"] }(t.exports, t, e);
    e.____MODULES["342a151d92d2ee1a6680927a02f332e0"] = t.exports })(this);
(function(e) {
    var t = { id: "f0c4975a59926f758efaf2b92b3f5abe", filename: "login.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) { $(function() {
            var e = location.protocol;
            $.getScript(e + "//user.qunar.com/webApi/popup.jsp?" + (e.indexOf("s") === -1 ? "js" : "js=ssl")) });
        (function() { $.namespace("QNR.module.login", function() {
                var e = false;
                var t = { init: function() {
                        if (!this.inited) { this.initEvents();
                            this.initLogin();
                            this.inited = true } }, initLogin: function() {
                        var e = this;
                        var t = function() { QNR.event.trigger("user-login", { silent: true }) };
                        setTimeout(function() {
                            if (e.isLogin()) { t();
                                return }
                            e.chkLogin(function(e) { e && t() }) }, 100) }, initEvents: function() { QNR.event.bind("pop-login-window", $.proxy(function(e, t) { this.showSignIn(t && t.str) }, this)) }, showSignIn: function(t) {
                        var n = {};
                        if (t) { n = { notice: t } }
                        var r = this;
                        this.loginFORM = new $.LoginPop($.extend({ callback: function() { e = true;
                                QNR.QUstatus && QNR.QUstatus.render();
                                QNR.event.trigger("user-login", { silent: false }) }, proxy: "/order/proxy.htm", twoWeek: false, regFlag: true }, n)) }, isLogin: function() {
                        return QNR.QUstatus && QNR.QUstatus.isLogin() || e }, chkLogin: function(t) { $.ajax({ url: location.protocol + "//user.qunar.com/islogin.jsp", dataType: "jsonp", data: { conkey: location.hostname, n: (new Date).getTime() }, success: function(n, r, i) {
                                var s = this;
                                var o = 1;
                                var u = new Date;
                                u.setTime(u.getTime() + o * 24 * 60 * 60 * 1e3);
                                if (!!n) { e = true } else { e = false }
                                if (typeof t === "function") { t.call(this, e) } } }) } };
                return { init: function() { t.init() }, isLogin: function() {
                        return t.isLogin() }, chkLogin: function(e) { t.chkLogin(e) }, showSignIn: function() { t.showSignIn() } } }()) })() }(t.exports, t, e);
    e.____MODULES["f0c4975a59926f758efaf2b92b3f5abe"] = t.exports })(this);
(function(e) {
    var t = { id: "f827cd9de48eed7055ae3c1f41af004b", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["8b52100506e838d55999d680c1c6c69b"];
        e.____MODULES["66d56eaab730b753fc8ac26cf1123f6f"];
        e.____MODULES["f0c4975a59926f758efaf2b92b3f5abe"] }(t.exports, t, e);
    e.____MODULES["f827cd9de48eed7055ae3c1f41af004b"] = t.exports })(this);
(function(e) {
    var t = { id: "61a7a37477b42b43ab9bf1ea30ce70f6", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        var r = function(e) {
            var t = e.isAssistBooking ? true : false;
            return { init: function() {
                    if (this.isValid()) { this.formatPage();
                        this.initContact() } }, isValid: function() {
                    return t }, isTravelerInfoNeeded: function() {
                    return !t }, formatPage: function() { $(function() {
                        var e = $(".container .con_left");
                        e.children().hide();
                        e.children("h1").first().show();
                        e.children(".route").first().show();
                        e.children("#js_p_contacter").show();
                        e.children("#js_p_passenger").show();
                        e.children("#js_p_passenger").find(".farenames").hide();
                        e.children("#js_p_accounts").show();
                        e.children("#js_p_accounts").find(".js_s_btn").text("提交订单") }) }, initContact: function() { $(function() {
                        var t = $(".container .con_left");
                        var n = t.children("#js_p_contacter");
                        var r = e.contactInfo || {};
                        var i = r.u || "";
                        var s = r.m || "";
                        var o = r.s || "";
                        n.find('[name="contactUser"]').val(i);
                        n.find('[name="contactMobile"]').val(s);
                        if (o !== "U") { n.find("span.radio.js_u_s_r").each(function() {
                                var e = $(this);
                                var t = e.children("i");
                                if (e.data("value") === o) {
                                    if (t.hasClass("active")) {
                                        return false } else { t.addClass("active") } } else {
                                    if (t.hasClass("active")) { t.removeClass("active") } } }) } }) }, initPassengerInfo: function(e) {
                    if (!this.isValid()) {
                        return }
                    var t = this;
                    $(function() {
                        if (t.isValid()) {
                            if (e === "object") { QNR.event.trigger("insurance-change", [{ count: 0, price: 0 }]) } else if (e === "array") { QNR.event.trigger("insurance-change", [
                                    [{ count: 0, price: 0 }]
                                ]) } else {} } }) } } }(window);
        t.exports = r }(t.exports, t, e);
    e.____MODULES["61a7a37477b42b43ab9bf1ea30ce70f6"] = t.exports })(this);
(function(e) {
    var t = { id: "e85a01e2b1f2bfacff29ab287eaef108", filename: "ChildrenStandard.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        var r = function() {
            var e = { text: "年龄", value: "age", unit: "岁" };
            var t = { text: "身高", value: "height", unit: "cm" };
            this.configMap = { types: { age: e, height: t }, values: { age: {}, height: {} } };
            var n = this.configMap.values.age;
            var r = this.configMap.values.height;
            var i;
            var s = { idClass: "js-childrenstandard-type", elementName: "childrenStandardType", defaultValue: "age", optionList: [e, t] };
            var o = { idClass: "js-childrenstandard-value", elementName: "childrenStandardValue", defaultValue: 12, optionList: [] };
            for (var u = 1; u <= 18; u++) { i = { text: u + " 岁", value: u };
                o.optionList.push(i);
                n[u] = i }
            var a = { idClass: "js-childrenstandard-value", elementName: "childrenStandardValue", defaultValue: 120, optionList: [] };
            for (var u = 80; u <= 150; u += 10) { i = { text: u + " cm", value: u };
                a.optionList.push(i);
                r[u] = i }
            this.configData = { typeConfig: s, heightConfig: a, ageConfig: o } };
        r.prototype = { getDefaultHTML: function(e) {
                var t = [];
                t.push("<div>");
                if (!e) { t.push("儿童标准： ") }
                t.push(this.generateStandardTypeSelect().outerHTML);
                t.push('<span style="padding:0px 5px;"><=</span>');
                t.push(this.generateStandardValueSelect("age").outerHTML);
                t.push("</div>");
                return t.join("") }, generateStandardTypeSelect: function() {
                var e = this.configData.typeConfig;
                return this.generateSelect(e) }, generateStandardValueSelect: function(e) {
                if (e === "height") {
                    return this.generateHeightValueSelect() } else if (e === "age") {
                    return this.generateAgeValueSelect() } else {
                    return this.generateSelect({}) } }, generateHeightValueSelect: function() {
                var e = this.configData.heightConfig;
                return this.generateSelect(e) }, generateAgeValueSelect: function() {
                var e = this.configData.ageConfig;
                return this.generateSelect(e) }, generateSelect: function(e) {
                var t = e.defaultValue;
                var n = e.selectedValue;
                var r = document.createElement("select");
                if (e.idClass) { r.className = e.idClass }
                if (e.elementName) { r.name = e.elementName }
                if (e.optionList) { e.optionList.forEach(function(e, i, s) {
                        var o = e.text || e.label || e.name;
                        var u = e.value || o;
                        r.add(new Option(o, u, u === t, u === n)) }) }
                return r }, bindChange: function(e) {
                var t = document.querySelector(".js-childrenstandard-type");
                var n = document.querySelector(".js-childrenstandard-value");
                if (t) { t.onchange = function() { n.innerHTML = e.generateStandardValueSelect(t.value).innerHTML } } }, getDisplayInfo: function(e, t, n) {
                var r = e;
                if (!r || typeof r === "string") { r = this.infoAdapter(r) }
                var i = r.type;
                var s = r.value;
                var o = this.configMap.types[i];
                var u;
                if (!t || t === "children") { u = ["儿童标准：", o.text, "<=", s, o.unit] } else { u = ["成人标准：", o.text, ">", s, o.unit] }
                if (n) { u.shift() }
                return u.join("") }, getChildrenDisplayInfo: function(e, t) {
                return this.getDisplayInfo(e, "children", t) }, getAdultsDisplayInfo: function(e, t) {
                return this.getDisplayInfo(e, "adults", t) }, getChildrenDisplayInfo2: function(e) {
                return "儿童 " + this.getChildrenDisplayInfo(e, true) }, getAdultsDisplayInfo2: function(e) {
                return "成人 " + this.getAdultsDisplayInfo(e, true) }, getChildrenDisplayInfo3: function(e) {
                return "儿童(" + this.getChildrenDisplayInfo(e, true) + ")" }, getAdultsDisplayInfo3: function(e) {
                return "成人(" + this.getAdultsDisplayInfo(e, true) + ")" }, infoAdapter: function(e) { e = e || "";
                var t = e.split(":");
                var n;
                if (t.length === 2) { n = { type: t[0] || "age", value: t[1] || 12 } } else { n = { type: "age", value: 12 } }
                return n }, updateShownInfo: function(e, t) {
                var n = this;
                t = t || window.childrenStandardInfo;
                $(function() { n.updateDisplayInfo(t);
                    n.updateOptionInfo(t, e) }) }, updateDisplayInfo: function(e) {
                var t = this;
                $(function() { $(".js-childrenadults-standard-show").each(function() {
                        var n = $(this);
                        var r = n.text();
                        var i = r;
                        if (r.indexOf("成人") !== -1) { i = t.getAdultsDisplayInfo2(e) } else if (r.indexOf("儿童") !== -1) { i = t.getChildrenDisplayInfo2(e) } else {}
                        n.text(i) }) }) }, updateOptionInfo: function(e, t) {
                var n = this;
                e = e || window.childrenStandardInfo;
                $(function() { n.updateChildrenOptionInfo(e);
                    n.updateAdultsOptionInfo(e);
                    n.updateTemplateOptionInfo(e, t) }) }, updateTemplateOptionInfo: function(e, t) {
                var n = this;
                var r = $($(t).html());
                n.updateChildrenOptionInfo(e, r);
                n.updateAdultsOptionInfo(e, r);
                $(t).html(r.prop("outerHTML")) }, updateChildrenOptionInfo: function(e, t) {
                var n = this;
                var r, i = ".js-childrenstandard-option";
                if (t) { r = t.find(i) } else { r = $(i) }
                r.each(function() {
                    var t = $(this);
                    var r = n.getChildrenDisplayInfo2(e);
                    t.text(r) }) }, updateAdultsOptionInfo: function(e, t) {
                var n = this;
                var r, i = ".js-adultsstandard-option";
                if (t) { r = t.find(i) } else { r = $(i) }
                r.each(function() {
                    var t = $(this);
                    var r = n.getAdultsDisplayInfo2(e);
                    t.text(r) }) } };
        t.exports = new r }(t.exports, t, e);
    e.____MODULES["e85a01e2b1f2bfacff29ab287eaef108"] = t.exports })(this);
(function(e) {
    var t = { id: "4964b537ea572ffbc124e33f4b6abedf", filename: "passenger.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        (function() {
            var t = e.____MODULES["61a7a37477b42b43ab9bf1ea30ce70f6"];
            $.namespace("QNR.module.passenger", function() {
                var n = { init: function(t) {
                        if (QNR.bookdata.useContract === true) { t.hasInsurance = true }
                        if (!this.inited) {
                            if (QNR.bookdata.limitBuyJson && QNR.bookdata.limitBuyJson.isBuyLimitProduct) { QNR.module.ac && QNR.module.ac.limitBuy && QNR.module.ac.limitBuy.init() }
                            this.hasFcbChild = t.hasFcbChild;
                            this.isFreecombine = t.isFreecombine;
                            this.$w = t.$w.length ? t.$w.show() : $("#js_p_passenger").show();
                            this.adultw = this.$w.find("[item='adult_passenger_info']");
                            this.childw = this.$w.find("[item='child_passenger_info']");
                            this.pMainDom = this.$w.find("[item='js_maininfo']");
                            this.pChkDom = this.$w.find("[item='js_chk_wrapper']");
                            this.pChkCntDom = this.pChkDom.find("[item='js_pchk_cnt']");
                            this.pNoChkDom = this.$w.find("[item='js_no_chk_wrapper']");
                            this.titleDom = this.$w.find('[item="js_help_w"]');
                            this.titleBtn = this.titleDom.find("[item='btn']");
                            this.$warmTip = this.$w.find('[item="warmTip"]');
                            this.IELower = !!$.browser.msie;
                            this.forgetCode = t.forgetCode;
                            this.cClassName = "selected";
                            this.disabledClass = "disabled";
                            this.hasUseInsurance = t.hasInsurance;
                            this.hasFcbChild = t.hasFcbChild;
                            this.saveToUC = typeof t.saveToUC === "boolean" ? t.saveToUC : true;
                            this.hasInsurance = t.hasInsurance || QNR.bookdata.isNamePinYinRequired;
                            this.data = t;
                            this.removeTaoCanChild = 0;
                            this.cacheData = { adult: [], child: [] };
                            this.currentInsuranceCount = this.one = this.data.adult + this.data.child;
                            this.defaultAdult = [];
                            this.defaultChild = [];
                            this.ChildrenStandard = e.____MODULES["e85a01e2b1f2bfacff29ab287eaef108"];
                            this.changePassengersData();
                            this.initEvents();
                            this.formatZJType();
                            this.addOrRemove();
                            this.initChangeEvent();
                            this.initLoginRender();
                            if (this.cacheMethodArr.length > 0) { $.each(this.cacheMethodArr, $.proxy(function(e, t) { typeof t === "function" && t.call(this) }, this)) }
                            this.inited = true } }, cacheMethodArr: [], initEvents: function() {
                        var e = this;
                        QNR.event.bind("numChange", function(n, r) {
                            if (!t.isTravelerInfoNeeded()) {
                                return }
                            e.addOrRemove(r, true);
                            if (!QNR.bookdata.needTravelInfo && !e.currentInsuranceCount) { e.$w.find('[name="code_false"]').val("true") } });
                        QNR.event.bind("insurance-change", function(t, n) {
                            var r = 0;
                            $.each(n || [], function(e, t) { r += t.count });
                            if (!e.currentInsuranceCount || !~~r) {
                                if (QNR.bookdata.useContract) { e.reRenderInfo(~~r || 1) } else { e.hasUseInsurance = e.currentInsuranceCount = r;
                                    QNR.bookdata.needTravelInfo ? e.reRenderInfo(QNR.bookdata.isMilv || ~~r) : e.isNotNeedInfo(~~r) } } });
                        t.initPassengerInfo("array");
                        this.$w.on("focus blur", '[name="first_name"],[name="last_name"],[name="cvp_year"],[name="cvp_month"],[name="cvp_day"]', function(t) {
                            var n = $(this).attr("name"),
                                r;
                            if (n && (n == "first_name" || n == "last_name")) { r = false } else { r = true }
                            if (!QNR.bookdata.isNamePinYinRequired) { t.type == "focusin" ? e.showCardTip($(this), r) : e.hideCardTip($(this)) } });
                        this.$w.on("keyup focus", "input[name^='birth_'],input[name^='cvp_']", function(e) {
                            var t = e.type,
                                n = $(this);
                            if (t == "keyup") {
                                var r = this.getAttribute("name");
                                var i = this.value,
                                    s = i.length;
                                var o = n.closest(".js_a_ul,.js_p_p_item,.js_cpv_ul");
                                var u = o.find(".js-date");
                                var a = o.find(".js-year"),
                                    f = a.val();
                                var l = o.find(".js-month"),
                                    c = l.val();
                                var h = o.find(".js-day"),
                                    p = h.val();
                                var d = o.find("[name^='birth_']");
                                var v = o.find("[name^='cvp_']");
                                c = c.length < 2 ? "0" + c : c;
                                p = p.length < 2 ? "0" + p : p;
                                u.val(f + "-" + c + "-" + p);
                                if (d.length > 3) {
                                    switch (r) {
                                        case "birth_year":
                                            s == 4 && l.focus();
                                            break;
                                        case "birth_month":
                                            s == 2 && h.focus();
                                            break } }
                                if (v.length > 3) {
                                    switch (r) {
                                        case "cvp_year":
                                            s == 4 && l.focus();
                                            break;
                                        case "cvp_month":
                                            s == 2 && h.focus();
                                            break } } } else if (t == "focusin") { this.select() } });
                        this.$w.on("click mouseenter mouseleave", ".js_p_p_item", function(e) {
                            var t = $(this);
                            switch (e.type) {
                                case "click":
                                    $(".js_p_p_item").removeClass("cur_edit");
                                    t.addClass("cur_edit");
                                    break;
                                case "mouseenter":
                                    t.addClass("hover_edit");
                                    break;
                                case "mouseleave":
                                    t.removeClass("hover_edit");
                                    break } });
                        this.$w.on("click", '[item="clrBtn"]', function(t) { e.resetItemCnt($(this).closest(".js_p_p_item")) });
                        this.$w.on("click", "[item='delBtn']", $.proxy(function() {
                            if (!e.data.isTaocan) {
                                return }
                            QNR.event.trigger("numChange", { taocanNum: this.data.taocanNum, removeChild: ++this.removeTaoCanChild }) }, this));
                        this.$w.on("click", ".js_forget_id_checkbox", function(e) { e.stopPropagation();
                            var t, n, r = $(this).find(".icon"),
                                i;
                            r.toggleClass("active");
                            n = r.closest(".js_p_p_item");
                            i = n.find('[name="idNo"]');
                            cvpInput = n.find('[name^="cvp_"]');
                            certificateInput = n.find('[name="issuedCountry"]');
                            if (r.hasClass("active")) { n.find('[name="code_false"]').val(true);
                                t = false;
                                i.removeClass("input_warning").addClass("gray_input").val("");
                                cvpInput.removeClass("input_warning").addClass("gray_input").val("");
                                certificateInput.removeClass("input_warning").addClass("gray_input");
                                n.find(".js_p_p_inputTip").hide() } else { t = true;
                                n.find('[name="code_false"]').val(false);
                                i.removeClass("gray_input");
                                cvpInput.removeClass("gray_input");
                                certificateInput.removeClass("gray_input") }
                            QNR.event.trigger("idNo-change", { show: t, elem: n }) });
                        var n = null;
                        this.$w.on("focus", '[name="idNo"]', function() {
                            var t = $(this),
                                r = t.closest(".js_p_p_item"),
                                i = r.find('[name^="cvp_"]'),
                                s = r.find('[name="issuedCountry"]');
                            n = setTimeout(function() { t.removeClass("gray_input");
                                i.removeClass("gray_input");
                                s.removeClass("gray_input");
                                e.clearCheck(r) }) });
                        this.$w.on("hover", ".checkbox_war_blue", function(e) { $(this).next(".checkbox_war_infotip")[e.type == "mouseenter" ? "removeClass" : "addClass"]("hide") });
                        this.childw.on("mouseenter mouseleave", ".js-childrenstandard-tip .e_agiolist_help", function(e) {
                            switch (e && e.type) {
                                case "mouseenter":
                                    $(this).find(".js-tip-content").show();
                                    break;
                                case "mouseleave":
                                    $(this).find(".js-tip-content").hide();
                                    break } });
                        this.childw.on("focus blur", '[item="js_pname"]', function(e) {
                            var t = $(this).parentsUntil(".guest_info").last().prev().find(".e_agiolist_help");
                            switch (e && e.type) {
                                case "focusin":
                                    t.trigger("mouseenter");
                                    break;
                                case "focusout":
                                    t.trigger("mouseleave");
                                    break } });
                        QNR.event.bind("forgetCodeChange", function(t, n) {
                            var r = e.$w.find(".js_forget_id"),
                                i = r.closest(".js_p_p_item");
                            r[n ? "hide" : "show"]() }) }, taocanRemoveChild: function() {}, clearCheck: function(e) { e.find(".js_forget_id_checkbox .icon").removeClass("active");
                        var t = e.find(".js_code_box"),
                            n = e.find(".js_cpv_ul");
                        QNR.event.trigger("idNo-change", { show: true, elem: t });
                        if (n && n.is(":visible")) { QNR.event.trigger("idNo-change", { show: true, elem: n }) } }, reRenderInfo: function(e) { this.reformatZJType();
                        var t = e ? "show" : "hide";
                        if (this.currentzjType[0]) { t = "hide" }
                        this.adultw.find(".js_a_ul")[t]();
                        this.childw.find(".js_a_ul")[t]();
                        QNR.event.trigger("validate-change", { elem: $(".js_a_ul"), show: e });
                        QNR.event.trigger("forgetCodeChange", e);
                        var n = this.$w.find(".js_forget_id"),
                            r = n.closest(".js_p_p_item");
                        if (e) { n.find(".icon").removeClass("active");
                            n.find('[name="code_false"]').val(false);
                            r.find(".gray_input").removeClass("gray_input");
                            QNR.event.trigger("idNo-change", { show: true, elem: $(".js_ul") }) }
                        this.$w.find('[data-type="idType"]').trigger("change") }, reformatZJType: function() { this.formatZJType();
                        var e = this.data.zjType.current || [],
                            t = [];
                        for (var n = 0, r = e.length; n < r; n++) { t.push('<option value="', e[n][0], '">', e[n][1], "</option>") }
                        t = t.join("");
                        $('[data-type="idType"]').each(function() {
                            var e;
                            $(this).empty().html(t);
                            var n = $(this).data("csSelect");
                            e = n.val();
                            n.selectedIndex = 0;
                            n.update();
                            n.val(e) });
                        this.renderLegalZJType() }, isNotNeedInfo: function(e) {
                        var t = e ? "show" : "hide";
                        this.$w[t]();
                        QNR.event.trigger("validate-change", { elem: this.$w, show: e });
                        this.$w.find('[data-type="idType"]').trigger("change");
                        QNR.event.trigger("id-type-change");
                        if (!e) { this.$w.find('[name="code_false"]').val(true) } else { this.$w.find('[name="code_false"]').val(false) }
                        QNR.event.trigger("forgetCodeChange", e) }, changePassengersData: function() {
                        var e = QNR.bookdata.passengers || [];
                        for (var t = 0; t < e.length; t++) { e[t].adult ? this.defaultAdult.push(e[t]) : this.defaultChild.push(e[t]) } }, convertDataForTaocan: function() {
                        if (QNR.bookdata.min_buy > this.data.taocanNum) { this.data.taocanNum = QNR.bookdata.min_buy }
                        this.data.adult = this.data.taocanContent.adult * this.data.taocanNum;
                        this.data.child = this.data.taocanContent.child * this.data.taocanNum;
                        if (this.data.isTaocan) {
                            if (this.removeTaoCanChild > this.data.child) { this.removeTaoCanChild = this.data.child }
                            this.data.child -= this.removeTaoCanChild;
                            QNR.bookdata.taoCanChild = this.data.child } }, addOrRemove: function(e, t) { $.extend(this.data, e || {});
                        this.data.isTaocan && this.convertDataForTaocan();
                        var n = this.data.adult - this.adultw.find(".js_p_p_item").length;
                        n > 0 ? this.addAdult(n, t) : n < 0 ? this.removeAdult(-n) : "";
                        var r = this.data.child - this.childw.find(".js_p_p_item").length;
                        r > 0 ? this.addChild(r, t) : r < 0 ? this.removeChild(-r) : "";
                        this.setZJTypeSelect();
                        this.initOtherSelect();
                        this.renderPassengerNum();
                        if (!QNR.bookdata.hasInsurance) {
                            var i = [];
                            QNR.event.trigger("insurance-change", [i]) } }, addAdult: function(e, t) {
                        var n, r = 0,
                            i, s = QNR.bookdata.isMilv || this.data.hasInsurance;
                        while (r < e) { this.cacheData.adult[this.cacheData.adult.length] = $.extend(this.cacheData.adult[this.cacheData.adult.length] || {}, { hasInsurance: QNR.bookdata.isMilv || !!this.hasInsurance, hasUseInsurance: QNR.bookdata.isMilv || this.hasUseInsurance, name: "", onlyPinYin: QNR.bookdata.isNamePinYinRequired, isShowCvp: QNR.bookdata.zjType.defaultChoosed == 1 || QNR.bookdata.zjType.defaultChoosed == 8, isFreecombine: this.isFreecombine, forgetCode: this.forgetCode }, this.defaultAdult[r] || {});
                            r++ }
                        i = !!t ? { adult: this.cacheData.adult.slice(this.cacheData.adult.length - e, this.cacheData.adult.length) } : this.cacheData;
                        for (var r = 0, o = i.adult && i.adult.length || 0; r < o; r++) { $.extend(i.adult[r], { isVisa: QNR.bookdata.type === "visa" ? true : false });
                            var u = this.data.tourType == 1 || QNR.bookdata.isNamePinYinRequired === true ? $(QTMPL.pgAdultAbroad.render(i.adult[r])) : $(QTMPL.pgAdultInner.render(i.adult[r]));
                            var a = u.find(".js-adultsstandard-label");
                            a.text(this.ChildrenStandard.getAdultsDisplayInfo3(this.data.childrenStandardInfo));
                            u.appendTo(this.adultw);
                            if (!this.hasUseInsurance) { u = u.find(".js_ul") }
                            var f = true;
                            if (!QNR.bookdata.needTravelInfo && !this.hasUseInsurance) { f = false }
                            QNR.event.trigger("passengerInfoNumChange", { elem: u, show: f });
                            this.IELower && QNR.event.trigger("insurance-change-add-placehoder");
                            this.strToUpperCase(u.find('[item="js_pcredentialsno"]'));
                            this.onNumberTip(u.find('[item="js_pcredentialsno"]')) } }, addChild: function(e, t) {
                        var n, r, i = 0,
                            s, o = QNR.bookdata.isMilv || this.data.hasInsurance;
                        while (i < e) { this.cacheData.child[this.cacheData.child.length] = $.extend(this.cacheData.child[this.cacheData.child.length] || {}, { hasInsurance: QNR.bookdata.isMilv || !!this.hasInsurance, hasUseInsurance: QNR.bookdata.isMilv || this.hasUseInsurance, hasFcbChild: this.hasFcbChild, isFreecombine: this.isFreecombine, isShowCvp: QNR.bookdata.zjType.defaultChoosed == 1 || QNR.bookdata.zjType.defaultChoosed == 8, forgetCode: this.forgetCode, taocan: QNR.bookdata.is_taocan }, this.defaultChild[i] || {});
                            i++ }
                        s = !!t ? { child: this.cacheData.child.slice(this.cacheData.child.length - e, this.cacheData.child.length) } : this.cacheData;
                        for (var i = 0, u = s.child && s.child.length || 0; i < u; i++) {
                            var a = this.data.tourType == 1 ? $(QTMPL.pgChildAbroad.render(s.child[i])) : $(QTMPL.pgChildInner.render(s.child[i]));
                            var f = a.find(".js-childrenstandard-label");
                            f.text(this.ChildrenStandard.getChildrenDisplayInfo3(this.data.childrenStandardInfo));
                            a.appendTo(this.childw);
                            if (!this.hasUseInsurance) { a = a.find(".js_ul") }
                            var l = true;
                            if (!QNR.bookdata.needTravelInfo && !this.hasUseInsurance) { l = false }
                            QNR.event.trigger("passengerInfoNumChange", { elem: a, show: l });
                            this.IELower && QNR.event.trigger("insurance-change-add-placehoder");
                            this.strToUpperCase(a.find('[item="js_pcredentialsno"]'));
                            this.onNumberTip(a.find('[item="js_pcredentialsno"]')) } }, removeAdult: function(e) {
                        var t = this.adultw.find(".js_p_p_item"),
                            n = t.length;
                        var r = t;
                        if (n - e === 0) {} else { r = t.filter(":gt(" + (n - e - 1) + ")") }
                        var i = r.data("contact") || {};
                        r.remove();
                        if (i.contactId) { this.pChkDom.find("[item='citem']").each(function() {
                                var e = $(this).data("contact");
                                if (e && e.contactId == i.contactId) { $(this).removeClass("selected") } }) }
                        delete this.cacheData.adult[this.cacheData.adult.length - 1] }, removeChild: function(e) {
                        var t = this.childw.find(".js_p_p_item"),
                            n = t.length;
                        var r = t;
                        if (n - e === 0) {} else { r = t.filter(":gt(" + (n - e - 1) + ")") }
                        var i = r.data("contact") || {};
                        r.remove();
                        if (i.contactId) { this.pChkDom.find("[item='citem']").each(function() {
                                var e = $(this).data("contact");
                                if (e && e.contactId == i.contactId) { $(this).removeClass("selected") } }) }
                        delete this.cacheData.child[this.cacheData.child.length - 1] }, formatZJType: function() {
                        if (this.data.zjType) {
                            var e = [],
                                t = this.hasUseInsurance ? this.data.zjType.insuranceType : this.data.zjType.defaultType,
                                n = [],
                                r;
                            for (var i in t) {
                                (r = t[i]) == "其他" ? n = [i, r]: e.push([i, r]) }
                            n.length > 0 && e.push(n);
                            this.data.zjType.current = e;
                            this.currentzjType = {};
                            for (var s = 0, o = e.length; s < o; s++) { this.currentzjType[e[s][0]] = e[s][1] }
                            this.renderLegalZJType() } }, getZJType: function() {
                        var e = {};
                        $('[data-type="idType"]').each(function(t) {
                            var n = $(this).data("csSelect").val();
                            e[t] = n });
                        return e }, isIDTypeCheck: function() {
                        var e = this.getZJType && this.getZJType() || {};
                        for (var t in e) {
                            if (e[t] == "0") {
                                return true } }
                        return false }, setZJTypeSelect: function() {
                        var e = this,
                            t = e.data.zjType.defaultChoosed;
                        $(".js_idType").each(function(n, r) {
                            var i = $(this),
                                s = i.data("classify");
                            if (i.data("hasSelected")) {
                                return }
                            i.data("hasSelected", true);
                            var o = [];
                            for (var n = 0; n < e.data.zjType.current.length; n++) {
                                var u = e.data.zjType.current[n];
                                o.push("<option");
                                if (u[0] == i.val() || u[0] == t) { o.push(' selected="selected"') }
                                o.push(' value="' + u[0] + '">' + u[1] + "</option>") }
                            var a = i.html(o.join("")).csSelect({ tpl: QTMPL.csSelect.render() });
                            a.bind("change", function(t) {
                                var n = false,
                                    r = false;
                                var i = a.closest(".js_ul").find('[name="idNo"]');
                                var o = i.closest(".js_p_p_item"),
                                    u = o.find(".js_a_ul"),
                                    f = o.find(".js_cpv_ul");
                                if ((text = a.children().eq(a[0].selectedIndex).text()) != "身份证") { i.removeAttr("data-tip").attr("data-jvalidator-pattern", "require");
                                    var l = typeof QNR.bookdata.isNeedBirth != "undefined";
                                    var c = a.closest("ul").attr("data-type") == "child";
                                    var h = l && QNR.bookdata.isNeedBirth || c;
                                    var p = (e.hasUseInsurance || e.hasFcbChild && c) && !l;
                                    if (QNR.bookdata.isMilv || e.hasUseInsurance && !window.isCustomActivitiesPrize) { u.show();
                                        n = true }
                                    if (text != "护照" && text != "港澳通行证" && f.length || !QNR.bookdata.needTravelInfo && !e.hasUseInsurance) { f.hide();
                                        r = false } else { f.show();
                                        r = true }
                                    i.data("numberTipRule", "") } else { i.removeAttr("data-tip").attr("data-jvalidator-pattern", "require & id_no");
                                    if (QNR.bookdata.isNamePinYinRequired) { u.show();
                                        n = true } else { u.hide();
                                        n = false }
                                    f.hide();
                                    r = false;
                                    i.data("numberTipRule", "ID") }
                                if ($.trim(i.val())) { i.triggerHandler("blur") }
                                QNR.event.trigger("identify-type-change", { elem: f, show: r });
                                QNR.event.trigger("identify-type-change", { elem: u, current: $(this), show: n, classify: s });
                                t.stopPropagation();
                                QNR.event.trigger("id-type-change") }).trigger("change") }) }, initOtherSelect: function() {
                        var e = this.data.othersSelectors || '[data-type="sex"]';
                        this.$w.find(e).each(function() { $(this).data("rendered") ? "" : $(this).data("rendered", true).csSelect({ tpl: $(QTMPL.csSelect.render()) }) }) }, renderPassengerNum: function() { this.$w.find(".js_p_p_item").each(function(e, t) {
                            var n = $(this);
                            n.find('[item="num"]').text(e + 1) }) }, infoValidators: {}, infochange: function(e, t) {
                        if (!this.infoValidators[t]) {
                            var n = e.find("[data-jvalidator-pattern]").jvalidator();
                            var r = e.find('input[type="text"]');
                            this.infoValidators[t] = function(e, t, n, r) {
                                return function() {
                                    var i = false;
                                    t.each(function() {
                                        if (!$.trim($(this).val())) { i = true } });
                                    if (i) { QNR.event.trigger(r + "-contact-change", [false]) } else { e.validateAll(function(e) {
                                            if (!e) { QNR.event.trigger(r + "-contact-change", [false]) } else {
                                                var t = [];
                                                n.find(".js_p_p_item").each(function() {
                                                    var e = $(this);
                                                    var n = { idType: e.find('[name="idType"]').val(), name: e.find('[name="name"]').val(), idNo: encodeURIComponent(e.find('[name="idNo"]').val()) };
                                                    t.push(n) });
                                                QNR.event.trigger(r + "-contact-change", [t]) } }) } } }(n, r, e, t) }
                        this.infoValidators[t]() }, initChangeEvent: function() { $.each([{ type: "adultw", key: "adult" }, { type: "childw", key: "child" }], $.proxy(function(e, t) {
                            var n = this.data[t.type];
                            if (!n) {
                                return }
                            n.delegate("select", "change", $.proxy(function() { this.infochange(n, t.key) }, this));
                            n.delegate("input", "blur", $.proxy(function() { this.infochange(n, t.key) }, this));
                            this.infochange(n, t.key) }, this)) }, initLoginRender: function() { this.titleBtn.bind("click", function(e) { e.preventDefault();
                            QNR.event.trigger("pop-login-window") });
                        if (QNR.module.login.isLogin()) { this.renderWhenLogin();
                            QNR.event.bind("unlogin", $.proxy(function() { this.renderWhenNotLogin() }, this)) } else { this.renderWhenNotLogin();
                            QNR.event.bind("user-login", $.proxy(function() { this.renderWhenLogin() }, this)) } }, renderWhenLogin: function() {
                        var e = this;
                        var t = e.getQueryData();
                        var n = "?csrfToken=" + t.csrfToken + "&format=" + t.format + "&attribute=" + t.attribute;
                        $.ajax({ url: "/urlProxy/proxy.qunar?url=" + window.encodeURIComponent("http://user.qunar.com/webapi/contact/query/" + n), dataType: "json", success: function(t) {
                                if (t && t.ret) { e.chkos = e.getChksFromData(t.data.contactList);
                                    if (e.chkos && e.chkos.length) { e.pChkDom.show();
                                        e.pNoChkDom.hide();
                                        e.renderContactUser(e.chkos);
                                        e.bindChksEvent();
                                        e.bindMainCntEvent();
                                        e.renderChildChks() } else { e.pChkDom.hide();
                                        e.pNoChkDom.show() } } else if (t && t.errmsg) {} else {} } });
                        e.titleDom.hide();
                        e.titleBtn.hide().unbind("click") }, renderWhenNotLogin: function() { this.titleDom.show();
                        this.titleBtn.show();
                        this.pChkDom.hide();
                        this.pNoChkDom.hide();
                        this.titleBtn.show().bind("click", function(e) { e.preventDefault();
                            QNR.event.trigger("pop-login-window") }) }, getQueryData: function() {
                        var e = {};
                        var t = $.cookie("csrfToken");
                        e.csrfToken = t;
                        e.format = "js";
                        e.attribute = "credentials";
                        return e }, getChksFromData: function(e) {
                        if (!e || !e.length) {
                            return }
                        var t = [],
                            n = this;
                        $.each(e, function(e, r) {
                            var i = [];
                            var s = { name: r.name, mobile: r.mobile, ticketType: r.ticketType, birthday: r.birthday, gender: r.gender, email: r.email || "", nationality: r.nationality };
                            var o = r.englishName.split("/");
                            if (s.birthday) { i = s.birthday.split("-") } else { i = ["", "", ""] }
                            var u = r.credentialses;
                            if (u && u.length) {
                                for (var e = 0, a = u.length; e < a; e++) {
                                    var f = u[e],
                                        l = ["", "", ""];
                                    if (f) { f.credentialsType = n.getZJTypeFromUC(f.credentialsType);
                                        f.idNo = f.credentialsNo;
                                        if (f.invalidDay) { l = f.invalidDay.split("-") }
                                        var r = $.extend({}, f, s, { birth_year: i[0], birth_month: i[1], birth_day: i[2], first_name: o[0], last_name: o[1], credentialses: [f] });
                                        t.push(r) } } } else { t.push(s) } });
                        return t }, renderContactUser: function(e) {
                        if (!e || !e.length) {
                            return }
                        var t = [],
                            n = this,
                            r = 0;
                        var i = this.currentzjType;
                        $.each(e, function(e, r) {
                            var s = [],
                                o = n.getCNameByType(r.credentialsType);
                            s.push("证件名称：" + r.name);
                            s.push("证件类别：" + (r.ticketType == 1 ? "成人" : r.ticketType == "2" ? "儿童" : r.ticketType == "3" ? "婴儿" : ""));
                            o && s.push("证件类型：" + o);
                            s.push("证件号码：" + r.credentialsNo);
                            t.push('<a item="citem" href="javascript:;" title="' + s.join("\n") + '" data-seq="user_' + e + '"');
                            if (!(r.credentialsType in i)) { t.push(' class="' + n.disabledClass + '" ') }
                            t.push(' pcontactid="', r.contactId, '"');
                            t.push(' ptickettype="', r.ticketType, '"');
                            t.push(' pname="', r.name, '"');
                            t.push(' pcredentialsno="', r.credentialsNo, '"');
                            t.push(' pcredentialstype="', r.credentialsType, '"');
                            t.push("><i></i>", r.name, "</a>");
                            e++ });
                        n.pChkCntDom.html(t.join(""));
                        n.pChkCntDom.find("[item='citem']").each(function(t) { $(this).data("contact", e[t]) }) }, getCNameByType: function(e) {
                        var t = "";
                        $.each(this.data.zjType.current, function() {
                            if (this[0] == e) { t = this[1];
                                return false } });
                        return t }, bindChksEvent: function() {
                        var e = this;
                        QNR.event.bind("numChange", function(t, n) { e.renderChildChks(n) });
                        if (this.saveToUC) { QNR.event.bind("before-submit", function(t) { e.saveToUc() }) }
                        this.pChkDom.find("[item='citem']").on("click", function(t) { t.preventDefault();
                            var n = $(this);
                            if (n.hasClass(e.disabledClass) || n.attr("disabled") == "disabled" || n.data("disabled") === true) {
                                return }
                            var r = n.data("contact");
                            if (!n.hasClass(e.cClassName)) { e.setItemInfoByData(r, n.data("seq"));
                                n.siblings().filter("[pcontactid='" + r.contactId + "']").removeClass(e.cClassName);
                                n.addClass(e.cClassName) } else { e.clearData(r);
                                n.siblings().filter("[pcontactid='" + r.contactId + "']").removeClass(e.cClassName);
                                n.removeClass(e.cClassName) } }) }, bindMainCntEvent: function() {
                        var e = this;
                        e.pMainDom.on("keyup change", "input[type='text'],select[item]", function() {
                            var t = $(this),
                                n = t.closest(".js_p_p_item"),
                                r = e.pChkDom.find("[item='citem']");
                            var i = n.attr("data-id");
                            $checkbox = r.map(function(e, t) {
                                var n = $(t).data("contact");
                                if (n && n.id == i) {
                                    return t } });
                            var s = $checkbox.data("contact");
                            if (i) {
                                var o = false;
                                if (e.compare(s, e.getDataByItem(n))) { o = true }
                                if (!o) { $checkbox.removeClass(e.disabledClass).removeClass(e.cClassName);
                                    n.removeAttr("data-id") } } else {
                                var u = e.getDataByItem(n);
                                r.each(function(t, r) {
                                    var i = $(r).data("contact");
                                    var s = e.compare(i, u);
                                    if (s) { $(r).removeClass(e.disabledClass).addClass(e.cClassName);
                                        $(r).siblings().filter("[pcontactid='" + u.pcontactid + "']").attr("checked", false).attr("disabled", "disabled");
                                        n.attr("data-id", i.id) } }) } }) }, setItemInfoByData: function(e, t) {
                        var n = "",
                            r = this;
                        switch (e.ticketType) {
                            case 1:
                                n = r.adultw;
                                break;
                            case 2:
                                n = r.childw;
                                break;
                            case 3:
                                n = r.childw;
                                break;
                            default:
                                break }
                        if (!n) {
                            return }
                        var i;
                        n.find(".js_p_p_item").each(function() {
                            if (e.contactId == ($(this).data("contact") || {}).contactId) { i = $(this) } });
                        if (!i) { i = n.find(".js_p_p_item").not("[data-id]").first() }
                        if (!i.length) { i = n.find(".js_p_p_item").last() }
                        if (i.length) { i.data("seq") && r.pChkDom.find("[item='citem'][data-seq='" + i.data("seq") + "']").removeClass(r.cClassName);
                            i.data("seq", t);
                            i.data("contact", e);
                            $inputs = i.find(":input");
                            for (var s in e) {
                                if (s != "issuedCountry") { e[s] && $inputs.filter('[name="' + s + '"]').removeClass("wrong").val(e[s]) } }
                            i.attr("data-id", e.id);
                            if (typeof e.mobile !== "undefined" && QNR.bookdata.type === "visa") {
                                var o = e.mobile.split("-"),
                                    u = "86",
                                    a = "";
                                if (o.length === 2) { u = o[0];
                                    a = o[1] } else if (o.length === 1) { a = o[0] }
                                $inputs.filter('[name="teleCode"]').removeClass("wrong").val(u);
                                $inputs.filter('[name="telephone"]').removeClass("wrong").val(a) }
                            if (QNR.bookdata.type === "visa") {
                                return }
                            var f = i.find("[name^='birth_']").removeClass("wrong");
                            f.filter("[name='birth_date']").val(e.birthday);
                            $selector = i.find("[item='js_pcredentialstype']");
                            $selector.data("csSelect").selectedIndex = -1;
                            e.credentialsType && $selector.data("csSelect").val(e.credentialsType, true);
                            $gender = i.find("[node-type='sex']");
                            $genderSelect = $gender.data("csSelect");
                            if ($gender.length && $genderSelect) { $genderSelect.selectedIndex = -1;
                                e.gender && $genderSelect.val(e.gender == 1 ? "M" : "F") } } }, clearData: function(e) {
                        if (!e) {
                            return }
                        var t = this,
                            n = e;
                        t.pMainDom.find(".js_p_p_item").each(function() {
                            var e = $(this),
                                t = e.attr("data-id");
                            if (t == n.id) {
                                var r = e.removeAttr("data-id").find("input[type='text']");
                                r.not('[name="nationality"],[name="issuedCountry"]').val("");
                                e.removeData("contact") } }) }, getDataByItem: function(e) {
                        var t = {},
                            n = e.find("input[type='text']");
                        if (e && e.jquery && e.length) { n.each(function(e, n) { t[n.name] = n.value }) }
                        return t }, getOByUl: function(e) {
                        var t = {},
                            n = e;
                        if (n && n.jquery && n.length) {
                            var r = n.closest(".js_p_p_item");
                            var i = r.find("[item='js_pname']");
                            var s = r.find("[item='js_pcredentialstype']");
                            var o = r.find("[item='js_pcredentialsno']");
                            var u = $.trim(i.val());
                            var a = $.trim(s.data("csSelect").val());
                            var f = $.trim(o.val());
                            var l = e.attr("pcontactid");
                            var c = e.attr("ptickettype");
                            t.pcontactid = l;
                            t.ptickettype = c;
                            t.pname = u;
                            t.pcredentialsno = f;
                            t.pcredentialstype = a }
                        return t }, compare: function(e, t) {
                        for (var n in t) {
                            if (e[n] != t[n]) {
                                return false } }
                        return true }, getFirstUlFromDom: function(e) {
                        var t = e.find(".js_ul"),
                            n = this;
                        for (var r = 0, i = t.length; r < i; r++) {
                            var s = t.eq(r);
                            var o = n.getOByUl(s);
                            if (!o.pname && !o.pcredentialsno) {
                                return s } }
                        return t.last() }, getZJTypeFromUC: function(e) {
                        var t = "7";
                        if (!e) {
                            return t }
                        switch (e + "") {
                            case "1":
                                t = "0";
                                break;
                            case "2":
                                t = "1";
                                break;
                            case "4":
                                t = "2";
                                break;
                            case "6":
                                t = "3";
                                break;
                            case "7":
                                t = "4";
                                break;
                            case "8":
                                t = "8";
                                break;
                            case "9":
                                t = "5";
                                break;
                            case "13":
                                t = "13";
                                break;
                            default:
                                t = "7";
                                break }
                        return t }, getZJTypeFromTTS: function(e) {
                        var t = "12";
                        if (!e) {
                            return t }
                        switch (e + "") {
                            case "0":
                                t = "1";
                                break;
                            case "1":
                                t = "2";
                                break;
                            case "2":
                                t = "4";
                                break;
                            case "3":
                                t = "6";
                                break;
                            case "4":
                                t = "7";
                                break;
                            case "5":
                                t = "9";
                                break;
                            case "8":
                                t = "8";
                                break;
                            case "13":
                                t = "13";
                                break;
                            default:
                                t = "12";
                                break }
                        return t }, renderLegalZJType: function(e) {
                        if (e) { $.extend(this.data, e) }
                        var t = this;
                        var n = this.currentzjType;
                        var r = this.data.child;
                        var i = this.data.adult;
                        if (this.pChkDom) { this.checklist = this.pChkDom.find("[item='citem']") }
                        this.checklist && this.checklist.each(function() {
                            if (!(this.getAttribute("pcredentialstype") in n) || !r && this.getAttribute("ptickettype") == "2" || !i && this.getAttribute("ptickettype") == "1") { $(this).removeClass(t.cClassName).addClass(t.disabledClass) } else { $(this).removeClass(t.disabledClass) } }) }, renderChildChks: function(e) { e && $.extend(this.data, e);
                        var t = this.data.child,
                            n = this;
                        var r = n.pChkDom.find("[ptickettype='2']");
                        var i = n.pChkDom.find("[ptickettype='3']");
                        if (t > 0) { r.removeClass(this.disabledClass);
                            i.removeClass(this.disabledClass) } else { r.removeClass(this.cClassName).addClass(this.disabledClass);
                            i.removeClass(this.cClassName).addClass(this.disabledClass) } }, saveToUc: function() {
                        var e = this;
                        var t = e.getSaveData();
                        if (t && t.length) {
                            var n = $.cookie("csrfToken");
                            var r = { source: "vacation", contentType: "2" };
                            r.contacts = JSON.stringify(t);
                            r.csrfToken = n;
                            var i = JSON.stringify(r);
                            QNR.crossDomainPost(location.protocol + "//user.qunar.com/webapi/contact/batchSaveOrUpdate", r, "order/proxy.htm", { onsuccess: function() {}, timeout: 0, ontimeout: function(e) {} }) } }, getSaveData: function() {
                        var e = [];
                        var t = this;
                        var n = "vacation";
                        t.adultw.find(".js_p_p_item").each(function() { $(this).attr("ptickettype", "1") });
                        t.childw.find(".js_p_p_item").each(function() {
                            var e = $(this).attr("ptickettype");
                            if (!e) { $(this).attr("ptickettype", "2") } });
                        t.pMainDom.find(".js_p_p_item").each(function() {
                            var n = $(this);
                            var r = !n.attr("pcontactid");
                            var i = n.data("contact") || {};
                            if (r) {
                                var s = t.getDataFromItem(n);
                                var o = s.name;
                                var u = this.getAttribute("ptickettype");
                                var a = s.idNo;
                                var f = s.idType;
                                var l = true;
                                for (var c = 0, h = e.length; c < h; c++) {
                                    var p = e[c];
                                    if (p.name == o && p.tickettype == u) { l = false;
                                        var d = p.credentialses;
                                        var v = $.extend({}, i.credentialses[0], { credentialsNo: s.idNo, credentialsType: t.getZJTypeFromTTS(f) });
                                        d.push(v);
                                        return } }
                                if (l) {
                                    var m = i || {};
                                    s.sex = s.gender || s.sex || "M";
                                    m = $.extend({}, { id: m.contactId || "", name: o || m.name || "", ticketType: u, gender: s.sex == "M" ? 1 : s.sex = "F" ? 2 : 3, nationality: s.nationality || "", credentialses: m.credentialses });
                                    if (s.birth_year && s.birth_month && s.birth_day) { m.birthday = [s.birth_year, s.birth_month, s.birth_day].join("-") }
                                    if (s.first_name && s.last_name) { m.englishName = (s.first_name || i.first_name) + "/" + (s.last_name || i.last_name) }
                                    m.name = m.name || m.englishName;
                                    m.credentialses = m.credentialses || [];
                                    var g = $.extend(m.credentialses[0], { credentialsType: t.getZJTypeFromTTS(f), credentialsNo: a });
                                    if (s.cvp_year && s.cvp_month && s.cvp_day) { g.invalidDay = [s.cvp_year, s.cvp_month, s.cvp_day].join("-");
                                        g.issuedCountry = s.issuedCountry || m.issuedCountry || s.nationality }
                                    m.credentialses = [g];
                                    e.push(m) } } });
                        return e }, getDataFromItem: function(e) {
                        var t = {};
                        if (e && e.jquery && e.length) {
                            var n = e.find("input[type='text'] , select");
                            n.each(function(e, n) {
                                var r = this.name;
                                t[r] = this.value });
                            t.id = e.attr("data-id") }
                        return t }, formatData: function() {
                        var e = [];
                        this.$w.find("[item='js_maininfo'] .js_p_p_item").each(function() {
                            var t = {};
                            var n = $(this).find("[data-type]");
                            for (var r = 0, i = n.length; r < i; r++) {
                                var s = n[r].getAttribute("data-type");
                                t[s] = $.trim(n[r].value) }
                            t.isAdult = t.isAdult === "true" ? true : false;
                            e.push(t) });
                        return e }, showCardTip: function(e, t) {
                        var n = e.parent().find(".js_p_p_card");
                        var r = { isCvp: t };
                        n.length ? "" : n = $(QTMPL.pgCardTip.render(r)).insertAfter(e);
                        n.show() }, hideCardTip: function(e) { e.parent().find(".js_p_p_card").hide() }, onNumberTip: function(e) { e && e.length && e.numberTip && e.numberTip({ tipsEl: $(QTMPL.numberTip.render({ mclass: "num_idcard" })), change: function(e) { e ? this.config.tipsEl.text(e) : this.config.tipsEl.hide() } }) }, strToUpperCase: function(e) { e.bind("keyup", function() {
                            var e = $(this);
                            e.val(e.val().toUpperCase()) }) }, showWramTip: function(e) {
                        if (!e || !e.content) { this.$warmTip.hide();
                            return }
                        var t = $.proxy(function() {
                            var t = this.$warmTip.find('[item="title"]');
                            var n = this.$warmTip.find('[item="content"]');
                            t.html(e.title || "温馨提示：");
                            n.html(e.content);
                            this.$warmTip.show() }, this);
                        this.inited ? t() : this.cacheMethodArr.push(t) }, resetItemCnt: function(e) { e.find("[item='js_pname']").val("");
                        e.find("[item='js_pcredentialsno']").val("");
                        $sel = e.find("[item='js_pcredentialstype']");
                        if ($sel.get(0)) { $sel.get(0).selectedIndex = 0;
                            $sel.data("csSelect").val($sel.find("option:selected").val(), true) }
                        this.pChkDom.find("[item='citem'][data-seq='" + e.data("seq") + "']").removeClass(self.cClassName);
                        e.data("seq", null) } };
                return { init: function(e) { n.init(e) }, isIDTypeCheck: function() {
                        return n.isIDTypeCheck() }, showOrHideChild: function(e) { n.hasFcbChild = e }, showWramTip: function(e) { n.showWramTip(e) }, formatData: function() {
                        return n.formatData() }, me: n } }()) })() }(t.exports, t, e);
    e.____MODULES["4964b537ea572ffbc124e33f4b6abedf"] = t.exports })(this);
(function(e) {
    var t = { id: "07596b0ea19abf5973967f03c8ba5afd", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["e4fe9355b65225a6e19d8ea1010fc36f"];
        e.____MODULES["c1c39efc96a08ba92be9928040d4ba0c"];
        e.____MODULES["9c51ab604688fe518e53dc973c2f910a"];
        e.____MODULES["d7e5fd9f16a9279981aa4354d2358f42"];
        e.____MODULES["596352fa8f5fb0ce6e81293784719421"];
        e.____MODULES["10db3a0b0d8f0dcec292efc93c442774"];
        e.____MODULES["342a151d92d2ee1a6680927a02f332e0"];
        e.____MODULES["f827cd9de48eed7055ae3c1f41af004b"];
        e.____MODULES["4964b537ea572ffbc124e33f4b6abedf"] }(t.exports, t, e);
    e.____MODULES["07596b0ea19abf5973967f03c8ba5afd"] = t.exports })(this);
(function(e) {
    var t = { id: "3191a79c7fece28caf78169ec4d61a08", filename: "beacon_dj.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof QNR == "undefined") { window.QNR = {} }
        QNR.beacon = function() {
            var e = function() { this.param = {} };
            e.prototype.cookie = function(e, t, n) {
                if (arguments.length > 1 && String(t) !== "[object Object]") { n = n || {};
                    if (t === null || t === undefined) { n.expires = -1 }
                    if (typeof n.expires === "number") {
                        var r = n.expires,
                            i = n.expires = new Date;
                        i.setDate(i.getDate() + r) }
                    t = String(t);
                    return document.cookie = [encodeURIComponent(e), "=", n.raw ? t : encodeURIComponent(t), n.expires ? "; expires=" + n.expires.toUTCString() : "", n.path ? "; path=" + n.path : "; path=/", n.domain ? "; domain=" + n.domain : "", n.secure ? "; secure" : ""].join("") }
                n = t || {};
                var s, o = n.raw ? function(e) {
                    return e } : decodeURIComponent;
                return (s = (new RegExp("(?:^|; )" + encodeURIComponent(e) + "=([^;]*)")).exec(document.cookie)) ? o(s[1]) : null };
            e.prototype.add = function(e, t) {
                if (t != null) { this.param[e] = t } };
            e.prototype.getHashString = function(e) {
                var t = window.location.hash.toString();
                var n = new RegExp("" + e + "=([^&?]*)", "ig");
                return t.match(n) ? decodeURIComponent(t.match(n)[0].substr(e.length + 1)) : "" };
            e.prototype.getQueryString = function(e) {
                var t = window.location.search.toString();
                var n = new RegExp("" + e + "=([^&?]*)", "ig");
                return t.match(n) ? decodeURIComponent(t.match(n)[0].substr(e.length + 1)) : "" };
            e.prototype.send = function() {
                var e = this.get_location();
                var t = new Image;
                t.src = location.protocol + "//bc.qunar.com/" + e + "?" + this._collect_params() };
            e.prototype._collect_params = function() {
                var e = [];
                var t = this.param;
                for (var n in t) { e.push(n + "=" + encodeURIComponent(t[n])) }
                return e.join("&") };
            e.prototype.getDomain = function(e) {
                return (e || "").replace(/^.+\.(.+?\..+)$/, "$1") };
            e.prototype.get_location = function() {
                return "dj" };
            if (window["QNRGA"]) { window["QNR_GA"] = e } else { window["QNRGA"] = e }
            var t = function(t) {
                if (typeof t == "number" || typeof t == "string") {
                    var n = t;
                    t = {};
                    if (arguments.length == 2) { $.extend(t, arguments[1]) }
                    t["s"] = n }
                var r = new e;
                var i = r.getDomain(document.domain);
                var s = r.getHashString("in_track") || r.getQueryString("in_track");
                var o = r.getHashString("ex_track") || r.getQueryString("ex_track");
                var u = r.getHashString("cooperate") || r.getQueryString("cooperate");
                if (s) { r.cookie("QN5", s, { domain: i }) }
                var a = new Date;
                if (o) { r.cookie("QN6", o, { domain: i });
                    a.setTime(a.getTime() + 60 * 60 * 1e3);
                    r.cookie("QND1", o, { domain: "dujia.qunar.com", path: "/", expires: a }) }
                if (!o && u) { a.setTime(a.getTime() + 60 * 60 * 1e3);
                    r.cookie("QND1", u, { domain: "dujia.qunar.com", path: "/", expires: a }) }
                r.add("utmwv", "0.1");
                r.add("t", Math.random());
                r.add("utmsr", screen.availWidth + "*" + screen.availHeight);
                r.add("utmr", document.referrer || "-1");
                r.add("utmp", window.location.href.toString());
                r.add("utmhn", window.location.host.toString());
                for (var f in t) { r.add(f, t[f]) }
                if (window["_ba_utm_ex"]) {
                    var l = window["_ba_utm_ex"];
                    for (var c in l) { r.add(c, l[c]) } }
                r.send();
                arguments.callee.data.push(r.param) };
            t.data = [];
            t.clk = function() {
                if (!arguments.length) {
                    return }
                var e = "";
                if (typeof arguments[0] == "number" || typeof arguments[0] == "string") { e = parseInt(arguments[0], 10) || 0 }
                if (!e) {
                    return }
                var t = ["s=" + e];
                if (arguments.length == 2 && typeof arguments[1] == "object") {
                    var n = arguments[1] || {};
                    for (var r in n) { t.push(encodeURIComponent(r) + "=" + encodeURIComponent((n[r] || "") + "")) } } else {
                    for (var i = 1; i < arguments.length; i++) { t.push(String.fromCharCode(96 + i) + "=" + encodeURIComponent((arguments[i] || "") + "")) } }
                t.push("n=" + Math.random());
                var s = new Image;
                s.src = location.protocol + "//bc.qunar.com/clk?" + t.join("&") };
            return t }() }(t.exports, t, e);
    e.____MODULES["3191a79c7fece28caf78169ec4d61a08"] = t.exports })(this);
(function(e) {
    var t = { id: "0199962fb7d6e2d823f6a45cb525af6d", filename: "usWrapper.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["usWrapper"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<h1 class="title">');
            r.b(r.v(r.f("contactTypeName", e, t, 0)));
            r.b("</h1>");
            r.b("\n" + n);
            r.b('<div class="infi_main">');
            r.b("\n" + n);
            r.b('    <ul class="infilist">');
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            if (r.s(r.f("isSeckill", e, t, 1), e, t, 0, 118, 222, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("    	<li>");
                    r.b("\n" + n);
                    r.b('			<div class="orange">用户须知：本产品是秒杀产品，需在下单后2小时内完成支付，超过2小时订单将自动关闭。</div>');
                    r.b("\n" + n);
                    r.b("        </li>");
                    r.b("\n") });
                e.pop() }
            r.b("    	");
            r.b("\n" + n);
            r.b("        <li>");
            r.b("\n" + n);
            r.b('            <span class="label_tr"><i class="required"></i>姓名</span>');
            r.b("\n" + n);
            r.b('            <div class="inputgroup w145_inte">');
            r.b("\n" + n);
            r.b('                <input name="contactUser" type="text" value="');
            r.b(r.v(r.f("userName", e, t, 0)));
            r.b('" class="input_text" data-jvalidator-pattern="require&person_name" maxlength="30"/>');
            r.b("\n" + n);
            r.b('                <div class="alert" style="display:none;">');
            r.b("\n" + n);
            r.b("                    <div>提示信息 </div>");
            r.b("\n" + n);
            r.b('                    <div class="caret_bl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("                </div>");
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b('            <div class="fl pl10">');
            r.b("\n" + n);
            r.b('            	<span class="radio js_u_s_r" data-value="M"><i class="icon active "></i>先生</span>');
            r.b("\n" + n);
            r.b('            	<span class="radio js_u_s_r" data-value="F"><i class="icon"></i>女士</span>');
            r.b("\n" + n);
            r.b("           	</div>");
            r.b("\n" + n);
            r.b("        </li>");
            r.b("\n" + n);
            r.b("        <li>");
            r.b("\n" + n);
            r.b('            <span class="label_tr"><i class="required"></i>手机</span>');
            r.b("\n" + n);
            r.b('            <div class="phone_con js_u_m_w">                            ');
            r.b("\n" + n);
            r.b('                <div class="cf">');
            r.b("\n" + n);
            r.b('                    <div class="country_code_box inputgroup w66_inte">');
            r.b("\n" + n);
            r.b('                         <input name="mobile_country_code" id="mobile_country_code" readonly="readonly" type="text" value="+86" class="input_text" item="countryCode" data-jvalidator-pattern="require"/>');
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('                        <div id="countryCodePanel" class="m-city-suggest" style="display:none">');
            r.b("\n" + n);
            r.b('                            <a href="javascript:;" class="btn-close close" item="close" id="js-countrycode-close"></a>');
            r.b("\n" + n);
            r.b('                            <div style="display: block;">');
            r.b("\n" + n);
            r.b('                                <ul id="js-tab-Letters" class="tabs cf resetLi">                                            ');
            r.b("\n" + n);
            r.b("                                </ul>");
            r.b("\n" + n);
            r.b('                                <div id="countryCode-list" class="tab-select m-panel">');
            r.b("\n" + n);
            r.b('                                    <div id="js-countrycode-hot"></div>');
            r.b("\n" + n);
            r.b('                                    <div id="js-countrycode-list"></div>    ');
            r.b("\n" + n);
            r.b("                                </div>");
            r.b("\n" + n);
            r.b("                            </div>");
            r.b("\n" + n);
            r.b("                        </div>");
            r.b("\n" + n);
            r.b("                                                             ");
            r.b("\n" + n);
            r.b("                    </div>                ");
            r.b("\n" + n);
            r.b('                    <div class="inputgroup w202_inte">');
            r.b("\n" + n);
            r.b('                        <input name="contactMobile" type="text" value="');
            r.b(r.v(r.f("userPhone", e, t, 0)));
            r.b('" class="input_text" item="cMobile" data-jvalidator-pattern="require"/>');
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('                        <div class="warning_box" id=\'js_mobile_tip\' style="display: none;">');
            r.b("\n" + n);
            r.b('                            <i class="warning"></i>');
            r.b("\n" + n);
            r.b('                            <div class="note" item="text">请输入正确的手机号!</div>');
            r.b("\n" + n);
            r.b("                        </div>                        ");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b("                    </div>");
            r.b("\n" + n);
            r.b('                    <div class="cue">（用于接收确认信息）</div>');
            r.b("\n" + n);
            r.b("                </div>");
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b("        </li>");
            r.b("\n" + n);
            r.b('        <li data-node="MU_visaInfo" ');
            if (!r.s(r.f("isVisa", e, t, 1), e, t, 1, 0, 0, "")) { r.b('class="hide"') }
            r.b(">");
            r.b("\n" + n);
            r.b('            <span class="label_tr"><i class="required"></i>取件方式</span>');
            r.b("\n" + n);
            r.b('            <div class="fl pl10 visa-type">');
            r.b("\n" + n);
            r.b('                <span class="radio js_u_s_post" data-value="self">');
            r.b("\n" + n);
            r.b('                    <i class="icon active "></i>自取');
            r.b("\n" + n);
            r.b("                </span>");
            r.b("\n" + n);
            r.b('                <span class="radio js_u_s_post" data-value="');
            r.b(r.v(r.f("visaExpressKey", e, t, 0)));
            r.b('" data-num="');
            r.b(r.v(r.f("visaExpressNum", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('                    <i class="icon"></i>快递');
            r.b("\n" + n);
            r.b("                </span>");
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b('            <span class="notice-txt" data-node="MU_postage">（');
            r.b(r.v(r.f("visaExpressText", e, t, 0)));
            r.b("）</span>");
            r.b("\n" + n);
            r.b("        </li>");
            r.b("\n" + n);
            r.b('        <li  data-node="MU_visaInfo" item="visaSelf"  ');
            if (!r.s(r.f("isVisa", e, t, 1), e, t, 1, 0, 0, "")) { r.b('class="hide"') }
            r.b(">");
            r.b("\n" + n);
            r.b('            <span class="label_tr">商家地址</span>');
            r.b("\n" + n);
            r.b('            <div class="fl pl10 w660">');
            r.b("\n" + n);
            r.b('                <span class="visa-l-txt" data-node="MU_address">');
            r.b(r.v(r.f("visa_post_address", e, t, 0)));
            r.b("  ");
            r.b(r.v(r.f("visa_addressee", e, t, 0)));
            r.b("  ");
            r.b(r.v(r.f("visa_addressee_phone", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b("        </li>");
            r.b("\n" + n);
            r.b('        <li data-node="MU_visaInfo" item="visaPost" style="display: none;"  ');
            if (!r.s(r.f("isVisa", e, t, 1), e, t, 1, 0, 0, "")) { r.b('class="hide"') }
            r.b(">");
            r.b("\n" + n);
            r.b('            <span class="label_tr"><i class="required"></i>收货地址</span>');
            r.b("\n" + n);
            r.b('            <textarea id="visa_express_address" name="visa_express_address" cols="2" maxlength="100" class="textarea" placeholder="详细地址"></textarea>');
            r.b("\n" + n);
            r.b("        </li>");
            r.b("\n" + n);
            if (r.s(r.f("isSupplierSendTicket", e, t, 1), e, t, 0, 4338, 5674, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("        <li>");
                    r.b("\n" + n);
                    r.b('            <span class="label_tr"><i class="required"></i>取件方式</span>');
                    r.b("\n" + n);
                    r.b('            <div class="fl visa-type">');
                    r.b("\n" + n);
                    if (r.s(r.f("isSelfGet", e, t, 1), e, t, 0, 4492, 4647, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('                <span class="radio js_u_s_get" data-value="0">');
                            r.b("\n" + n);
                            r.b('                    <i class="icon active "></i>自取');
                            r.b("\n" + n);
                            r.b("                </span>");
                            r.b("\n") });
                        e.pop() }
                    if (r.s(r.f("isSendByExpress", e, t, 1), e, t, 0, 4698, 4880, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('                <span class="radio js_u_s_get" data-value="1">');
                            r.b("\n" + n);
                            r.b('                    <i class="icon ');
                            if (!r.s(r.f("isSelfGet", e, t, 1), e, t, 1, 0, 0, "")) { r.b("active") }
                            r.b('"></i>快递');
                            r.b("\n" + n);
                            r.b("                </span>");
                            r.b("\n") });
                        e.pop() }
                    r.b('                <input type="hidden" name="expressWay" id="getTicketMethod" value="');
                    if (r.s(r.f("isSelfGet", e, t, 1), e, t, 0, 4998, 4999, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("0") });
                        e.pop() }
                    if (!r.s(r.f("isSelfGet", e, t, 1), e, t, 1, 0, 0, "")) { r.b("1") }
                    r.b('" />');
                    r.b("\n" + n);
                    r.b("            </div>");
                    r.b("\n" + n);
                    r.b("        </li>");
                    r.b("\n" + n);
                    r.b('        <li class="js-get-self">');
                    r.b("\n" + n);
                    r.b('            <span class="label_tr">商家地址</span>');
                    r.b("\n" + n);
                    r.b('            <div class="fl w660">');
                    r.b("\n" + n);
                    r.b('                <span class="visa-l-txt">');
                    r.b(r.v(r.f("supplierAddress", e, t, 0)));
                    r.b("</span>");
                    r.b("\n" + n);
                    r.b("            </div>");
                    r.b("\n" + n);
                    r.b("        </li>");
                    r.b("\n" + n);
                    r.b('        <li class="js-get-post" style="display: none;">');
                    r.b("\n" + n);
                    r.b('            <span class="label_tr"><i class="required"></i>收件地址</span>');
                    r.b("\n" + n);
                    r.b('            <div class="inputgroup w260_inte">');
                    r.b("\n" + n);
                    r.b('                <input name="userAddress" id="supplierAddress" type="text" value="" class="input_text" placeholder="请填写详细的收件地址" data-jvalidator-pattern="require"/>');
                    r.b("\n" + n);
                    r.b("            </div>");
                    r.b("\n" + n);
                    r.b("        </li>");
                    r.b("\n") });
                e.pop() }
            if (r.s(r.f("isInternationl", e, t, 1), e, t, 0, 5727, 6032, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("        <li>");
                    r.b("\n" + n);
                    r.b('            <span class="label_tr"><i class="required"></i>身份证</span>');
                    r.b("\n" + n);
                    r.b('            <div class="inputgroup w260_inte">');
                    r.b("\n" + n);
                    r.b('            	<input type="text" data-jvalidator-pattern="id_no & require" name="cardId" item="cardId" value="" class="input_text" />');
                    r.b("\n" + n);
                    r.b("            </div>");
                    r.b("\n" + n);
                    r.b("        </li>");
                    r.b("\n") });
                e.pop() }
            r.b("        ");
            r.b("\n" + n);
            r.b("        <li>");
            r.b("\n" + n);
            r.b('            <span class="label_tr">');
            if (r.s(r.f("isEmail", e, t, 1), e, t, 0, 6121, 6145, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<i class="required"></i>') });
                e.pop() }
            r.b("邮箱</span>");
            r.b("\n" + n);
            r.b('            <div class="inputgroup w260_inte">');
            r.b("\n" + n);
            r.b('                <input name="contactEmail" id="contactEmail" type="text" value="" class="input_text" data-jvalidator-pattern="email');
            if (r.s(r.f("isEmail", e, t, 1), e, t, 0, 6357, 6365, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("&require") });
                e.pop() }
            r.b('"/>');
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b("            ");
            if (!r.s(r.f("isEmail", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<div class="cue">（可不填）</div>') }
            r.b("\n" + n);
            r.b("        </li>");
            r.b("\n" + n);
            r.b("        <li>");
            r.b("\n" + n);
            r.b('            <span class="label_tr">留言</span>');
            r.b("\n" + n);
            r.b('            <textarea name="userMessage" cols="2" maxlength="100" class="textarea" placeholder="如果对订单有特殊要求，可以通过这里留言"></textarea>');
            r.b("\n" + n);
            r.b("        </li>");
            r.b("\n" + n);
            r.b("        ");
            r.b("\n" + n);
            if (r.s(r.f("isSeckill", e, t, 1), e, t, 0, 6711, 7529, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("        <li>");
                    r.b("\n" + n);
                    r.b('            <span class="label_tr"><i class="required"></i>验证码</span>');
                    r.b("\n" + n);
                    r.b('            <div class="inputgroup w202_inte">');
                    r.b("\n" + n);
                    r.b('                <input type="text" autocomplete="off" value="" name="vcode1" id="vcode1" class="input_text" data-jvalidator-pattern="require"> ');
                    r.b("\n" + n);
                    r.b('				<img width="100" height="31"');
                    r.b("\n" + n);
                    r.b("					onclick=\"javascript:$('#vcodeImg').attr('src','http://captcha6.pbs.qunar.com/api/image?k={g3njj%28t&amp;t='+new Date().getTime()) \"");
                    r.b("\n" + n);
                    r.b('					src="http://captcha6.pbs.qunar.com/api/image?k={g3njj%28t"');
                    r.b("\n" + n);
                    r.b('					id="vcodeImg" title="" class="vcodeImage"> ');
                    r.b("\n" + n);
                    r.b("				<a onclick=\"javascript:$('#vcodeImg').attr('src','http://captcha6.pbs.qunar.com/api/image?k={g3njj%28t&amp;t='+new Date().getTime())\"");
                    r.b("\n" + n);
                    r.b('					href="#nogo" id="refreshCode" class="nogo"');
                    r.b("\n" + n);
                    r.b('					style="padding-bottom: 10px">换一张</a>');
                    r.b("\n" + n);
                    r.b("			</div>");
                    r.b("\n" + n);
                    r.b("        </li>");
                    r.b("\n") });
                e.pop() }
            r.b("    </ul>");
            r.b("\n" + n);
            r.b("</div><!--联系人 -->");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["usWrapper"] }(t.exports, t, e);
    e.____MODULES["0199962fb7d6e2d823f6a45cb525af6d"] = t.exports })(this);
(function(e) {
    var t = { id: "da8a5df73870427d38c78d4d860960c0", filename: "usVcode.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["usVcode"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="ph_action js_u_v_w" style="display:none;">');
            r.b("\n" + n);
            r.b("	<p>您需要：</p>");
            r.b("\n" + n);
            r.b("    <p>");
            r.b("\n" + n);
            r.b('        <i class="radio_sl js_u_v_r" data-type="login"></i>');
            r.b("\n" + n);
            r.b('        <a class="blue" href="javascript:;" item=\'signin\'>登录</a>购买');
            r.b("\n" + n);
            r.b("    </p>");
            r.b("\n" + n);
            r.b("    <p>");
            r.b("\n" + n);
            r.b('        <i class="radio_sl radio_active js_u_v_r" data-type="mobile"></i>');
            r.b("\n" + n);
            r.b("        通过短信息验证快速购买");
            r.b("\n" + n);
            r.b('        <span class="gray">（我们会为您注册一个账号，下次可以直接用该手机登录）</span>');
            r.b("\n" + n);
            r.b("    </p>");
            r.b("\n" + n);
            r.b('    <p class="msgCode">');
            r.b("\n" + n);
            r.b('        <span class="text">输入验证码</span> ');
            r.b("\n" + n);
            r.b('        <span class="inputgroup">');
            r.b("\n" + n);
            r.b('            <input type="hidden" id="msgCodeValue">');
            r.b("\n" + n);
            r.b('            <input type="text" autocomplete="off" name="vcode1" id="msgCodeInput" class="input_text" data-jvalidator-pattern="require & captcha4"> ');
            r.b("\n" + n);
            r.b("        </span>");
            r.b("\n" + n);
            r.b('        <span id="msgCodeImg" class="msgCodeImgBox"></span>');
            r.b("\n" + n);
            r.b('        <a href="javascript:;" id="refreshMsgCode" class="nogo" style="padding-bottom: 10px">换一张</a>');
            r.b("\n" + n);
            r.b("    </p>");
            r.b("\n" + n);
            r.b('    <p class="idcode cf">');
            r.b("\n" + n);
            r.b('    	<span class="text">短信验证码</span> ');
            r.b("\n" + n);
            r.b('    	<span class="inputgroup">');
            r.b("\n" + n);
            r.b('			<input type="" class="input" item="cinput" name="vcode" data-jvalidator-pattern="vcode" maxlength="6"/>');
            r.b("\n" + n);
            r.b("		</span>");
            r.b("\n" + n);
            r.b('    	<a class="btn_blue" item="getVcode" href="javascript:;">免费获取验证码</a>');
            r.b("\n" + n);
            r.b('    	<a class="btn_blue btn_disabled" item=\'vcodeTip\' href="javascript:;" style="display:none;">');
            r.b("\n" + n);
            r.b('            <b item="resend-counter"></b>秒后再次发送');
            r.b("\n" + n);
            r.b("        </a>");
            r.b("\n" + n);
            r.b('    	<div class="pophidebox h_60" item="errorTip" style="display:none;">');
            r.b("\n" + n);
            r.b('            <div class="ct">发送频繁,请稍后重试</div>');
            r.b("\n" + n);
            r.b("        </div>");
            r.b("\n" + n);
            r.b("	</p>");
            r.b("\n" + n);
            r.b('    <div class="caret_tl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["usVcode"] }(t.exports, t, e);
    e.____MODULES["da8a5df73870427d38c78d4d860960c0"] = t.exports })(this);
(function(e) {
    var t = { id: "6e885d6383a111f371ae7164d5e3fb5b", filename: "usLetters.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["usLetters"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            if (r.s(r.f("list", e, t, 1), e, t, 0, 9, 87, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("<li>");
                    r.b("\n" + n);
                    r.b(' <a href="javascript:;" item="tab" data-prenum="');
                    r.b(r.v(r.d(".", e, t, 0)));
                    r.b('" >');
                    r.b(r.v(r.d(".", e, t, 0)));
                    r.b("</a>");
                    r.b("\n" + n);
                    r.b("</li>");
                    r.b("\n") });
                e.pop() }
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["usLetters"] }(t.exports, t, e);
    e.____MODULES["6e885d6383a111f371ae7164d5e3fb5b"] = t.exports })(this);
(function(e) {
    var t = { id: "58c1879591c257d9e8203cc79341a51a", filename: "usCountryCodeHot.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["usCountryCodeHot"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div item="list" class="item">');
            r.b("\n" + n);
            r.b('    <dl class="list cf">                                ');
            r.b("\n" + n);
            r.b('        <dd class="cf c">');
            r.b("\n" + n);
            if (r.s(r.f("data", e, t, 1), e, t, 0, 135, 322, "{{ }}")) { r.rs(e, t, function(e, t, n) {
                    if (n.s(n.f("prenum", e, t, 1), e, t, 0, 163, 298, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b('                <a class="js_countrycode_item" href="javascript:;" data-prenum="');
                            n.b(n.v(n.f("prenum", e, t, 0)));
                            n.b('">');
                            n.b(n.t(n.f("zh", e, t, 0)));
                            n.b("(+");
                            n.b(n.v(n.f("prenum", e, t, 0)));
                            n.b(")</a>");
                            n.b("\n") });
                        e.pop() } });
                e.pop() }
            r.b("        </dd>");
            r.b("\n" + n);
            r.b("    </dl>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["usCountryCodeHot"] }(t.exports, t, e);
    e.____MODULES["58c1879591c257d9e8203cc79341a51a"] = t.exports })(this);
(function(e) {
    var t = { id: "7acabf03b8032185c3b062df14d5ad99", filename: "usCountryCodeList.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["usCountryCodeList"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            if (r.s(r.f("data", e, t, 1), e, t, 0, 9, 382, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div item="list" class="item hide" index="');
                    r.b(r.v(r.f("key", e, t, 0)));
                    r.b('">');
                    r.b("\n" + n);
                    r.b('    <dl class="list cf"> ');
                    r.b("\n" + n);
                    r.b('        <dt class="t" item-city="');
                    r.b(r.v(r.f("key", e, t, 0)));
                    r.b('" >');
                    r.b(r.v(r.f("key", e, t, 0)));
                    r.b("</dt>        ");
                    r.b("\n" + n);
                    r.b('        <dd class="cf c">');
                    r.b("\n" + n);
                    if (r.s(r.f("list", e, t, 1), e, t, 0, 195, 317, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('            <a href="javascript:;" class="js_countrycode_item" data-prenum="');
                            n.b(n.v(n.f("prenum", e, t, 0)));
                            n.b('">');
                            n.b(n.v(n.f("zh", e, t, 0)));
                            n.b("(+");
                            n.b(n.v(n.f("prenum", e, t, 0)));
                            n.b(")</a>");
                            n.b("\n") });
                        e.pop() }
                    r.b("        </dd>        ");
                    r.b("\n" + n);
                    r.b("    </dl>    ");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["usCountryCodeList"] }(t.exports, t, e);
    e.____MODULES["7acabf03b8032185c3b062df14d5ad99"] = t.exports })(this);
(function(e) {
    var t = { id: "d28461f9087ca2ba3978a9c4f4a3e780", filename: "SecureVerifyUtil.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        function r() {
            function f(e, n) { n = n || t;
                $.ajax({ url: n, type: "GET", dataType: "jsonp" }).success(function(e) {}).fail(function() {}).always(function(t) {
                    if (e && typeof e === "function") {
                        if (typeof t === "string") { e(t) } else { e("") } } else { console.log("invalid callback for getAndSet") } }) }
            var e = "https://secapi.qunar.com/api/noCaptcha/get.json";
            var t = e + "?callback=?";
            var n = "answer";
            var r = n;
            var i = "js-answer-el";
            var s = '<input type="hidden" name="answer" class="' + i + '">';
            var o = "js-secure-verify-form";
            var u = '<div class="' + o + '" style="display:none;">' + s + "</div>";
            var a = "";
            this.getVerifyData = function() {
                return a };
            this.setVerifyData = function(e) { a = e };
            this.wrapVerifyData = function(e) {
                if (typeof e === "object") {
                    return $.extend(e, { answer: this.getVerifyData() }) } else if (typeof e === "string") {
                    return [e, "&answer=", this.getVerifyData()].join("") } else { window.console && console.log("unexpected baseData type for wrap:", typeof e, " skiped");
                    return e } };
            this.wrapDataSend = function(e) {
                var t = this;
                f(function(n) { t.setVerifyData(n);
                    if (e && typeof e === "function") { e() } }) };
            this.respHandler = function(e) {
                if (!e.ret) {
                    var t = e.data;
                    if (t) {
                        if (t.code == "1001") {} else if (t.code == "1002") {
                            if (t.redirectUrl) { window.open(t.redirectUrl) } } } } } }
        t.exports = new r }(t.exports, t, e);
    e.____MODULES["d28461f9087ca2ba3978a9c4f4a3e780"] = t.exports })(this);
(function(e) {
    var t = { id: "35a7dce963820b39e65b91d81103ae00", filename: "SecureVerifyUtilWrapper.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = e.____MODULES["d28461f9087ca2ba3978a9c4f4a3e780"];
        n.exports = i }(t.exports, t, e);
    e.____MODULES["35a7dce963820b39e65b91d81103ae00"] = t.exports })(this);
(function(e) {
    var t = { id: "69081a7b43943da04961475e7f99186c", filename: "MobileUtil.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        var r = { check: function(e, t) { $.ajax({ url: "//u.package.qunar.com/api/telephone/autoValidate.json?callback=?", type: "GET", data: { mobile: e.countryCode + e.mobile }, dataType: "jsonp", success: function(n) {
                        if (n && n.ret) { e.isMobile = n.data;
                            t && t(e) } }, error: function(e, t, n) { alert("手机校验接口错误：" + n) } }) } };
        t.exports = r }(t.exports, t, e);
    e.____MODULES["69081a7b43943da04961475e7f99186c"] = t.exports })(this);
(function(e) {
    var t = { id: "988df799fdd4cab32774b3e9f130cbb5", filename: "type.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        var r = window.p_function || QNR.bookdata.prdInfo && QNR.bookdata.prdInfo.type || "";
        var i = { isSinglePrd: function() {
                return ["single_ticket", "course", "food"].indexOf(r) > -1 }, isSingleTicket: function() {
                return r === "single_ticket" }, isCourseOrFood: function() {
                return r === "course" || r === "food" } };
        var s = { isSinglePrd: i.isSinglePrd(), isSingleTicket: i.isSingleTicket(), isCourseOrFood: i.isCourseOrFood() };
        t.exports = s }(t.exports, t, e);
    e.____MODULES["988df799fdd4cab32774b3e9f130cbb5"] = t.exports })(this);
(function(e) {
    var t = { id: "9fa1c799bec9d2d0df85b8f3eeeecaaf", filename: "string-extension.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) { String.prototype.format = function(e) {
            var t = this,
                n;
            if (arguments.length > 0) {
                if (arguments.length === 1 && typeof e === "object") {
                    for (var r in e) {
                        if (e[r] !== undefined) { n = new RegExp("({" + r + "})", "g");
                            t = t.replace(n, e[r]) } } } else {
                    for (var i = 0; i < arguments.length; i++) {
                        if (arguments[i] != undefined) {
                            var s = new RegExp("({)" + i + "(})", "g");
                            t = t.replace(s, arguments[i]) } } } }
            return t.toString() } }(t.exports, t, e);
    e.____MODULES["9fa1c799bec9d2d0df85b8f3eeeecaaf"] = t.exports })(this);
(function(e) {
    var t = { id: "7e66bb66272ca8c09108be2cb701ba67", filename: "msg-captcha.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["9fa1c799bec9d2d0df85b8f3eeeecaaf"];
        var i = { imgApi: "//qcommons.qunar.com/captcha5/api/image?k={g3njj(t&t={0}", captchaApi: "//qcommons.qunar.com/captcha5/api/getCaptchaId" };
        var s = { init: function(e) { this.$msgCodeImg = $(e.CodeImgId);
                this.$captchaHidden = $(e.CodeHiddenId);
                this.$msgCodeInput = $(e.CodeInputId);
                this.$refreshEntry = $(e.RefreshId);
                this.loadImage();
                this.bindEvent();
                return this }, bindEvent: function() { this.$msgCodeImg.on("click", this.loadImage);
                this.$refreshEntry.on("click", this.loadImage) }, loadImage: function() { s.$msgCodeInput.val("");
                s.$captchaHidden.val("");
                var e = new Image;
                e.width = 80;
                e.height = 27;
                var t = (new Date).getTime();
                var n = i.imgApi.format(t);
                e.src = n;
                e.onload = function() { $.ajax({ url: i.captchaApi, dataType: "jsonp", success: function(e) { s.$captchaHidden.val(e) } });
                    s.$msgCodeImg.find("img").remove().end().append(e) } }, getCaptchaData: function() {
                return { yzm: this.$msgCodeInput.val(), challenge: this.$captchaHidden.val() } } };
        n.exports = s }(t.exports, t, e);
    e.____MODULES["7e66bb66272ca8c09108be2cb701ba67"] = t.exports })(this);
(function(e) {
    var t = { id: "92fc6db1799bab304d08fe66677a37d6", filename: "mobileUser.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = e.____MODULES["35a7dce963820b39e65b91d81103ae00"];
        var s = e.____MODULES["69081a7b43943da04961475e7f99186c"];
        var o = e.____MODULES["988df799fdd4cab32774b3e9f130cbb5"];
        var u = e.____MODULES["7e66bb66272ca8c09108be2cb701ba67"];
        window.QNR.singlePrd = window.QNR.singlePrd || {};
        (function() { $.namespace("QNR.module.mobileUser", function() {
                var e = { FREE: "包邮，出签后商家承担寄回快递费", FREIGHT_COLLECT: "您承担运费,费用到付", PAY_ONLINE: "你承担费用10元,实际多出费用商家与您协商" };
                var t = { init: function(e, t, n) { this.isVisa = !!n || QNR.bookdata.type === "visa";
                        if (!this.inited) { this.$w = e && e.length ? e : $("#js_p_contacter");
                            this.initHtml();
                            this.renderPage();
                            this.loadCountryCodeHot();
                            this.loadCountryCodeList();
                            this.showLoginTipFlag = t;
                            if (t) { QNR.module.login.isLogin() ? this.ignoreVcode() : this.initVcode() }
                            this.captchaInstance = u.init({ CodeImgId: "#msgCodeImg", CodeHiddenId: "#msgCodeValue", CodeInputId: "#msgCodeInput", RefreshId: "#refreshMsgCode" });
                            this.inited = true;
                            this.checkPostTypeRadio(0) } }, reload: function(e) { this.inited = false;
                        if (QNR.module.form.validateGroup) { QNR.module.form.validateGroup.remove(this.$w.find("[data-jvalidator-pattern]")) }
                        this.init(this.$w, this.showLoginTipFlag, e);
                        if (QNR.module.form.validateGroup) { QNR.module.form.validateGroup.append(this.$w.find("[data-jvalidator-pattern]")) } }, toggleIncludeVisa: function(e, t) {
                        var n = this.$w.find('[data-node="MU_visaInfo"]');
                        QNR.module.form.validateGroup && (e ? QNR.module.form.validateGroup.append(this.$visaPostAddress) : QNR.module.form.validateGroup.remove(this.$visaPostAddress));
                        this.$w.find(".js_u_s_post").eq(0).trigger("click");
                        n.toggleClass("hide", !e);
                        e ? this.$w.find("[item=visaSelf]").show() : this.$w.find("[item=visaSelf]").hide();
                        this.$w.find("[data-node=MU_address]").html(t.address);
                        this.$w.find("[data-node=MU_postage]").html(t.postage) }, initHtml: function() {
                        var t = QNR.bookdata.userInfo || {},
                            n = t.name,
                            r = t.phone,
                            i = "联系人";
                        var s = QNR.bookdata.isInternationl;
                        var o = QNR.bookdata.isSeckill;
                        var u = QNR.singlePrd.pick_way || -1;
                        var a = QNR.singlePrd.need_idcard || true;
                        var f = QNR.singlePrd.supplierAddress || "";
                        var l = QNR.singlePrd.expressWay || "";
                        var c = {};
                        $.each(e || {}, function(e, t) {
                            if (QNR.bookdata.visaExpress && typeof QNR.bookdata.visaExpress[e] !== "undefined") { c = { visaExpressKey: e, visaExpressText: t, visaExpressNum: QNR.bookdata.visaExpress[e] || 0 };
                                return false } });
                        var h = u == 1;
                        if (window.p_function && window.p_function == "single_ticket") { i = "取票人" }
                        this.$w.html(QTMPL.usWrapper.render($.extend({ userName: n, userPhone: r, isInternationl: s || a == "true", isSeckill: o, isMilv: QNR.bookdata.isMilv, isVisa: QNR.bookdata.type === "visa" ? true : false, isEmail: h || QNR.bookdata.isMilv || QNR.bookdata.isEmailRequired || false, contactTypeName: i, isSupplierSendTicket: u == 2, isSelfGet: l.indexOf("0") !== -1, isSendByExpress: l.indexOf("1") !== -1, supplierAddress: f }, QNR.bookdata.visaWorkJob || {}, c || {})));
                        this.$tel = this.$w.find('[item="cMobile"]');
                        this.$sexInput = $("#contact_sex");
                        this.$idCard = this.$w.find('[item="cardId"]');
                        this.$visaPostMethod = this.$w.find("#qMethod");
                        this.$visaPostAddress = this.$w.find("#visa_express_address");
                        this.$visaSelfNode = this.$w.find('[item="visaSelf"]');
                        this.$visaPostNode = this.$w.find('[item="visaPost"]');
                        this.$countryCode = this.$w.find('[item="countryCode"]');
                        this.$countryCodePanel = $("#countryCodePanel");
                        this.$countryCodeHot = $("#js-countrycode-hot");
                        this.$countryCodeList = $("#js-countrycode-list");
                        this.$tabLetters = $("#js-tab-Letters");
                        this.$close = $("#js-countrycode-close");
                        this.$mobileTip = $("#js_mobile_tip");
                        this.$getTicketMethod = $("#getTicketMethod");
                        this.$getTicketBySelf = this.$w.find(".js-get-self");
                        this.$getTicketByPost = this.$w.find(".js-get-post");
                        this.$supplierAddress = $("#supplierAddress");
                        this.$radiosGetTicket = this.$w.find(".js_u_s_get");
                        this.letters = [];
                        for (var p = 65; p < 91; p++) { this.letters.push(String.fromCharCode(p)) } }, renderPage: function() {
                        var e = this;
                        this.$tel.bind("blur", $.proxy(function() { this.checkCountryCodeAndMobile(true) }, this));
                        this.$tel.bind("keyup", $.proxy(function() { this.checkCountryCodeAndMobile(false) }, this));
                        this.$idCard.length && this.$idCard.numberTip({ rule: "ID", tipsEl: $(QTMPL.numberTip.render({ mclass: "num_idcard" })), change: function(e) { e ? this.config.tipsEl.text(e) : this.config.tipsEl.hide() } });
                        QNR.module.tools.renderRadios({ $radios: this.$w.find(".js_u_s_r"), clickFunc: function(t) { e.$sexInput.val(t.data("value")) } });
                        QNR.module.tools.renderRadios({ $radios: this.$w.find(".js_u_s_post"), clickFunc: function(t) {
                                var n = t.attr("data-value");
                                e.updateVisaPostAddress(n);
                                QNR.event.fire("express-change", t.attr("data-num") || 0, n) } });
                        if (o.isSinglePrd && QNR.singlePrd.pick_way == 2) {
                            var t = this.$w.find(".js_u_s_get");
                            var n = QNR.singlePrd.baoyou;
                            QNR.module.tools.renderRadios({ $radios: t, clickFunc: function(t) {
                                    var n = t.attr("data-value");
                                    e.updateSupplierPostAddress(n);
                                    if (!t.data("clicked")) { QNR.event.fire("feright-change");
                                        t.data("clicked", "clicked") } } });
                            t.find(".active").parent().trigger("click") }
                        this.$countryCode.bind("focus", function() { e.$countryCodePanel.show() });
                        this.$tabLetters.html(QTMPL.usLetters.render({ list: this.letters }));
                        this.$tabLetters.on("click", "a", function(t) { t.preventDefault();
                            var n = $(this);
                            e.$tabLetters.find("li").removeClass("on");
                            n.parent().addClass("on");
                            var r = n.attr("data-prenum");
                            e.$countryCodeList.find('div[item="list"]').addClass("hide");
                            e.$countryCodeList.find('div[index="' + r + '"]').removeClass("hide") });
                        this.$countryCodePanel.on("click", ".js_countrycode_item", function(t) { t.preventDefault();
                            e.$countryCode.val("+" + $(this).attr("data-prenum"));
                            e.$countryCodePanel.hide() });
                        this.$close.bind("click", function(t) { t.preventDefault();
                            e.$countryCodePanel.hide() }) }, updateVisaPostAddress: function(e) { this.$visaPostMethod.val(e);
                        if (e !== "self") { this.$visaSelfNode.hide();
                            this.$visaPostNode.show();
                            this.$visaPostAddress.attr("data-jvalidator-pattern", "require") } else { this.$visaSelfNode.show();
                            this.$visaPostNode.hide();
                            this.$visaPostAddress.val("").attr("data-jvalidator-pattern", "") } }, updateSupplierPostAddress: function(e) { this.$getTicketMethod.val(e);
                        var t = this.$radiosGetTicket.eq(0);
                        var n = this.$radiosGetTicket.eq(1);
                        this.checkPostTypeRadio(e);
                        if (e == 0 && !t.data("clicked")) { this.$getTicketByPost.hide();
                            this.$getTicketBySelf.show();
                            this.$supplierAddress.val("").removeAttr("data-jvalidator-pattern");
                            n.data("clicked", "") } else if (e == 1 && !n.data("clicked")) { this.$getTicketByPost.show();
                            this.$getTicketBySelf.hide();
                            this.$supplierAddress.attr("data-jvalidator-pattern", "require");
                            t.data("clicked", "") } }, filterSign: function(e) {
                        return e ? e.replace(/\+/gi, "") : "" }, checkCountryCodeAndMobile: function(e) {
                        var t = this;
                        var n = this.$tel.val().trim();
                        var r = this.$countryCode.val();
                        r = this.filterSign(r);
                        if (!n) { this.$mobileTip.hide();
                            return }
                        if (r == 86) {
                            var i = /^1\d{10}$/i;
                            var o = i.test($.trim(n));
                            t.checkShowTip(e, o, n) } else { this.$mobileTip.hide();
                            if (e) {
                                var u = { countryCode: r, mobile: n };
                                s.check(u, function(r) { t.checkShowTip(e, r.isMobile, n) }) } } }, checkShowTip: function(e, t, n) {
                        if (t) { this.$mobileTip.hide();
                            QNR.event.trigger("mobile-valid") } else { this.$mobileTip.show();
                            QNR.event.trigger("mobile-invalid") }
                        if (e) {} }, loadCountryCodeList: function() {
                        var e = this;
                        $.ajax({ url: "https://user.qunar.com/ajax/prenum.jsp", data: { type: "cn", callbacktype: 1, format: "js" }, type: "get", dataType: "jsonp", success: function(t) {
                                if (t && t.ret) {
                                    var n = [],
                                        r = {};
                                    $.each(t.data || [], function(e, t) { r = { key: e, list: t };
                                        n.push(r) });
                                    t.data = n;
                                    t.isHot = false;
                                    e.$countryCodeList.html(QTMPL.usCountryCodeList.render(t)) } } }) }, loadCountryCodeHot: function() {
                        var e = this;
                        $.ajax({ url: "https://user.qunar.com/ajax/prenumHot.jsp", data: { count: 10, callbacktype: 1, format: "js" }, dataType: "jsonp", success: function(t) {
                                if (t && t.ret) { t.isHot = true;
                                    e.$countryCodeHot.html(QTMPL.usCountryCodeHot.render(t)) } } }) }, showWhenSignIn: function(e) { this.signInTip = QNR.module.dlg.show({ ptext: "您已登录成功，请继续预订", ttext: "3秒后自动关闭" });
                        var t = this.signInTip.dlg.find('[item="tip"]');
                        setTimeout($.proxy(function() { t.text("2秒后自动关闭") }, this), 1e3);
                        setTimeout($.proxy(function() { t.text("1秒后自动关闭") }, this), 2e3);
                        setTimeout($.proxy(function() { this.signInTip.close() }, this), 3e3) }, ignoreVcode: function() {
                        var e = this;
                        QNR.event.bind("mobile-valid", function(t, n) { QNR.event.trigger("contact-mobile-change", [e.$tel.val()]) });
                        QNR.event.bind("mobile-invalid", function(e, t) { QNR.event.trigger("contact-mobile-change", [false]) });
                        QNR.event.trigger("contact-mobile-change", [e.$tel.val() || false]) }, initVcode: function() { this.$vcodeW = this.$w.find(".js_u_v_w");
                        this.$vcodeW = this.$vcodeW.length ? this.$vcodeW : $(QTMPL.usVcode.render()).appendTo(this.$w.find(".js_u_m_w"));
                        this.$vcodeEl = this.$vcodeW.find('[item="cinput"]');
                        this.$vcodeRs = this.$vcodeW.find(".js_u_v_r");
                        this.vcodeTip = this.$vcodeW.find("[item='vcodeTip']");
                        this.vcodeError = this.$vcodeW.find("[item='errorTip']");
                        var e = this;
                        var t = this.$vcodeW;
                        var n = false;
                        var r = false;
                        var i = this.$vcodeRs;
                        var s = $(i[0]);
                        var o = $(i[1]);
                        var u = t.find('[item="signin"]');
                        var a = t.find('[item="getVcode"]');
                        QNR.event.bind("user-login", function(t, n) { e.$vcodeW.hide();
                            n && n.silent ? "" : e.showWhenSignIn() });
                        QNR.event.bind("mobile-valid", function(n, r) {
                            if (!QNR.module.login.isLogin()) { t.show();
                                e.hideVcodeEMsg() }
                            QNR.event.trigger("contact-mobile-change", [e.$tel.val()]) });
                        QNR.event.bind("mobile-invalid", function(e, n) { t.hide();
                            QNR.event.trigger("contact-mobile-change", [false]) });
                        QNR.event.trigger("contact-mobile-change", [this.$tel.val() || false]);
                        a.bind("mousedown", $.proxy(function(e) { e.preventDefault();!r && this.$tel.blur() }, this));
                        a.bind("click", $.proxy(function() {
                            if (!r) { e.checkVcodeRadio(o);
                                this.sendVcode() } }, this));
                        u.bind("click", $.proxy(function(t) { t.preventDefault();
                            e.checkVcodeRadio(s);
                            QNR.event.trigger("pop-login-window") }, this));
                        s.bind("click", $.proxy(function(e) { e.preventDefault();
                            e.stopPropagation();
                            QNR.event.trigger("pop-login-window") }, this));
                        this.$vcodeEl.bind("focus", $.proxy(function() { e.checkVcodeRadio(o) }, this));
                        i.on("click", function(t) { t.preventDefault();
                            t.stopPropagation();
                            e.checkVcodeRadio($(this)) });
                        i.parent().on("click", function(e) { e.preventDefault();
                            e.stopPropagation();
                            $(this).find(".js_u_v_r").trigger("click") });
                        this.$vcodeEl.data("invalidFunc", function(t) { e.showVcodeEMsg(t) }).data("validFunc", function() { e.hideVcodeEMsg() });
                        var f = this.vcodeTip,
                            l, c = this.vcodeError;
                        this.sendError = function(e) {
                            if (l) { clearTimeout(l) }
                            c.find(".ct").text(e || "发送频繁,请稍后重试");
                            c.show();
                            l = setTimeout(function() { c.hide();
                                l = false }, 5e3) };
                        this.lockOneM = function() {
                            var e = 60;
                            r = true;
                            a.text("重新获取").hide();
                            var t = f.find('[item="resend-counter"]');
                            t.text(e);
                            f.show();
                            var n = setInterval($.proxy(function() { e--;
                                if (!e) { clearInterval(n);
                                    f.hide();
                                    return }
                                t.text(e) }, this), 1e3);
                            setTimeout(function() { a.show();
                                f.hide();
                                r = false }, 6e4) };
                        QNR.event.trigger("validate-change", { show: true, elem: this.$vcodeW }) }, showVcodeEMsg: function(e) {
                        var t = this.$vcodeEl,
                            n = t.parent(),
                            r = n.find(".js_p_p_inputTip");
                        t.addClass("input_warning").attr("data-tip", e).attr("title", e);
                        r.length ? r.show().find('[item="text"]').text(e) : $(QTMPL.inputTip.render({ text: e, pclass: "fl" })).appendTo(n).show() }, hideVcodeEMsg: function() {
                        var e = this.$vcodeEl,
                            t = e.parent(),
                            n = t.find(".js_p_p_inputTip");
                        e.removeClass("input_warning").removeAttr("data-tip").removeAttr("title");
                        n.hide() }, sendVcode: function() {
                        var e = this.captchaInstance.getCaptchaData();
                        this.$tel.jvalidator().validateAll($.proxy(function(t) { t = /^\w{4}$/.test(e.yzm);
                            if (t) {
                                var n = this;
                                i.wrapDataSend(function() { $.ajax({ url: "/user/qbuy.do", type: "post", data: i.wrapVerifyData($.extend({ method: "sendCode", mobile_country_code: n.filterSign(n.$countryCode.val()), mobile: n.$tel.val() }, e)), dataType: "json", success: $.proxy(function(e) {
                                            if (e) { i.respHandler(e);
                                                if (e && e.ret) { this.lockOneM() } else { this.sendError(e.errmsg) } } }, n) }) }) } }, this)) }, checkVcodeRadio: function(e) {
                        var t = "radio_active",
                            n = e.data("type");
                        this.$vcodeRs.removeClass(t);
                        e.addClass(t);
                        if (n === "mobile") { QNR.event.trigger("validate-change", { show: true, elem: this.$vcodeW }) } else { QNR.event.trigger("validate-change", { show: false, elem: this.$vcodeW });
                            this.hideVcodeEMsg() } }, checkPostTypeRadio: function(e) {
                        var t = this;
                        if (e == "1") { QNR.event.trigger("validate-change", { show: true, elem: this.$getTicketByPost }) } else { QNR.event.trigger("validate-change", { show: false, elem: this.$getTicketByPost }) } }, checkNewUser: function(e, t) {
                        if (QNR.module.login.isLogin() || this.cache[this.$tel.val()]) { e() } else { QNR.module.dlg.show({ ptext: "提示：您将自动注册成为去哪儿用户，<br/>帐号密码发送到您当前的手机号。", ttext: "确认后自动登录并继续预订", needCancel: true, callback: e, afterClose: t }) } }, cache: {}, checkTel: function(e) {
                        if (this.cache[e]) {
                            return }
                        var t = this;
                        i.wrapDataSend(function() { $.ajax({ url: "/user/qbuy.do", type: "post", data: i.wrapVerifyData({ method: "validate", mobile: e }), dataType: "json", success: $.proxy(function(t) { i.respHandler(t);
                                    if (t.ret) { this.cache[e] = true } }, t) }) }) } };
                return { init: function(e, n, r) { t.init(e, n, r) }, reload: function(e) { t.reload(e) }, toggleIncludeVisa: function(e, n) { t.toggleIncludeVisa(e, n) }, checkNewUser: function(e, n) { t.checkNewUser(e, n) } } }()) })() }(t.exports, t, e);
    e.____MODULES["92fc6db1799bab304d08fe66677a37d6"] = t.exports })(this);
(function(e) {
    var t = { id: "e4d63b1b482afcdbde58cc8a08f07947", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["0199962fb7d6e2d823f6a45cb525af6d"];
        e.____MODULES["da8a5df73870427d38c78d4d860960c0"];
        e.____MODULES["6e885d6383a111f371ae7164d5e3fb5b"];
        e.____MODULES["58c1879591c257d9e8203cc79341a51a"];
        e.____MODULES["7acabf03b8032185c3b062df14d5ad99"];
        e.____MODULES["92fc6db1799bab304d08fe66677a37d6"] }(t.exports, t, e);
    e.____MODULES["e4d63b1b482afcdbde58cc8a08f07947"] = t.exports })(this);
(function(e) {
    var t = { id: "462dcb54208cd3b72d54c4419eb9ad6c", filename: "sbWrapper.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["sbWrapper"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="cost-notice">');
            r.b("\n" + n);
            r.b('	<div class="con_right">');
            r.b("\n" + n);
            r.b('		<div class="orderinfo_box">');
            r.b("\n" + n);
            r.b('			<div class="orderinfo_main">');
            r.b("\n" + n);
            r.b('				<div class="orderinfo_tit">费用明细</div>');
            r.b("\n" + n);
            r.b("				<div item='shower'></div>");
            r.b("\n" + n);
            if (r.s(r.f("isCTripMode", e, t, 1), e, t, 0, 208, 397, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('	      <div class="mask hide">');
                    r.b("\n" + n);
                    r.b('	      		<img width="32" height="32" class="loading-icon" src="http://source.qunarzz.com/zhuanti/20130828/m_loading.gif" alt="loading">');
                    r.b("\n" + n);
                    r.b("	      </div>");
                    r.b("\n") });
                e.pop() }
            r.b("			</div>");
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["sbWrapper"] }(t.exports, t, e);
    e.____MODULES["462dcb54208cd3b72d54c4419eb9ad6c"] = t.exports })(this);
(function(e) {
    var t = { id: "5922e9eb80ae93feb1d6bab61a6bba69", filename: "sbNormal.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["sbNormal"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="orderinfo_sub">');
            r.b("\n" + n);
            r.b("	<dl>");
            r.b("\n" + n);
            r.b("	<dt>");
            r.b("\n" + n);
            r.b('		<p class="orinfo_sub_con"> <span class="left">订单信息</span> <span class="right"><b>&yen;');
            r.b(r.v(r.f("orderSubtotal", e, t, 0)));
            r.b("</b> </span> </p>");
            r.b("\n" + n);
            r.b("	</dt>");
            r.b("\n" + n);
            if (r.s(r.f("hasPackedFlight", e, t, 1), e, t, 0, 194, 469, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("        <dd>");
                    r.b("\n" + n);
                    r.b('            <p class="orinfo_sub_con">');
                    r.b("\n" + n);
                    r.b('                <span class="left">往返机票</span>');
                    r.b("\n" + n);
                    r.b('                <span class="right">');
                    r.b("\n" + n);
                    r.b("        ");
                    r.b(r.v(r.f("packedFlightPersonCount", e, t, 0)));
                    r.b(' &times; <b class="claw">&yen;');
                    r.b(r.v(r.f("packedFlightPrice", e, t, 0)));
                    r.b("</b>");
                    r.b("\n" + n);
                    r.b("    </span>");
                    r.b("\n" + n);
                    r.b("            </p>");
                    r.b("\n" + n);
                    r.b("        </dd>");
                    r.b("\n") });
                e.pop() }
            r.b("	<dd>");
            r.b("\n" + n);
            r.b('	<p class="orinfo_sub_con">');
            r.b("\n" + n);
            r.b('		<span class="left">');
            r.b("\n" + n);
            r.b("			");
            r.b(r.v(r.f("singleTicketItem", e, t, 0)));
            r.b("\n" + n);
            r.b("		</span>");
            r.b("\n" + n);
            r.b('		<span class="right">');
            r.b("\n" + n);
            r.b("			");
            r.b(r.v(r.f("adultAmount", e, t, 0)));
            r.b(' &times; <b class="claw s_price">&yen;');
            r.b(r.v(r.f("perAdultPrice", e, t, 0)));
            r.b("</b>");
            r.b("\n" + n);
            r.b("		</span>");
            r.b("\n" + n);
            r.b("	</p>");
            r.b("\n" + n);
            r.b("	</dd>");
            r.b("\n" + n);
            if (r.s(r.f("hasChild", e, t, 1), e, t, 0, 718, 956, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                    if (r.s(r.f("childAmount", e, t, 1), e, t, 0, 737, 938, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("		<dd>");
                            r.b("\n" + n);
                            r.b('		<p class="orinfo_sub_con">');
                            r.b("\n" + n);
                            r.b('			<span class="left">儿童 </span>');
                            r.b("\n" + n);
                            r.b('			<span class="right">');
                            r.b("\n" + n);
                            r.b("				");
                            r.b(r.v(r.f("childAmount", e, t, 0)));
                            r.b(' &times; <b class="claw s_price">&yen;');
                            r.b(r.v(r.f("perChildPrice", e, t, 0)));
                            r.b("</b>");
                            r.b("\n" + n);
                            r.b("			</span>");
                            r.b("\n" + n);
                            r.b("		</p>");
                            r.b("\n" + n);
                            r.b("		</dd>");
                            r.b("\n") });
                        e.pop() } });
                e.pop() }
            if (!r.s(r.f("isSingleTicket", e, t, 1), e, t, 1, 0, 0, "")) {
                if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 1005, 1091, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                        if (!r.s(r.f("isHideRoom", e, t, 1), e, t, 1, 0, 0, "")) { r.b("			<p>");
                            r.b("\n" + n);
                            r.b("				房间 &times; ");
                            r.b(r.v(r.f("roomAmount", e, t, 0)));
                            r.b("\n" + n);
                            r.b("			</p>");
                            r.b("\n") } });
                    e.pop() }
                if (r.s(r.f("needShowRoomDiff", e, t, 1), e, t, 0, 1127, 1313, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('		<p class="orinfo_sub_con">');
                        r.b("\n" + n);
                        r.b('			<span class="left">房差 </span>');
                        r.b("\n" + n);
                        r.b('			<span class="right">');
                        r.b("\n" + n);
                        r.b("				");
                        r.b(r.v(r.f("roomDiffNum", e, t, 0)));
                        r.b(' &times; <b class="claw s_price">&yen;');
                        r.b(r.v(r.f("roomDiffPrice", e, t, 0)));
                        r.b("</b>");
                        r.b("\n" + n);
                        r.b("			</span>");
                        r.b("\n" + n);
                        r.b("		</p>");
                        r.b("\n") });
                    e.pop() } }
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            if (r.s(r.f("isCTripMode", e, t, 1), e, t, 0, 1380, 2112, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="orderinfo_sub">');
                    r.b("\n" + n);
                    r.b("	<dl>");
                    r.b("\n" + n);
                    r.b("		<dt>");
                    r.b("\n" + n);
                    r.b('			<p class="orinfo_sub_con"> <span class="left">附加产品</span> <span class="right"><b>&yen;');
                    r.b(r.v(r.f("ctripXResourceTotal", e, t, 0)));
                    r.b("</b> </span> </p>");
                    r.b("\n" + n);
                    r.b("		</dt>");
                    r.b("\n" + n);
                    if (r.s(r.f("ctripInsurance", e, t, 1), e, t, 0, 1581, 1755, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("		<dd>");
                            r.b("\n" + n);
                            r.b('			<p class="orinfo_sub_con">');
                            r.b("\n" + n);
                            r.b('				<span class="left">保险</span>');
                            r.b("\n" + n);
                            r.b('				<span class="right">');
                            r.b("\n" + n);
                            r.b('				<b class="claw">&yen;');
                            r.b(r.v(r.f("ctripInsurance", e, t, 0)));
                            r.b("</b>");
                            r.b("\n" + n);
                            r.b("				</span>");
                            r.b("\n" + n);
                            r.b("			</p>");
                            r.b("\n" + n);
                            r.b("		</dd>");
                            r.b("\n") });
                        e.pop() }
                    r.b("\n" + n);
                    if (r.s(r.f("ctripXList", e, t, 1), e, t, 0, 1793, 2081, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("		<dd>");
                            r.b("\n" + n);
                            r.b('			<p class="orinfo_sub_con">');
                            r.b("\n" + n);
                            r.b('				<span class="left">附加产品</span>');
                            r.b("\n" + n);
                            r.b('				<span class="right">				');
                            r.b("\n" + n);
                            if (r.s(r.f("isPlus", e, t, 1), e, t, 0, 1910, 1960, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('					<b class="claw">&yen;');
                                    n.b(n.v(n.f("ctripXList", e, t, 0)));
                                    n.b("</b>");
                                    n.b("\n") });
                                e.pop() }
                            r.b("\n" + n);
                            if (!r.s(r.f("isPlus", e, t, 1), e, t, 1, 0, 0, "")) { r.b('					<b class="claw">-&yen;');
                                r.b(r.v(r.f("ctripXList", e, t, 0)));
                                r.b("</b>");
                                r.b("\n") }
                            r.b("				</span>");
                            r.b("\n" + n);
                            r.b("			</p>");
                            r.b("\n" + n);
                            r.b("		</dd>");
                            r.b("\n") });
                        e.pop() }
                    r.b("\n" + n);
                    r.b("	</dl>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("	");
            r.b("\n" + n);
            if (r.s(r.f("hasValueAdded", e, t, 1), e, t, 0, 2149, 2563, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="orderinfo_sub">');
                    r.b("\n" + n);
                    r.b("	<dl>");
                    r.b("\n" + n);
                    r.b("		<dt>");
                    r.b("\n" + n);
                    r.b('			<p class="orinfo_sub_con"> <span class="left">增值服务</span> <span class="right"><b>&yen;');
                    r.b(r.v(r.f("valueAddSubtotal", e, t, 0)));
                    r.b("</b> </span> </p>");
                    r.b("\n" + n);
                    r.b("		</dt>");
                    r.b("\n" + n);
                    if (r.s(r.f("valueAddedObj", e, t, 1), e, t, 0, 2346, 2530, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("		<dd>");
                            r.b("\n" + n);
                            r.b('		<p class="orinfo_sub_con">');
                            r.b("\n" + n);
                            r.b('			<span class="left">');
                            r.b(r.v(r.f("type", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('			<span class="right">');
                            r.b("\n" + n);
                            r.b("				");
                            r.b(r.v(r.f("count", e, t, 0)));
                            r.b(' &times; <b class="claw">&yen;');
                            r.b(r.v(r.f("price", e, t, 0)));
                            r.b("</b>");
                            r.b("\n" + n);
                            r.b("			</span>");
                            r.b("\n" + n);
                            r.b("		</p>");
                            r.b("\n" + n);
                            r.b("		</dd>");
                            r.b("\n") });
                        e.pop() }
                    r.b("	</dl>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            r.b("\n" + n);
            if (r.s(r.f("hasInsurance", e, t, 1), e, t, 0, 2601, 3002, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="orderinfo_sub">');
                    r.b("\n" + n);
                    r.b("	<dl>");
                    r.b("\n" + n);
                    r.b("		<dt>");
                    r.b("\n" + n);
                    r.b('			<p class="orinfo_sub_con"> <span class="left">保险</span> <span class="right"><b>&yen;');
                    r.b(r.v(r.f("insuranceSubtotal", e, t, 0)));
                    r.b("</b> </span> </p>");
                    r.b("\n" + n);
                    r.b("		</dt>");
                    r.b("\n" + n);
                    if (r.s(r.f("insuranceObj", e, t, 1), e, t, 0, 2795, 2970, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("	<dd>");
                            r.b("\n" + n);
                            r.b('	<p class="orinfo_sub_con">');
                            r.b("\n" + n);
                            r.b('		<span class="left">');
                            r.b(r.v(r.f("type", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('		<span class="right">');
                            r.b("\n" + n);
                            r.b("			");
                            r.b(r.v(r.f("count", e, t, 0)));
                            r.b(' &times; <b class="claw">&yen;');
                            r.b(r.v(r.f("price", e, t, 0)));
                            r.b("</b>");
                            r.b("\n" + n);
                            r.b("		</span>");
                            r.b("\n" + n);
                            r.b("	</p>");
                            r.b("\n" + n);
                            r.b("	</dd>");
                            r.b("\n") });
                        e.pop() }
                    r.b("	</dl>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            if (r.s(r.f("isTieIn", e, t, 1), e, t, 0, 3033, 3613, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("	");
                    r.b("\n" + n);
                    r.b('	<div class="orderinfo_sub">');
                    r.b("\n" + n);
                    r.b("	<dl>");
                    r.b("\n" + n);
                    r.b("		<dt>");
                    r.b("\n" + n);
                    r.b('			<p class="orinfo_sub_con"> <span class="left">搭售产品</span> <span class="right"><b>&yen;');
                    r.b(r.v(r.f("tieInSubtotal", e, t, 0)));
                    r.b("</b> </span> </p>");
                    r.b("\n" + n);
                    r.b("		</dt>");
                    r.b("\n" + n);
                    if (r.s(r.f("tieIn", e, t, 1), e, t, 0, 3222, 3592, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("		<dd>");
                            r.b("\n" + n);
                            r.b('		<p class="orinfo_sub_con">');
                            r.b("\n" + n);
                            r.b('			<span class="left">');
                            r.b(r.v(r.f("type", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('			<span class="right">');
                            r.b("\n" + n);
                            if (r.s(r.f("hasDays", e, t, 1), e, t, 0, 3364, 3452, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("				");
                                    n.b(n.v(n.f("count", e, t, 0)));
                                    n.b(" &times;  ");
                                    n.b(n.v(n.f("days", e, t, 0)));
                                    n.b(' &times; <b class="claw s_price">&yen;');
                                    n.b(n.v(n.f("price", e, t, 0)));
                                    n.b("</b>");
                                    n.b("\n") });
                                e.pop() }
                            if (!r.s(r.f("hasDays", e, t, 1), e, t, 1, 0, 0, "")) { r.b("				");
                                r.b(r.v(r.f("count", e, t, 0)));
                                r.b(' &times; <b class="claw s_price">&yen;');
                                r.b(r.v(r.f("price", e, t, 0)));
                                r.b("</b>");
                                r.b("\n") }
                            r.b("			</span>");
                            r.b("\n" + n);
                            r.b("		</p>");
                            r.b("\n" + n);
                            r.b("		</dd>");
                            r.b("\n") });
                        e.pop() }
                    r.b("	</div>");
                    r.b("\n" + n);
                    r.b("	");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            if (r.s(r.f("hasExpress", e, t, 1), e, t, 0, 3642, 4035, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="orderinfo_sub">');
                    r.b("\n" + n);
                    r.b("	<dl>");
                    r.b("\n" + n);
                    r.b("		<dt>");
                    r.b("\n" + n);
                    r.b('		<p class="orinfo_sub_con">');
                    r.b("\n" + n);
                    r.b('			<span class="left">快递费用</span>');
                    r.b("\n" + n);
                    r.b('			<span class="right">');
                    r.b("\n" + n);
                    r.b('				<b class="green claw">&yen;');
                    r.b(r.v(r.f("expressPrice", e, t, 0)));
                    r.b("</b> ");
                    r.b("\n" + n);
                    r.b("			</span>");
                    r.b("\n" + n);
                    r.b("		</p>");
                    r.b("\n" + n);
                    r.b("		</dt>");
                    r.b("\n" + n);
                    r.b("		<dd>");
                    r.b("\n" + n);
                    r.b('		<p class="orinfo_sub_con">');
                    r.b("\n" + n);
                    r.b('			<span class="left">快递</span>');
                    r.b("\n" + n);
                    r.b('			<span class="right">');
                    r.b("\n" + n);
                    r.b('				<b class="green claw">&yen;');
                    r.b(r.v(r.f("expressPrice", e, t, 0)));
                    r.b("</b> ");
                    r.b("\n" + n);
                    r.b("			</span>");
                    r.b("\n" + n);
                    r.b("		</p>");
                    r.b("\n" + n);
                    r.b("		</dd>");
                    r.b("\n" + n);
                    r.b("	</dl>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            r.b('<div class="orderinfo_sub">');
            r.b("\n" + n);
            r.b("	<dl>");
            r.b("\n" + n);
            r.b("		<dt>");
            r.b("\n" + n);
            r.b('	<p class="orinfo_sub_con">');
            r.b("\n" + n);
            r.b('		<span class="left">优惠金额</span>');
            r.b("\n" + n);
            r.b('		<span class="right">');
            r.b("\n" + n);
            r.b('			<b class="green claw">-&yen;');
            r.b(r.v(r.f("reducePrice", e, t, 0)));
            r.b("</b> ");
            r.b("\n" + n);
            r.b("		</span>");
            r.b("\n" + n);
            r.b("	</p>");
            r.b("\n" + n);
            r.b("	</dt>");
            r.b("\n" + n);
            r.b("	<dd>");
            r.b("\n" + n);
            r.b('	<p class="orinfo_sub_con">');
            r.b("\n" + n);
            r.b('		<span class="left">优惠</span>');
            r.b("\n" + n);
            r.b('		<span class="right">');
            r.b("\n" + n);
            r.b('			<b class="green claw">-&yen;');
            r.b(r.v(r.f("reducePrice", e, t, 0)));
            r.b("</b> ");
            r.b("\n" + n);
            r.b("		</span>");
            r.b("\n" + n);
            r.b("	</p>");
            r.b("\n" + n);
            r.b("	</dd>");
            r.b("\n" + n);
            r.b("	</dl>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            if (r.s(r.f("showFeright", e, t, 1), e, t, 0, 4446, 4642, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="orderinfo_sub" id="js-voucherfee">');
                    r.b("\n" + n);
                    r.b('	<p class="orinfo_sub_con">');
                    r.b("\n" + n);
                    r.b('		<span class="left">运费</span>');
                    r.b("\n" + n);
                    r.b('		<span class="right">');
                    r.b("\n" + n);
                    r.b('			<b class="green claw">¥');
                    r.b(r.v(r.f("feright", e, t, 0)));
                    r.b("</b> ");
                    r.b("\n" + n);
                    r.b("		</span>");
                    r.b("\n" + n);
                    r.b("	</p>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            if (r.s(r.f("isPrepay", e, t, 1), e, t, 0, 4673, 4933, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('	<div class="orderinfo_total cf">');
                    r.b("\n" + n);
                    r.b('		<span class="left">订单总价</span>');
                    r.b("\n" + n);
                    r.b('		<span class="right">&yen;');
                    r.b(r.v(r.f("totalPrice", e, t, 0)));
                    r.b("</span>");
                    r.b("\n" + n);
                    r.b("	</div>");
                    r.b("\n" + n);
                    r.b('	<div class="orderinfo_prepay cf">');
                    r.b("\n" + n);
                    r.b('		<span class="left">支付定金</span>');
                    r.b("\n" + n);
                    r.b('		<span class="right">&yen;');
                    r.b(r.v(r.f("preAuthorAmountTotal", e, t, 0)));
                    r.b("</span>");
                    r.b("\n" + n);
                    r.b("	</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            if (!r.s(r.f("isPrepay", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<div class="orderinfo_toa cf">');
                r.b("\n" + n);
                r.b('	<span class="left">总计</span>');
                r.b("\n" + n);
                r.b('	<span class="right">&yen;');
                r.b(r.v(r.f("totalPrice", e, t, 0)));
                r.b("</span>");
                r.b("\n" + n);
                r.b("</div>");
                r.b("\n") }
            r.b("\n" + n);
            if (!r.s(r.f("isPrepay", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<div class="m_quan cf js_aya_quna" style="display:none;" data-aya="');
                r.b(r.v(r.f("ayaPrice", e, t, 0)));
                r.b('">');
                r.b("\n" + n);
                r.b('	<span class="tagquan"><i class="iquan">返</i><em class="quanva">&yen;');
                r.b(r.v(r.f("ayaPrice", e, t, 0)));
                r.b("</em></span>");
                r.b("\n" + n);
                r.b('    <div class="m_quan_tip">');
                r.b("\n" + n);
                r.b('    	<i class="oarr"></i><i class="iarr"></i>');
                r.b("\n" + n);
                r.b('        <div class="tipcon">支付成功后30天内到订单列表找到“分享返券”按钮将礼包转发到微博，即可领取（如退款即取消资格）.</div>');
                r.b("\n" + n);
                r.b("    </div>");
                r.b("\n" + n);
                r.b("</div>");
                r.b("\n") }
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["sbNormal"] }(t.exports, t, e);
    e.____MODULES["5922e9eb80ae93feb1d6bab61a6bba69"] = t.exports })(this);
(function(e) {
    var t = { id: "0a44d3396be366a280c4ad450f41a74b", filename: "sbTaocan.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["sbTaocan"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="orderinfo_sub">');
            r.b("\n" + n);
            r.b('	<p class="orinfo_sub_con">');
            r.b("\n" + n);
            r.b('		<span class="left">套餐</span>');
            r.b("\n" + n);
            r.b('		<span class="right">');
            r.b("\n" + n);
            r.b("			");
            r.b(r.v(r.f("taocanCount", e, t, 0)));
            r.b(' &times; <b class="claw">&yen;');
            r.b(r.v(r.f("taocanPrice", e, t, 0)));
            r.b("</b>");
            r.b("\n" + n);
            r.b("		</span>");
            r.b("\n" + n);
            r.b("	</p>");
            r.b("\n" + n);
            if (r.s(r.f("hasPackedFlight", e, t, 1), e, t, 0, 218, 427, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('    <p class="orinfo_sub_con">');
                    r.b("\n" + n);
                    r.b('        <span class="left">往返机票</span>');
                    r.b("\n" + n);
                    r.b('        <span class="right">');
                    r.b("\n" + n);
                    r.b("			");
                    r.b(r.v(r.f("packedFlightPersonCount", e, t, 0)));
                    r.b(' &times; <b class="claw">&yen;');
                    r.b(r.v(r.f("packedFlightPrice", e, t, 0)));
                    r.b("</b>");
                    r.b("\n" + n);
                    r.b("		</span>");
                    r.b("\n" + n);
                    r.b("    </p>");
                    r.b("\n") });
                e.pop() }
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            if (r.s(r.f("hasValueAdded", e, t, 1), e, t, 0, 474, 888, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="orderinfo_sub">');
                    r.b("\n" + n);
                    r.b("	<dl>");
                    r.b("\n" + n);
                    r.b("		<dt>");
                    r.b("\n" + n);
                    r.b('			<p class="orinfo_sub_con"> <span class="left">增值服务</span> <span class="right"><b>&yen;');
                    r.b(r.v(r.f("valueAddSubtotal", e, t, 0)));
                    r.b("</b> </span> </p>");
                    r.b("\n" + n);
                    r.b("		</dt>");
                    r.b("\n" + n);
                    if (r.s(r.f("valueAddedObj", e, t, 1), e, t, 0, 671, 855, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("		<dd>");
                            r.b("\n" + n);
                            r.b('		<p class="orinfo_sub_con">');
                            r.b("\n" + n);
                            r.b('			<span class="left">');
                            r.b(r.v(r.f("type", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('			<span class="right">');
                            r.b("\n" + n);
                            r.b("				");
                            r.b(r.v(r.f("count", e, t, 0)));
                            r.b(' &times; <b class="claw">&yen;');
                            r.b(r.v(r.f("price", e, t, 0)));
                            r.b("</b>");
                            r.b("\n" + n);
                            r.b("			</span>");
                            r.b("\n" + n);
                            r.b("		</p>");
                            r.b("\n" + n);
                            r.b("		</dd>");
                            r.b("\n") });
                        e.pop() }
                    r.b("	</dl>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            r.b("\n" + n);
            if (r.s(r.f("hasInsurance", e, t, 1), e, t, 0, 926, 1327, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="orderinfo_sub">');
                    r.b("\n" + n);
                    r.b("	<dl>");
                    r.b("\n" + n);
                    r.b("		<dt>");
                    r.b("\n" + n);
                    r.b('			<p class="orinfo_sub_con"> <span class="left">保险</span> <span class="right"><b>&yen;');
                    r.b(r.v(r.f("insuranceSubtotal", e, t, 0)));
                    r.b("</b> </span> </p>");
                    r.b("\n" + n);
                    r.b("		</dt>");
                    r.b("\n" + n);
                    if (r.s(r.f("insuranceObj", e, t, 1), e, t, 0, 1120, 1295, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("	<dd>");
                            r.b("\n" + n);
                            r.b('	<p class="orinfo_sub_con">');
                            r.b("\n" + n);
                            r.b('		<span class="left">');
                            r.b(r.v(r.f("type", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('		<span class="right">');
                            r.b("\n" + n);
                            r.b("			");
                            r.b(r.v(r.f("count", e, t, 0)));
                            r.b(' &times; <b class="claw">&yen;');
                            r.b(r.v(r.f("price", e, t, 0)));
                            r.b("</b>");
                            r.b("\n" + n);
                            r.b("		</span>");
                            r.b("\n" + n);
                            r.b("	</p>");
                            r.b("\n" + n);
                            r.b("	</dd>");
                            r.b("\n") });
                        e.pop() }
                    r.b("	</dl>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            if (r.s(r.f("isTieIn", e, t, 1), e, t, 0, 1358, 1938, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("	");
                    r.b("\n" + n);
                    r.b('	<div class="orderinfo_sub">');
                    r.b("\n" + n);
                    r.b("	<dl>");
                    r.b("\n" + n);
                    r.b("		<dt>");
                    r.b("\n" + n);
                    r.b('			<p class="orinfo_sub_con"> <span class="left">搭售产品</span> <span class="right"><b>&yen;');
                    r.b(r.v(r.f("tieInSubtotal", e, t, 0)));
                    r.b("</b> </span> </p>");
                    r.b("\n" + n);
                    r.b("		</dt>");
                    r.b("\n" + n);
                    if (r.s(r.f("tieIn", e, t, 1), e, t, 0, 1547, 1917, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("		<dd>");
                            r.b("\n" + n);
                            r.b('		<p class="orinfo_sub_con">');
                            r.b("\n" + n);
                            r.b('			<span class="left">');
                            r.b(r.v(r.f("type", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('			<span class="right">');
                            r.b("\n" + n);
                            if (r.s(r.f("hasDays", e, t, 1), e, t, 0, 1689, 1777, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("				");
                                    n.b(n.v(n.f("count", e, t, 0)));
                                    n.b(" &times;  ");
                                    n.b(n.v(n.f("days", e, t, 0)));
                                    n.b(' &times; <b class="claw s_price">&yen;');
                                    n.b(n.v(n.f("price", e, t, 0)));
                                    n.b("</b>");
                                    n.b("\n") });
                                e.pop() }
                            if (!r.s(r.f("hasDays", e, t, 1), e, t, 1, 0, 0, "")) { r.b("				");
                                r.b(r.v(r.f("count", e, t, 0)));
                                r.b(' &times; <b class="claw s_price">&yen;');
                                r.b(r.v(r.f("price", e, t, 0)));
                                r.b("</b>");
                                r.b("\n") }
                            r.b("			</span>");
                            r.b("\n" + n);
                            r.b("		</p>");
                            r.b("\n" + n);
                            r.b("		</dd>");
                            r.b("\n") });
                        e.pop() }
                    r.b("	</div>");
                    r.b("\n" + n);
                    r.b("	");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            if (r.s(r.f("hasExpress", e, t, 1), e, t, 0, 1967, 2360, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="orderinfo_sub">');
                    r.b("\n" + n);
                    r.b("	<dl>");
                    r.b("\n" + n);
                    r.b("		<dt>");
                    r.b("\n" + n);
                    r.b('		<p class="orinfo_sub_con">');
                    r.b("\n" + n);
                    r.b('			<span class="left">快递费用</span>');
                    r.b("\n" + n);
                    r.b('			<span class="right">');
                    r.b("\n" + n);
                    r.b('				<b class="green claw">&yen;');
                    r.b(r.v(r.f("expressPrice", e, t, 0)));
                    r.b("</b> ");
                    r.b("\n" + n);
                    r.b("			</span>");
                    r.b("\n" + n);
                    r.b("		</p>");
                    r.b("\n" + n);
                    r.b("		</dt>");
                    r.b("\n" + n);
                    r.b("		<dd>");
                    r.b("\n" + n);
                    r.b('		<p class="orinfo_sub_con">');
                    r.b("\n" + n);
                    r.b('			<span class="left">快递</span>');
                    r.b("\n" + n);
                    r.b('			<span class="right">');
                    r.b("\n" + n);
                    r.b('				<b class="green claw">&yen;');
                    r.b(r.v(r.f("expressPrice", e, t, 0)));
                    r.b("</b> ");
                    r.b("\n" + n);
                    r.b("			</span>");
                    r.b("\n" + n);
                    r.b("		</p>");
                    r.b("\n" + n);
                    r.b("		</dd>");
                    r.b("\n" + n);
                    r.b("	</dl>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            r.b('<div class="orderinfo_sub">');
            r.b("\n" + n);
            r.b("	<dl>");
            r.b("\n" + n);
            r.b("		<dt>");
            r.b("\n" + n);
            r.b('	<p class="orinfo_sub_con">');
            r.b("\n" + n);
            r.b('		<span class="left">优惠金额</span>');
            r.b("\n" + n);
            r.b('		<span class="right">');
            r.b("\n" + n);
            r.b('			<b class="green claw">-&yen;');
            r.b(r.v(r.f("reducePrice", e, t, 0)));
            r.b("</b> ");
            r.b("\n" + n);
            r.b("		</span>");
            r.b("\n" + n);
            r.b("	</p>");
            r.b("\n" + n);
            r.b("	</dt>");
            r.b("\n" + n);
            r.b("	<dd>");
            r.b("\n" + n);
            r.b('	<p class="orinfo_sub_con">');
            r.b("\n" + n);
            r.b('		<span class="left">优惠</span>');
            r.b("\n" + n);
            r.b('		<span class="right">');
            r.b("\n" + n);
            r.b('			<b class="green claw">-&yen;');
            r.b(r.v(r.f("reducePrice", e, t, 0)));
            r.b("</b> ");
            r.b("\n" + n);
            r.b("		</span>");
            r.b("\n" + n);
            r.b("	</p>");
            r.b("\n" + n);
            r.b("	</dd>");
            r.b("\n" + n);
            r.b("	</dl>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b("\n" + n);
            if (r.s(r.f("isPrepay", e, t, 1), e, t, 0, 2769, 3083, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('	<div class="orderinfo_total cf">');
                    r.b("\n" + n);
                    r.b('		<span class="left">订单总价</span>');
                    r.b("\n" + n);
                    r.b('		<span class="right">&yen;');
                    r.b(r.v(r.f("totalPrice", e, t, 0)));
                    r.b("</span>");
                    r.b("\n" + n);
                    r.b("	</div>");
                    r.b("\n" + n);
                    if (r.s(r.f("preAuthorAmountTotal", e, t, 1), e, t, 0, 2920, 3057, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('	<div class="orderinfo_prepay cf">');
                            r.b("\n" + n);
                            r.b('		<span class="left">支付定金</span>');
                            r.b("\n" + n);
                            r.b('		<span class="right">&yen;');
                            r.b(r.v(r.f("preAuthorAmountTotal", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b("	</div>");
                            r.b("\n") });
                        e.pop() } });
                e.pop() }
            r.b("\n" + n);
            if (!r.s(r.f("isPrepay", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<div class="orderinfo_toa cf">');
                r.b("\n" + n);
                r.b('	<span class="left">总计</span>');
                r.b("\n" + n);
                r.b('	<span class="right">&yen;');
                r.b(r.v(r.f("totalPrice", e, t, 0)));
                r.b("</span>");
                r.b("\n" + n);
                r.b("</div>");
                r.b("\n") }
            r.b("\n" + n);
            if (!r.s(r.f("isPrepay", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<div class="m_quan cf js_aya_quna" style="display:none;" data-aya="');
                r.b(r.v(r.f("ayaPrice", e, t, 0)));
                r.b('">');
                r.b("\n" + n);
                r.b('	<span class="tagquan"><i class="iquan">返</i><em class="quanva">&yen;');
                r.b(r.v(r.f("ayaPrice", e, t, 0)));
                r.b("</em></span>");
                r.b("\n" + n);
                r.b('    <div class="m_quan_tip">');
                r.b("\n" + n);
                r.b('    	<i class="oarr"></i><i class="iarr"></i>');
                r.b("\n" + n);
                r.b('        <div class="tipcon">支付成功后30天内到订单列表找到“分享返券”按钮将礼包转发到微博，即可领取（如退款即取消资格）.</div>');
                r.b("\n" + n);
                r.b("    </div>");
                r.b("\n" + n);
                r.b("</div>");
                r.b("\n") }
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["sbTaocan"] }(t.exports, t, e);
    e.____MODULES["0a44d3396be366a280c4ad450f41a74b"] = t.exports })(this);
(function(e) {
    var t = { id: "3b6af930d993c2d4c22ab4f0c38f7aa4", filename: "sbCustom.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["sbCustom"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="orderinfo_sub">');
            r.b("\n" + n);
            r.b("	<dl>");
            r.b("\n" + n);
            r.b("		<dt>");
            r.b("\n" + n);
            r.b('			<p class="orinfo_sub_con"><span class="left">购买份数</span><span class="right"><b class="orange claw">&yen;');
            r.b(r.v(r.f("perPrice", e, t, 0)));
            r.b("</b>&times;");
            r.b(r.v(r.f("amount", e, t, 0)));
            r.b("</span></p>");
            r.b("\n" + n);
            r.b("		</dt>");
            r.b("\n" + n);
            r.b("	</dl>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b('<div class="orderinfo_sub">');
            r.b("\n" + n);
            r.b("	<dl>");
            r.b("\n" + n);
            r.b("		<dt>");
            r.b("\n" + n);
            r.b('			<p class="orinfo_sub_con"><span class="left">优惠金额</span><span class="right"><b class="green claw">-&yen;');
            r.b(r.v(r.f("reducePrice", e, t, 0)));
            r.b("</b> </span></p>");
            r.b("\n" + n);
            r.b("		</dt>");
            r.b("\n" + n);
            r.b("	</dl>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b('<div class="orderinfo_toa cf">');
            r.b("\n" + n);
            r.b('	<span class="left">总计</span>');
            r.b("\n" + n);
            r.b('	<span class="right">&yen;');
            r.b(r.v(r.f("totalPrice", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b('<div class="m_quan cf js_aya_quna" style="display:none;" data-aya="');
            r.b(r.v(r.f("ayaPrice", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('	<span class="tagquan"><i class="iquan">返</i><em class="quanva">&yen;');
            r.b(r.v(r.f("ayaPrice", e, t, 0)));
            r.b("</em></span>");
            r.b("\n" + n);
            r.b('    <div class="m_quan_tip">');
            r.b("\n" + n);
            r.b('    	<i class="oarr"></i><i class="iarr"></i>');
            r.b("\n" + n);
            r.b('        <div class="tipcon">支付成功后30天内到订单列表找到“分享返券”按钮将礼包转发到微博，即可领取（如退款即取消资格）.</div>');
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["sbCustom"] }(t.exports, t, e);
    e.____MODULES["3b6af930d993c2d4c22ab4f0c38f7aa4"] = t.exports })(this);
(function(e) {
    var t = { id: "626ffd23aa87822c6d4b1b6d888cdda3", filename: "sidebar.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        var r = { isDuoBao: window.isCustomActivitiesPrize === true };
        $.namespace("QNR.module.sidebar", function() {
            var e = { init: function(e) {
                    if (!this.inited) {
                        if (r.isDuoBao) { this.$w = $("x") } else { this.$w = e && e.length ? e : $("#js_p_sidebar") }
                        this.isPrepay = QNR.bookdata.isPrepay || false;
                        this.taoCanCnt = QNR.bookdata.taocanCnt;
                        this.renderHtml();
                        this.renderFloat();
                        this.inited = true } }, renderHtml: function() { this.$w.show().html(QTMPL.sbWrapper.render({ isCTripMode: window.isCTripMode })).css({ width: "210px", overflow: "hidden" });
                    this.$shower = this.$w.find('[item="shower"]') }, renderFloat: function() { QNR.detail && QNR.detail.sfloater && QNR.detail.sfloater.init({ elem: this.$w, top: 248, right: -200, autoRight: true }) }, renderPrice: function(e, t) { this.init();
                    this.type = e || "";
                    var n = "",
                        r = "成人",
                        i = false;
                    var s = ["single_ticket", "course", "food", "other"];
                    if (window.p_function && window.p_function == "single_ticket") { r = "门票" } else if (window.p_function && (window.p_function == "course" || window.p_function == "food")) { r = "购买份数" }
                    if ($.inArray(window.p_function, s) > -1) { i = true }
                    switch (this.type) {
                        case "normal":
                            this.cfg = $.extend({ dom: {}, taocanCount: 0, taocanPrice: 0, adultAmount: 0, childAmount: 0, hasRoom: false, hasChild: true, roomAmount: 0, originalPrice: 0, hasPackedFlight: false, hasInsurance: t.insuranceObj.length > 0 ? true : false, hasValueAdded: t.valueAddedObj.length > 0 ? true : false, valueAddedObj: [], valueAddedTotalPrice: 0, insuranceObj: [], insuranceTotalPrice: 0, reducePrice: 0, ayaPrice: 0, totalPrice: 0, preAuthorAmountTotal: 0, isPrepay: this.isPrepay, singleTicketItem: r, isSingleTicket: p_function && p_function == "single_ticket", isHide: true, isHideRoom: i, ctripXList: null, ctripInsurance: null, isCTripMode: window.isCTripMode }, t);
                            this.cfg.orderSubtotal = this.cfg.totalAdultPrice + this.cfg.totalChildPrice + this.cfg.totalRoomPrice;
                            var o = this;
                            if (this.cfg.valueAddedObj) { this.cfg.valueAddSubtotal = 0;
                                $.each(this.cfg.valueAddedObj, function() { o.cfg.valueAddSubtotal += this.count * this.price }) }
                            if (this.cfg.insuranceObj) { this.cfg.insuranceSubtotal = 0;
                                $.each(this.cfg.insuranceObj, function() { o.cfg.insuranceSubtotal += this.count * this.price }) }
                            if (this.cfg.tieIn) { this.cfg.tieInSubtotal = 0;
                                $.each(this.cfg.tieIn, function() {
                                    if (this.hasDays) { o.cfg.tieInSubtotal += this.count * this.price * this.days } else { o.cfg.tieInSubtotal += this.count * this.price } }) }
                            this.cfg.ayaPrice = QNR.AyaQuan.ayaPriceCompute(this.cfg);
                            if (this.cfg.hasPackedFlight) { this.cfg.packedFlightPersonCount = this.cfg.adultAmount + this.cfg.childAmount;
                                var u = this.cfg.packedFlightPersonCount * this.cfg.packedFlightPrice;
                                this.cfg.orderSubtotal += u }
                            n = QTMPL.sbNormal.render(this.cfg);
                            break;
                        case "taocan":
                            this.cfg = $.extend({ dom: {}, adultAmount: 0, childAmount: 0, perAdultPrice: 0, perChildPrice: 0, totalAdultPrice: 0, totalChildPrice: 0, hasRoom: false, roomAmount: 0, needShowRoomDiff: true, roomDiffNum: 0, roomDiffPrice: 0, totalRoomPrice: 0, originalPrice: 0, reducePrice: 0, hasPackedFlight: false, packedFlightPrice: 0, hasInsurance: t.insuranceObj.length > 0 ? true : false, hasValueAdded: t.valueAddedObj.length > 0 ? true : false, valueAddedObj: [], valueAddedTotalPrice: 0, insuranceObj: [], insuranceTotalPrice: 0, ayaPrice: 0, totalPrice: 0, preAuthorAmountTotal: 0, isPrepay: this.isPrepay }, t);
                            this.cfg.orderSubtotal = this.cfg.taocanPrice * this.cfg.taocanCount;
                            var o = this;
                            if (this.cfg.valueAddedObj) { this.cfg.valueAddSubtotal = 0;
                                $.each(this.cfg.valueAddedObj, function() { o.cfg.valueAddSubtotal += this.count * this.price }) }
                            if (this.cfg.insuranceObj) { this.cfg.insuranceSubtotal = 0;
                                $.each(this.cfg.insuranceObj, function() { o.cfg.insuranceSubtotal += this.count * this.price }) }
                            if (this.cfg.tieIn) { this.cfg.tieInSubtotal = 0;
                                $.each(this.cfg.tieIn, function() {
                                    if (this.hasDays) { o.cfg.tieInSubtotal += this.count * this.price * this.days } else { o.cfg.tieInSubtotal += this.count * this.price } }) }
                            this.cfg.ayaPrice = QNR.AyaQuan.ayaPriceCompute(this.cfg);
                            if (this.cfg.hasPackedFlight) { this.cfg.packedFlightPersonCount = this.cfg.taocanCount * (this.taoCanCnt.adultCount + this.taoCanCnt.childCount);
                                var u = this.cfg.packedFlightPersonCount * this.cfg.packedFlightPrice;
                                this.cfg.orderSubtotal += u }
                            n = QTMPL.sbTaocan.render(this.cfg);
                            break;
                        case "custom":
                            this.cfg = $.extend({ ayaPrice: 0 }, t);
                            this.cfg.ayaPrice = QNR.AyaQuan.ayaPriceCompute(this.cfg);
                            n = QTMPL.sbCustom.render(this.cfg);
                            break }
                    this.$shower.html(n);
                    QNR.AyaQuan.bindAyaEvents() } };
            return { init: function(t) { e.init(t) }, renderPrice: function(t, n) { e.renderPrice(t, n) } } }()) }(t.exports, t, e);
    e.____MODULES["626ffd23aa87822c6d4b1b6d888cdda3"] = t.exports })(this);
(function(e) {
    var t = { id: "bf8d0e94e8ed77ea8653c1720dcc30b7", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["462dcb54208cd3b72d54c4419eb9ad6c"];
        e.____MODULES["5922e9eb80ae93feb1d6bab61a6bba69"];
        e.____MODULES["0a44d3396be366a280c4ad450f41a74b"];
        e.____MODULES["3b6af930d993c2d4c22ab4f0c38f7aa4"];
        e.____MODULES["626ffd23aa87822c6d4b1b6d888cdda3"] }(t.exports, t, e);
    e.____MODULES["bf8d0e94e8ed77ea8653c1720dcc30b7"] = t.exports })(this);
(function(e) {
    var t = { id: "600d96202f7f8c727fbd73c72b91acb1", filename: "accountsTmpl.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["accountsTmpl"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            if (!r.s(r.f("isDuoBao", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<div class="accounts">');
                r.b("\n" + n);
                r.b('    <span class="accounts_left"><i class="pre"></i><a href="');
                r.b(r.v(r.f("prevUrl", e, t, 0)));
                r.b('" class="blue pre_text" item="prevBtn">上一步</a></span>');
                r.b("\n" + n);
                if (r.s(r.f("isPrepay", e, t, 1), e, t, 0, 179, 305, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('    <div class="accounts_price_left">    	');
                        r.b("\n" + n);
                        r.b('    	<div class="order-total">订单总价：&yen;<font item="total"></font></div>');
                        r.b("\n" + n);
                        r.b("	</div>");
                        r.b("\n") });
                    e.pop() }
                if (r.s(r.f("isDuoBaoPrd", e, t, 1), e, t, 0, 336, 426, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('    <a href="javascript:;" class="btn_sub js_s_btn" data-abt="bottom">提交订单<em></em></a>');
                        n.b("\n") });
                    e.pop() }
                if (!r.s(r.f("isDuoBaoPrd", e, t, 1), e, t, 1, 0, 0, "")) { r.b('	 <a href="javascript:;" class="btn_sub js_s_btn" data-abt="bottom">同意以下条款，提交订单<em></em></a>');
                    r.b("\n") }
                if (!r.s(r.f("isPrepay", e, t, 1), e, t, 1, 0, 0, "")) { r.b('    <span class="total">总计：<span class="orange">&yen;<font item="total"></font></span></span>');
                    r.b("\n") }
                r.b("\n" + n);
                if (r.s(r.f("isPrepay", e, t, 1), e, t, 0, 720, 845, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('    <span class="total">支付定金：<span class="orange">&yen;<font item="prepayTotal">');
                        n.b(n.v(n.f("preAuthorMoney", e, t, 0)));
                        n.b("</font></span></span>");
                        n.b("\n") });
                    e.pop() }
                r.b("</div>");
                r.b("\n") }
            if (r.s(r.f("isDuoBao", e, t, 1), e, t, 0, 893, 1011, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="accounts">');
                    r.b("\n" + n);
                    r.b('	<a href="javascript:;" class="btn_sub js_s_btn" data-abt="bottom">确认领取奖励<em></em></a>');
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["accountsTmpl"] }(t.exports, t, e);
    e.____MODULES["600d96202f7f8c727fbd73c72b91acb1"] = t.exports })(this);
(function(e) {
    var t = { id: "83ad969068a9f0a01e7c6eaf7965faa6", filename: "pattern.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) { $(function() { $.jvalidator.addPattern({ name: "require", message: "此项必填", validate: function(e, t) { t($.trim(e) != "") } });
            $.jvalidator.addPattern({ name: "email", message: "请填写正确邮箱地址", validate: function(e, t) {
                    var n = $.trim(e) == "";
                    t(/^([a-zA-Z0-9-_\\.])+@([a-zA-Z0-9]*[-_]?[a-zA-Z0-9]+)+[\\.][A-Za-z]{2,3}([\\.][A-Za-z]{2})?$/.test(e) || n) } });
            $.jvalidator.addPattern({ name: "mobile", message: "必须为手机号码", validate: function(e, t) {
                    var n = /^1\d{10}$/i;
                    var r = n.test($.trim(e));
                    if (r) { $(this).trigger("valid") } else { $(this).trigger("invalid") }
                    t(r) } });
            $.jvalidator.addPattern({ name: "phone", message: "必须为电话号码", validate: function(e, t) {
                    var n = /^[\d\-\(\)]+$/i;
                    var r = n.test($.trim(e));
                    t(r || $.trim(e) == "") } });
            $.jvalidator.addPattern({ name: "is_date", message: "日期格式为yyyy-mm-dd", validate: function(e, t) {
                    var n = /^(19\d{2}|2\d{3})-(0[1-9]|1[012])-(0?[1-9]|[12]\d|3[01])$/,
                        r = false;
                    if (n.test(e)) { r = true }
                    t(r) } });
            $.jvalidator.addPattern({ name: "is_year", message: "年份格式为yyyy", validate: function(e, t) { t(/^(19\d{2}|2\d{3})$/.test(e)) } });
            $.jvalidator.addPattern({ name: "is_month", message: "月份的格式为1-12之间的整数", validate: function(e, t) { t(/^(0[1-9]|1[012]|[1-9])$/.test(e)) } });
            $.jvalidator.addPattern({ name: "is_day", message: "日格式为1-31之间的整数", validate: function(e, t) { t(/^(0?[1-9]|[12]\d|3[01])$/.test(e)) } });
            $.jvalidator.addPattern({ name: "is_english_name", message: "请输入英文", validate: function(e, t) {
                    var n = /^[a-z]+$/i,
                        r = false;
                    this.value = $.trim(e);
                    if (n.test(this.value)) { r = true }
                    t(r) } });
            $.jvalidator.addPattern({ name: "id_no", message: "必须为身份证号", validate: function(e, t) {
                    var n = $.trim(e);
                    t(n === "" ? true : QNR.validate.id.test(n) == "YES") } });
            $.jvalidator.addPattern({ name: "person_name", message: function() {
                    return $(this).attr("data-jvalidator-tiptype") == "1" ? "请填写正确的姓名" : "请填写正确的姓名" }, validate: function(e, t) { t(/^([\u4e00-\u9fa5]|\.|[a-zA-Z]|\/|\s|[\u3000]|[\uff41-\uff5a]|[\uff21-\uff3a]|[\uff0f]|·)+$/i.test(e)) } });
            $.jvalidator.addPattern({ name: "vcode", message: "请填写验证码", validate: $.proxy(function(e, t) { e = $.trim(e.toString());
                    if (QNR.module.login.isLogin()) { t(true);
                        return }
                    if (!/^\d{6}$/.test(e)) { t(false);
                        return }
                    t(true) }, this) });
            $.jvalidator.addPattern({ name: "captcha4", message: "请填写4位验证码", validate: $.proxy(function(e, t) { e = $.trim(e.toString());
                    if (!/^\w{4}$/.test(e)) { t(false);
                        return }
                    t(true) }, this) }) });
        $.jvalidator.addPattern({ name: "isSuggest", message: "没有找到您输入的国家或地区，请重新输入", validate: function(e, t) {
                var n = $(this).data("data") || [],
                    r = $.trim(this.value),
                    i = false;
                if (n.length) {
                    for (var s = 0; s < n.length; s++) {
                        if (n[s].name == r || r == n[s].val) { i = true } } } else if ($.trim(this.value) == "中国" && $(this).closest(".inputgroup").find(":hidden[data-type]").val() == "CN") { i = true }
                t(i) } }) }(t.exports, t, e);
    e.____MODULES["83ad969068a9f0a01e7c6eaf7965faa6"] = t.exports })(this);
(function(e) {
    var t = { id: "b7eb3daf2999a3f2859f3f2479642373", filename: "UIController.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        var r = { init: function() { this.$stockMsg = $("#ctrip-stock-msg");
                this.$loading = [] }, showLoading: function() {
                if (this.$loading.length === 0) {
                    var e = $("#js_p_booking"),
                        t = $("#js_p_sidebar");
                    this.$loading = [e.find(".pr_loading"), e.find(".mask"), t.find(".mask")] }
                this.$stockMsg.addClass("hide");
                $.each(this.$loading, function(e, t) { t.length && t.removeClass("hide") }) }, closeLoading: function(e) { $.each(this.$loading, function(e, t) { t.length && t.addClass("hide") });
                if (e.hasStock) { this.$stockMsg.removeClass("error").html("当日库存有效") } else { this.$stockMsg.addClass("error").html("无对应库存") }
                this.$stockMsg.removeClass("hide") } };
        t.exports = r }(t.exports, t, e);
    e.____MODULES["b7eb3daf2999a3f2859f3f2479642373"] = t.exports })(this);
(function(e) {
    var t = { id: "63fc7f8d005d334969a72a5142bd1ea1", filename: "xlist.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["xlist"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<h1 class="title cf">');
            r.b("\n" + n);
            r.b('	<div class="tit_name">附加产品</div>');
            r.b("\n" + n);
            r.b('	<div class="titsafetip"></div>');
            r.b("\n" + n);
            r.b("</h1>");
            r.b("\n" + n);
            r.b('<div class="xlist">');
            r.b("\n" + n);
            r.b("	<ul class='js_i_m'>");
            r.b("\n" + n);
            r.b('		<li class="xlist_tit cf">');
            r.b("\n" + n);
            r.b('	    	<div class="xitem_name">产品名称</div>');
            r.b("\n" + n);
            r.b('	    	<div class="xitem_price">单价</div>');
            r.b("\n" + n);
            r.b('	    	<div class="xitem_num">份数</div>');
            r.b("\n" + n);
            r.b('	        <div class="xitem_toa">小计</div>');
            r.b("\n" + n);
            r.b("	    </li>");
            r.b("\n" + n);
            r.b("	</ul>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["xlist"] }(t.exports, t, e);
    e.____MODULES["63fc7f8d005d334969a72a5142bd1ea1"] = t.exports })(this);
(function(e) {
    var t = { id: "ece06853d7c3eebe8dab72a2397d9199", filename: "xitem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["xitem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            if (r.s(r.f("list", e, t, 1), e, t, 0, 9, 707, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<li class="cf js_i_item">');
                    r.b("\n" + n);
                    r.b('  <div class="li_hd cf">');
                    r.b("\n" + n);
                    r.b('    <div class="xitem_name">');
                    r.b("\n" + n);
                    r.b('      <a href="javascript:;" class="blue s_t xname">');
                    r.b(r.v(r.f("name", e, t, 0)));
                    r.b("</a>");
                    r.b("\n" + n);
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b('    <div class="xitem_price">');
                    r.b("\n" + n);
                    r.b('      <span class="orange claw">&yen;');
                    r.b("\n" + n);
                    r.b('        <font class="js_i_t_price">');
                    r.b(r.v(r.f("price", e, t, 0)));
                    r.b("</font>");
                    r.b("\n" + n);
                    r.b("      </span>");
                    r.b("\n" + n);
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b('    <div class="xitem_num">');
                    r.b("\n" + n);
                    r.b('      <span class="claw">');
                    r.b("\n" + n);
                    r.b('        <font class="js_i_t_price">');
                    r.b(r.v(r.f("count", e, t, 0)));
                    r.b("</font>");
                    r.b("\n" + n);
                    r.b("      </span>");
                    r.b("\n" + n);
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b('    <div class="xitem_toa">');
                    r.b("\n" + n);
                    r.b('      <span class="orange claw">&yen;');
                    r.b("\n" + n);
                    r.b('        <font class="js_i_t_price">');
                    r.b(r.v(r.f("sum", e, t, 0)));
                    r.b("</font>");
                    r.b("\n" + n);
                    r.b("      </span>");
                    r.b("\n" + n);
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b("  </div>");
                    r.b("\n" + n);
                    r.b("</li>");
                    r.b("\n" + n);
                    r.b('<li class="cf js_i_info xitem_infobox hide">');
                    r.b("\n" + n);
                    r.b('  <div class="item_info">');
                    r.b("\n" + n);
                    r.b("    ");
                    r.b(r.t(r.f("introduction", e, t, 0)));
                    r.b("\n" + n);
                    r.b("  </div>");
                    r.b("\n" + n);
                    r.b("</li>");
                    r.b("\n") });
                e.pop() }
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["xitem"] }(t.exports, t, e);
    e.____MODULES["ece06853d7c3eebe8dab72a2397d9199"] = t.exports })(this);
(function(e) {
    var t = { id: "54ba0bf6ba72cadd0ac9b1f22989d332", filename: "xResource.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["63fc7f8d005d334969a72a5142bd1ea1"];
        e.____MODULES["ece06853d7c3eebe8dab72a2397d9199"];
        var i = { inited: false, init: function() {
                if (this.inited || window.isCTripMode !== true) return;
                var e = $(QTMPL.xlist.render());
                this.$container = $("#js_p_xlist");
                this.$list = e.find("ul");
                this.$container.append(e);
                this.inited = true;
                this.bindEvent() }, bindEvent: function() { this.$list.on("click", ".xname", function() {
                    var e = $(this);
                    var t = e.closest("li"),
                        n = t.next(".js_i_info");
                    t.toggleClass("intro_open");
                    n.toggle() }) }, render: function(e) {
                if (!e) { this.$container.addClass("hide");
                    return }
                var t = this.dataPrefix(e),
                    n = e.xlist || [],
                    r = e.insurance || [],
                    i = n.concat(r);
                if (i.length) {
                    var s = QTMPL.xitem.render({ list: i });
                    this.$container.removeClass("hide");
                    this.$list.find(".js_i_item").remove().end().append(s) } else { this.$container.addClass("hide") } }, dataPrefix: function(e) {
                return e } };
        i.init();
        n.exports = i }(t.exports, t, e);
    e.____MODULES["54ba0bf6ba72cadd0ac9b1f22989d332"] = t.exports })(this);
(function(e) {
    var t = { id: "e255b49756b78d382db609857cb01051", filename: "ctripWrapper.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { window.QNR = window.QNR || {};
        var i = e.____MODULES["b7eb3daf2999a3f2859f3f2479642373"];
        var s = e.____MODULES["54ba0bf6ba72cadd0ac9b1f22989d332"];
        var o = { getPriceApi: "/pangolin/resource/query.json", orderPreCheck: "/pangolin/resource/bookingCheck.json" };
        var u = { init: function() {
                var e = this;
                this.latestParam = null;
                this.latestResult = null;
                this.mainPrd = null;
                this.fangc = null;
                this.selectDate = null;
                QNR.event.bind("top.calendarOrTypeChange", function(t, n, r, i, s) { e.selectDate = s.dateStr });
                i.init() }, toFloat: function(e) {
                return e / 100 }, getLatestPrice: function(e, t) {
                var n = this,
                    r = e.arg,
                    u;
                if (r.ctripArgs && r.ctripArgs.skipUpdate) { this.dataPrefix(this.latestResult, e);
                    r.ctripFCNum = r.ctripArgs.ctripFCNum;
                    typeof t === "function" && t(e);
                    return }
                var a = window.QNR.bookdata.pId;
                if (!a) {
                    return }
                if (this.updating) {
                    return }
                var f = { productId: a, adultNum: r.adult || 0, date: this.selectDate || window.QNR.bookdata.currentDate, s: (new Date).getTime() };
                r.child = f.childNum = r.child || QNR.bookdata.count.child;
                if (!f.date) {
                    return }
                i.showLoading();
                this.updating = true;
                this.latestParam = e;
                QNR.event.trigger("ctrip-pre-check");
                $.ajax({ url: o.getPriceApi, dataType: "json", type: "get", data: f, success: function(r) { n.latestResult = r;
                        u = n.dataPrefix(r, e);
                        QNR.event.trigger("ctrip-check-done", { hasStock: u, arg: e.arg });
                        s.render(e.arg.ctripXResource);
                        typeof t === "function" && t(e) }, error: function(e) {}, complete: function(e) { setTimeout(function() { n.updating = false;
                            i.closeLoading({ hasStock: u }) }, 300) } }) }, dataPrefix: function(e, t) {
                var n = false,
                    r, i, s = [];
                t.arg.price.adult = 0;
                t.arg.price.child = 0;
                t.arg.price.send = 0;
                t.arg.limit = 0;
                t.arg.xlist = [];
                t.arg.ctripXResource = null;
                if (e && e.ret && e.data.has_stock && e.data.single_resource_info_list && e.data.single_resource_info_list.length) { n = true;
                    r = this.mainPrd = e.data.single_resource_info_list;
                    for (var o = 0, u = r.length; o < u; o++) { t.arg.price.adult += this.toFloat(r[o].adult_price);
                        t.arg.price.child += this.toFloat(r[o].child_price);
                        s.push(r[o].adult_stock);
                        t.arg.limit = r[o].adult_stock }
                    if (s.length) { s.sort(function(e, t) {
                            return e - t > 0 });
                        t.arg.limit = s[0] }
                    t.arg.price.is_child_price = t.arg.price.child > 0;
                    if (e.data.option_resource_fc_list) { i = this.fangCha = e.data.option_resource_fc_list.length ? e.data.option_resource_fc_list : [];
                        t.arg.fcData = this.getFangChaType(i, t);
                        t.arg.ctripFCNum = t.arg.fcData.ctripFCNum;
                        for (o = 0, u = i.length; o < u; o++) { t.arg.price.send += this.toFloat(i[o].price) }
                        QNR.bookdata.price.send = t.arg.price.send }
                    this.optionList = e.data.option_resource_info_list || [];
                    var a = this.xResourcePrefix(this.optionList);
                    t.arg.ctripXResource = a }
                if (e && e.ret && e.data.has_insurance && QNR.bookdata.hasInsurance) { QNR.bookdata.hasInsurance = false;
                    QNR.module.insurance && QNR.module.insurance.clearQunarInsurance() }
                return n }, getFangChaType: function(e, t) {
                if (e.length === 0) {
                    return null }
                var n = t.arg.adult,
                    r = t.arg.child,
                    i = false,
                    s = e[0],
                    o = s.step_num,
                    u = s.max_num,
                    a = s.min_num,
                    f = [];
                if (a !== u && !o) {
                    return null }
                if (s.max_num > n) { i = true }
                for (; a <= u;) { f.push(a);
                    a += o }
                return { isCtripChildTakeRoom: i, options: f, ctripFCNum: s.min_num } }, xResourcePrefix: function(e) {
                if (e.length === 0) return null;
                var t = { xlist: [], xlistTotal: 0, insurance: [], insuranceTotal: 0 };
                for (var n = 0, r, i; n < e.length; n++) { r = e[n];
                    i = { name: r.resource_name, sum: r.total_price, count: r.default_num, price: r.price, introduction: r.introduction || "暂无" };
                    if (r.is_choose_required !== true || i.count === 0) {
                        continue }
                    i.sum = this.toFloat(i.sum);
                    i.price = this.toFloat(i.price);
                    if (r.resource_type === 14) { t.insurance.push(i);
                        t.insuranceTotal += i.sum } else { t.xlist.push(i);
                        t.xlistTotal += i.sum } }
                if (t.xlist.length === 0 && t.insurance.length === 0) {
                    return null }
                return t }, getPreCheckInfo: function() {
                var e = this.latestParam.arg,
                    t = this.selectDate || window.QNR.bookdata.date;
                var n = { product_info: {}, single_resource_info_list: [], option_resource_info_list: [] };
                n.product_info.to_date = this.latestResult.data.to_date;
                n.product_info.back_date = this.latestResult.data.back_date;
                n.product_info.tts_resource_id = this.latestResult.data.tts_resource_id;
                var r, i, s, o, u, a;
                for (r = 0, i = this.mainPrd.length; r < i; r++) { a = this.mainPrd[r];
                    s = { resource_id: a.resource_id, use_date: t, adult_num: e.adult, child_num: e.child, total_price: e.adult * a.adult_price + e.child * a.child_price };
                    n.single_resource_info_list.push(s) }
                for (r = 0, i = this.optionList.length; r < i; r++) { a = this.optionList[r];
                    if (a.is_choose_required !== true || a.count === 0) {
                        continue }
                    o = { resource_id: a.resource_id, count: a.default_num, total_price: a.total_price, use_date: t };
                    n.option_resource_info_list.push(o) }
                this.fangCha = this.fangCha || [];
                for (r = 0, i = this.fangCha.length; r < i; r++) { a = this.fangCha[r];
                    u = { resource_id: a.resource_id, count: e.room * e.price.roomtype - e.adult, use_date: t };
                    u.total_price = u.count * a.price;
                    n.option_resource_info_list.push(u) }
                return JSON.stringify(n) }, orderPreCheck: function(e) {
                var t = u.getPreCheckInfo();
                $.ajax({ url: o.orderPreCheck, contentType: "application/json", type: "post", dataType: "json", data: t, success: function(t) {
                        if (t.ret) { typeof e === "function" && e(true) } else { typeof e === "function" && e(false) } }, error: function(t) { typeof e === "function" && e(false) } }) } };
        var a = { init: function(e) { this.parent = e }, get: function(e, t) {
                var n = this;
                u.getLatestPrice(e, function(e) { n.parent.get(e, t) }) }, lastResult: function(e) { e(this.parent.snapshot);
                return this.parent.snapshot } };
        n.exports = { ctripWrapper: u, ctripPriceManager: a } }(t.exports, t, e);
    e.____MODULES["e255b49756b78d382db609857cb01051"] = t.exports })(this);
(function(e) {
    var t = { id: "720c7020768210e59950fb75248b3369", filename: "form.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["83ad969068a9f0a01e7c6eaf7965faa6"];
        var i = e.____MODULES["35a7dce963820b39e65b91d81103ae00"];
        var s = e.____MODULES["e255b49756b78d382db609857cb01051"].ctripWrapper;
        var o = { formEl: $("#confirmOrder").attr("autocomplete", "off"), init: function(e) {
                if (!this.inited) { this.config = $.extend({ fn: null }, e);
                    this.type = QNR.bookdata.is_taocan ? "taocan" : "";
                    this.$submitEl = this.formEl.find(".js_s_btn");
                    this.validator(this.formEl);
                    this.initEvents();
                    this.inited = true } }, initEvents: function() {
                var e = this;
                QNR.event.bind("passengerInfoNumChange", function(t, n) {
                    if (n.show) { e.validateGroup.append(n.elem.find("[data-jvalidator-pattern]")) } });
                QNR.event.bind("identify-type-change validate-change", function(t, n) {
                    var r = n.show ? "append" : "remove";
                    e.validateGroup[r](n.elem.find("[data-jvalidator-pattern]")) });
                QNR.event.bind("idNo-change", function(t, n) {
                    var r = n.show ? "append" : "remove";
                    e.validateGroup[r](n.elem.find('[name="idNo"]'));
                    e.validateGroup[r](n.elem.find('[name="issuedCountry"]'));
                    e.validateGroup[r](n.elem.find('[name="cvp_year"],[name="cvp_month"],[name="cvp_day"]')) });
                QNR.event.bind("ctrip-check-done", function(t, n) {
                    if (n.hasStock) { e.$submitEl.removeClass("disabled").data("cannotsubmit", false) } else { e.$submitEl.addClass("disabled").data("cannotsubmit", true) } });
                this.formEl.on("click", ".js_s_btn", function(t) {
                    var n = $(this),
                        r = n.data("abt");
                    if (n.data("cannotsubmit")) {
                        return }
                    if (e.formEl.data("ajax-loading") === true) {
                        return }
                    e.abTestForm(r);
                    e.extraDataSerialize();
                    e.validation(t);
                    return false }) }, extraDataSerialize: function() {
                var e = window.QNR && QNR.bookdata && QNR.bookdata.packedFlight;
                if (e && typeof e === "object" && e.flightId) {
                    var t = $("[name=bundleFlight]");
                    if (t.length === 0) { t = $('<input type="hidden" name="bundleFlight"/>');
                        t.insertAfter($("#pId")) }
                    t.val(JSON.stringify({ pid: e.flightId, tid: QNR.packedFlightTeamId, deptDate: $(".js-pack-flight-go").val(), returnDate: $(".js-pack-flight-back").val() })) } }, validation: function(e) {
                var t = this;
                var n = function() { t.formEl.data("ajax-loading", false);
                    t.showStLoading() };
                var r = function() { t.formEl.data("ajax-loading", false);
                    t.hideStLoading() };
                t.formEl.find("input").each(function() { $(this).val($.trim($(this).val())) });
                this.validateGroup.validateAll(function(e) {
                    if (typeof t.extraValidate == "function" && !t.extraValidate.call(t)) {
                        return false }
                    var i, o = true;
                    QNR.event.trigger("sight-date-select", function(e) { o = e });
                    if (!o) { QNR.module.dlg.show({ ptext: "请选择景点信息的使用日期" });
                        return }
                    t.isAccess = QNR.module.access.isAccess();
                    if (e && t.isAccess) {
                        if (t.config.fn && $.isFunction(t.config.fn)) {
                            var u = t.config.fn();
                            if (!u) {
                                return false } }
                        if (t.formEl.data("ajax-loading") === true) {
                            return false }
                        n();
                        var a = window.isCTripMode ? s.orderPreCheck : t.checkStockAfterSubmit;
                        a.call(t, function(e) {
                            if (!e) { r();
                                return }
                            QNR.module.mobileUser.checkNewUser(function() { QNR.module.activities.valid(function(e, n) {
                                    if (e) {
                                        if (QNR.bookdata.isMilv && !window.isCTripMode) { t.hideStLoading();
                                            t.checkPrice() } else { t.saveOrder() } } else { r();
                                        if (n) { QNR.module.dlg.show({ ptext: n }) } } }) }, function() { r() }) }) } else {
                        if (!t.isAccess) { i = "请检查页面上所有选项是否正确填写<br>在提交前请确认已阅读并同意以下条款" } else { i = "请检查页面上所有选项是否正确填写" }
                        QNR.module.dlg.show({ ptext: i });
                        r() } }) }, validator: function(e) {
                var t = this;
                this.validateGroup = e.find("[data-jvalidator-pattern]").jvalidator({ validation_events: ["blur"], on: { invalid: function(e, n, r) {
                            var i = $(n),
                                s = r && r.length && r[0].message || "输入不正确";
                            if (typeof i.data("invalidFunc") === "function") { i.data("invalidFunc").call(i, s) } else { i.addClass("input_warning").attr("data-tip", s).attr("title", s);
                                t.showInputTip("show", i, s) } }, valid: function(e, n) {
                            var r = $(n);
                            if (typeof r.data("validFunc") === "function") { r.data("validFunc").call(r) } else { r.removeClass("input_warning").removeAttr("data-tip").removeAttr("title");
                                t.showInputTip("hide", r) } } } }) }, redirecting: false, saveOrder: function() {
                var e = this;
                if (this.redirecting) {
                    return }
                this._jsonSubmit(this.formEl, { url: "/order/order.do?opType=saveOrder", success: function(t) { i.respHandler(t);
                        if (t && parseInt(t.ret, 10)) { e.redirecting = true;
                            var n = "displayId=" + t.data.displayId;
                            if (t.data.abt === "a") { n += "&abt=a" }
                            if (t.data.bundleErrorTitle) { QNR.module.dlg.show({ ptext: '您购买的产品中，"' + t.data.bundleErrorTitle + '"出现异常，下单失败！', callback: function() { location.href = t.data.locateUrl + "?" + n + QNR.hash.init(e.formEl) } }) } else { location.href = t.data.locateUrl + "?" + n + QNR.hash.init(e.formEl) } } else { ptext = t.errmsg || "提交失败，请重试或者联系客服！";
                            if (parseInt(t.errcode, 10) == 2) { ptext = "验证码错误" }
                            QNR.module.dlg.show({ ptext: ptext });
                            $("#vcodeImg").length && $("#vcodeImg").trigger("click");
                            e.formEl.data("ajax-loading", false);
                            e.hideStLoading();
                            e.redirecting = false } }, error: $.proxy(function() { this.redirecting = false;
                        this.formEl.data("ajax-loading", false);
                        this.hideStLoading() }, this), complete: function() { this.formEl.data("ajax-loading", false);
                        this.hideStLoading() } }) }, checkPrice: function() {
                var e = this;
                if (!QNR.bookdata.isMilv) {
                    return }
                var t = window.parseInt($.trim($("#js_p_accounts").find('[item="original"]').text()), 10);
                $.ajax({ url: "/order/checkPrice.json", type: "get", dataType: "json", data: { productId: $('input[name="pId"]').val(), adultCount: $('input[name="adultCount"]').val(), childCount: $('input[name="childCount"]').val(), takeoffDate: $('input[name="takeoffDate"]').val() }, success: function(n) {
                        if (n.ret) { actualTotal = window.parseInt($.trim(n.data), 10);
                            if (t == actualTotal) { e.showStLoading();
                                e.saveOrder() } else if (t > actualTotal) { QNR.module.dlg.show({ ptext: "产品价格降低了！<br/>受汇率影响，您预订的产品当前RMB支付金额为&yen;" + actualTotal + "（比之前降低了&yen;" + +Math.abs(t - actualTotal) + ")。", btnText: "继续下单", sh: "价格变动提示", width: 650, callback: function() { e.showStLoading();
                                        e.saveOrder() } });
                                e.formEl.data("ajax-loading", false);
                                e.hideStLoading() } else { QNR.module.dlg.show({ ptext: "产品价格提高了！<br/>受汇率影响，您预订的产品当前RMB支付金额为&yen;" + actualTotal + "（比之前提高了&yen;" + +Math.abs(t - actualTotal) + ")。", btnText: "继续下单", sh: "价格变动提示", width: 650, callback: function() { e.showStLoading();
                                        e.saveOrder() } });
                                e.formEl.data("ajax-loading", false);
                                e.hideStLoading() } } else { QNR.module.dlg.show({ ptext: "系统繁忙，请联系客服。", btnText: "关闭" });
                            e.formEl.data("ajax-loading", false);
                            e.hideStLoading() } }, error: function(t) { QNR.module.dlg.show({ ptext: "系统繁忙，请联系客服。", btnText: "关闭" });
                        e.formEl.data("ajax-loading", false);
                        e.hideStLoading() } }) }, checkStockAfterSubmit: function(e) {
                var t = this.initData();
                var n = $.extend({ url: "/stockvalidate.do", pId: $.trim($("#pId").val()), tId: $.trim($("#tId").val()) }, t);
                QNR.module.stock.check(n, e) }, _jsonSubmit: function(e, t) { this.clearPlaceholderEffect();
                var n = this.dataToStr();
                this.trim(e);
                QNR.event.trigger("before-submit");
                this.countryCodeReplace(e);
                i.wrapDataSend(function() { $.ajax({ url: t.url, type: "post", data: i.wrapVerifyData(e.serialize() + n), dataType: "json", success: t.success }) }) }, countryCodeReplace: function(e) {
                var t = e.find("#mobile_country_code");
                if (e && t) {
                    var n = t.val();
                    t.val(n.replace(/\+/ig, "")) } }, trim: function(e) { e && e.find(':input[type="text"]').each(function() { $.trim(this.value) }) }, dataToStr: function() {
                var e = [],
                    t = [],
                    n, r = { from: "", searchid: "", buyid: "" };
                var i = window.location.hash.substring(1);
                var s = QNR.hash.init(this.formEl).match(/bid=(\d+)/);
                if (s && s[1]) { t.push("bid=" + s[1]) } else { t.push("bid=" + (new Date).getTime()) }
                if (i != "") {
                    var o = i.split("&");
                    for (var u = 0, a = o.length; u < a; u++) {
                        var s = o[u].split("=");
                        if (s[0] in r) { e.push(o[u]);
                            if (s[0] == "searchid") { t.push(o[u]) } } else { t.push(o[u]) } } }
                e.push("other=");
                if ($.trim(QNR.bookdata && QNR.bookdata.abt) === "a") { t.push("abt=a") }
                if (this.formEl.data("abtSubmitButton")) { t.push("abtsaveorder=" + this.formEl.data("abtSubmitButton")) }
                return "&" + e.join("&") + encodeURIComponent(t.join("_@_")) }, initData: function() {
                if (this.type == "taocan" && this.type !== "ticket") {
                    return { taocan_num: $("[placeholder='taocan']").val() } }
                var e = { aNum: $('[name="adultCount"]').length ? $('[name="adultCount"]').val() || "0" : $("#adultPrice").val(), cNum: $('[name="childCount"]').length ? $('[name="childCount"]').val() || "0" : $("#childPrice").val() || "0", oNum: $('[name="roomCount"]').length ? $('[name="roomCount"]').val() || "0" : $("#otherPrice").val() || "0" };
                if (QNR.bookdata.isReserve && $('[name="reserveDate"]').length) { e.reserveDate = $('[name="reserveDate"]').val() }
                $("#js_hId").length && (e["hId"] = $("#js_hId").val());
                return e }, clearPlaceholderEffect: function() {
                var e = $("[name='userMessage']");
                var t = e.attr("placeholder") ? e.attr("placeholder") : "";
                if (e.length && $.trim(e.val()) == t) { e.val("") } }, showStLoading: function() { this.$submitEl.addClass("submit") }, hideStLoading: function() { this.$submitEl.removeClass("submit") }, extraValidate: function() {
                return true }, showInputTip: function(e, t, n) {
                var r = t.parent().find(".js_p_p_inputTip");
                e === "show" ? r.length ? r.show().find('[item="text"]').text(n) : $(QTMPL.inputTip.render({ text: n })).insertAfter(t).show() : r.hide() }, getFormEl: function() {
                return this.formEl }, abTestForm: function(e) { this.formEl.data("abtSubmitButton", e) } };
        n.exports = { init: function(e) { o.init(e) }, formEl: o.formEl } }(t.exports, t, e);
    e.____MODULES["720c7020768210e59950fb75248b3369"] = t.exports })(this);
(function(e) {
    var t = { id: "bf20fabffce9a1cee252ae0ce5de8d0e", filename: "accounts.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = e.____MODULES["720c7020768210e59950fb75248b3369"];
        var s = { isDuoBao: window.isCustomActivitiesPrize === true, isDuoBaoPrd: window.isCustomActivitiesStageProduct === true };
        (function() { $.namespace("QNR.module.accounts", function() {
                var e = { init: function(e) {
                        if (!this.inited) { this.$w = e && e.length ? e : $("#js_p_accounts");
                            this.initHtml();
                            this.initEvents();
                            this.inited = true } }, initHtml: function() {
                        var e = QNR.bookdata.abt,
                            t = "id=" + QNR.bookdata.pId,
                            t = e === "a" ? t + "&abt=a" : t;
                        t += QNR.bookdata.fpid ? "&fpid=" + QNR.bookdata.fpid : "";
                        if (QNR.bookdata.tuId) { t += "&tuId=" + QNR.bookdata.tuId }
                        var n = "//" + location.host + "/user/detail.jsp?" + t + QNR.hash.init(i.formEl);
                        this.$w.html(QTMPL.accountsTmpl.render({ isDuoBao: s.isDuoBao, isDuoBaoPrd: s.isDuoBaoPrd, isPreAuthor: QNR.bookdata.pre_author_promotion == "true", hasInsurance: QNR.bookdata.hasInsurance, prevUrl: n, isPrepay: QNR.bookdata.isPrepay || false, preAuthorMoney: QNR.bookdata.preAuthorMoney || "0" })) }, initEvents: function() { this.$w.find('[item="prevBtn"]').on("click", function() { QNR.module.statistics && QNR.module.statistics.record({ itemType: "prevStep" }) }) } };
                return { init: function(t) { e.init(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["bf20fabffce9a1cee252ae0ce5de8d0e"] = t.exports })(this);
(function(e) {
    var t = { id: "d54d64738fba69fd5ebefa36ea1269ee", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["600d96202f7f8c727fbd73c72b91acb1"];
        e.____MODULES["bf20fabffce9a1cee252ae0ce5de8d0e"] }(t.exports, t, e);
    e.____MODULES["d54d64738fba69fd5ebefa36ea1269ee"] = t.exports })(this);
(function(e) {
    var t = { id: "8396aebe7780169c869dca45e205c824", filename: "access.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.access", function() {
                var e = { init: function() {
                        if (!this.inited) { this.$chkEl = $("#js_p_chkAccess");
                            this.activeClass = "checkbox_active";
                            this.initHtml();
                            this.initEvents();
                            this.setInsuranceAccess();
                            this.inited = true } }, setInsuranceAccess: function() { QNR.event.bind("insurance-change", function(e, t) {
                            var n = $("#js_p_chkAccess").parent();
                            var r = n.find("[item=insurance_access]");
                            var i = $('<a href="/order/insuranceOrderPolice.jsp" item="insurance_access" class="blue" target="_blank">保险经纪委托协议</a>');
                            if (t.length) {
                                if (r.length) { r.show() } else { n.append(i) } } else { r.hide() } }) }, initHtml: function() {
                        if (QNR.bookdata.useContract === true) { this.choose(false) } else { this.choose(true) } }, initEvents: function() {
                        var e = this;
                        this.$chkEl.on("click", function(t) { t.stopPropagation();
                            $(this).hasClass(e.activeClass) ? e.choose(false) : e.choose(true) });
                        this.$chkEl.parent().on("click", function(t) { t.stopPropagation();
                            var n = t.target && t.target.nodeName;
                            n != "A" && e.$chkEl.trigger("click") }) }, choose: function(e) {!!e ? this.$chkEl.addClass(this.activeClass).data("checked", true) : this.$chkEl.removeClass(this.activeClass).data("checked", false) }, isAccess: function() {
                        if (!this.$chkEl.length) {
                            return true }
                        return !!this.$chkEl.data("checked") } };
                return { init: function() { e.init() }, isAccess: function() {
                        return e.isAccess() }, choose: function(t) { e.choose(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["8396aebe7780169c869dca45e205c824"] = t.exports })(this);
(function(e) {
    var t = { id: "a34b1bc7e1a3d732a037b00f4a201745", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["8396aebe7780169c869dca45e205c824"] }(t.exports, t, e);
    e.____MODULES["a34b1bc7e1a3d732a037b00f4a201745"] = t.exports })(this);
(function(e) {
    var t = { id: "e7541faad035791f281129e4d690ca39", filename: "inWrapper.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["inWrapper"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<h1 class="title cf">');
            r.b("\n" + n);
            r.b('	<div class="tit_name">保险</div>');
            r.b("\n" + n);
            r.b('	<div class="titsafetip">');
            r.b(r.v(r.f("insuranceTip", e, t, 0)));
            r.b("</div>");
            r.b("\n" + n);
            r.b("</h1>");
            r.b("\n" + n);
            r.b('<div class="main_safe">');
            r.b("\n" + n);
            r.b("	<ul class='js_i_m'>");
            r.b("\n" + n);
            r.b('		<li class="safe_tit cf">');
            r.b("\n" + n);
            r.b('	    	<div class="insurance-name">名称</div>');
            r.b("\n" + n);
            r.b('	    	<div class="safe_date">保险生效日期</div>');
            r.b("\n" + n);
            r.b('	        <div class="qn_price">去哪儿网价</div>');
            r.b("\n" + n);
            r.b('	        <div class="safe_num">份数</div>');
            r.b("\n" + n);
            r.b('	        <div class="safe_toa">小计</div>');
            r.b("\n" + n);
            r.b("	    </li>");
            r.b("\n" + n);
            r.b("	</ul>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('<input id="insurance-count" type="hidden" value="" name="insurance-count">');
            r.b("\n" + n);
            r.b('<input id="insuranceId" type="hidden" value="" name="insuranceId">');
            r.b("\n" + n);
            r.b('<input id="insuranceDate" type="hidden" value="" name="insuranceDate">');
            r.b("\n" + n);
            r.b('<input id="airInsuranceId" type="hidden" name="airInsuranceId" value="" />');
            r.b("\n" + n);
            r.b('<input id="airInsuranceDate" type="hidden" name="airInsuranceDate" value="" />');
            r.b("\n" + n);
            r.b('<input id="airInsuranceCount" type="hidden" name="airInsuranceCount" value="" />');
            r.b("\n" + n);
            r.b('<input id="hotelInsuranceId" type="hidden" name="hotelInsuranceId" value="" />');
            r.b("\n" + n);
            r.b('<input id="hotelInsuranceDate" type="hidden" name="hotelInsuranceDate" value="" />');
            r.b("\n" + n);
            r.b('<input id="hotelInsuranceCount" type="hidden" name="hotelInsuranceCount" value="" />');
            r.b("\n" + n);
            r.b('<input id="publicTransportInsuranceId" type="hidden" name="publicTransportInsuranceId" value="" />');
            r.b("\n" + n);
            r.b('<input id="publicTransportInsuranceDate" type="hidden" name="publicTransportInsuranceDate" value="" />');
            r.b("\n" + n);
            r.b('<input id="publicTransportInsuranceCount" type="hidden" name="publicTransportInsuranceCount" value="" />');
            r.b("\n" + n);
            r.b('<input id="selfDrivingInsuranceId" type="hidden" name="selfDrivingInsuranceId" value="" />');
            r.b("\n" + n);
            r.b('<input id="selfDrivingInsuranceDate" type="hidden" name="selfDrivingInsuranceDate" value="" />');
            r.b("\n" + n);
            r.b('<input id="selfDrivingInsuranceCount" type="hidden" name="selfDrivingInsuranceCount" value="" />');
            r.b("\n");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["inWrapper"] }(t.exports, t, e);
    e.____MODULES["e7541faad035791f281129e4d690ca39"] = t.exports })(this);
(function(e) {
    var t = { id: "092092d4225a89327feb30a391fb8f51", filename: "inItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["inItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<li class="cf js_i_item" data-insurance="');
            r.b(r.v(r.f("insuranceType", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('    <div class="li_hd cf">');
            r.b("\n" + n);
            r.b('      <div class="insurance-name">');
            r.b("\n" + n);
            r.b('        <p class="t">');
            r.b("\n" + n);
            r.b('          <a href="');
            r.b(r.v(r.f("url", e, t, 0)));
            r.b('" class="blue js_title" isblank="');
            r.b(r.v(r.f("isBlank", e, t, 0)));
            r.b('" target="_blank">');
            r.b(r.v(r.f("title", e, t, 0)));
            r.b("\n" + n);
            r.b("          ");
            if (!r.s(r.f("isBlank", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<i class="arrow"></i>') }
            r.b("</a>");
            r.b("\n" + n);
            r.b("          ");
            r.b("\n" + n);
            r.b("        </p>");
            r.b("\n" + n);
            r.b('        <p class="s_t">');
            r.b(r.v(r.f("feature", e, t, 0)));
            r.b("</p>");
            r.b("\n" + n);
            r.b("      </div>");
            r.b("\n" + n);
            r.b('      <div class="safe_date">');
            r.b("\n" + n);
            r.b('        <div class="dategroup">');
            r.b("\n" + n);
            r.b('          <div class="dateshow js_i_cal_btn">');
            r.b("\n" + n);
            r.b('            <input item=\'dinput\' type="text" class="input_date" value="');
            r.b(r.v(r.f("date", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('            <i class="dateico"></i>');
            r.b("\n" + n);
            r.b("          </div>");
            r.b("\n" + n);
            r.b("          <div class='calendar_sm js_i_cal_w' style='display:none'></div>");
            r.b("\n" + n);
            r.b("        </div>");
            r.b("\n" + n);
            r.b('        <div class="safe_date_alert">');
            r.b("\n" + n);
            r.b("          <div class=\"alert_lgb js_i_k_tip\" style='display:none'>");
            r.b("\n" + n);
            r.b("            <div>保险生效日期是根据您选择的团期确定的，如您的行程有任何变化，请及时进入度假订单中心进行修改。");
            r.b("\n" + n);
            r.b("              <a href=\"#\" class='js_i_k_btn'>我知道了</a>");
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b('            <div class="caret_tl">');
            r.b("\n" + n);
            r.b('              <i class="caret_out"></i>');
            r.b("\n" + n);
            r.b('              <i class="caret_in"></i>');
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b("          </div>");
            r.b("\n" + n);
            r.b("        </div>");
            r.b("\n" + n);
            r.b("      </div>");
            r.b("\n" + n);
            r.b('      <div class="qn_price orange claw">&yen;');
            r.b(r.v(r.f("qunar_price", e, t, 0)));
            r.b("</div>");
            r.b("\n" + n);
            r.b('      <div class="safe_num">');
            r.b("\n" + n);
            r.b('        <select did="');
            r.b(r.v(r.f("id", e, t, 0)));
            r.b("\" class='js_i_n_sel'></select>");
            r.b("\n" + n);
            r.b("      </div>");
            r.b("\n" + n);
            r.b('      <div class="safe_toa">');
            r.b("\n" + n);
            r.b('        <span class="orange claw">&yen;');
            r.b("\n" + n);
            r.b('          <font class="js_i_t_price">');
            r.b(r.v(r.f("qunar_price", e, t, 0)));
            r.b("</font>");
            r.b("\n" + n);
            r.b("        </span>起");
            r.b("\n" + n);
            r.b("      </div>");
            r.b("\n" + n);
            r.b('      <div class="serve-more">');
            r.b("\n" + n);
            if (!r.s(r.f("isSingle", e, t, 1), e, t, 1, 0, 0, "")) { r.b('          <a href="javascript:void(0)" class="blue fr js_i_c_btn" data-type="');
                r.b(r.v(r.f("insuranceType", e, t, 0)));
                r.b('">更换保险</a>');
                r.b("\n") }
            r.b("	  </div>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b('    <div class="b_hidelist">');
            r.b("\n" + n);
            r.b('      <div class="e_hidelist_ct cf">');
            r.b("\n" + n);
            r.b('        <i class="close"></i>');
            r.b("\n" + n);
            r.b('        <dl class="list js_protection">');
            r.b("\n" + n);
            r.b('          <dt class="d_dt">保障内容</dt>');
            r.b("\n" + n);
            r.b('          <dd class="d_dd">');
            r.b("\n" + n);
            r.b("          ");
            r.b(r.t(r.f("protection", e, t, 0)));
            r.b("\n" + n);
            r.b("          </dd>");
            r.b("\n" + n);
            r.b("        </dl>");
            r.b("\n" + n);
            r.b('        <dl class="text">');
            r.b("\n" + n);
            r.b('          <dt class="d_dt">投保须知</dt>');
            r.b("\n" + n);
            r.b('          <dd class="d_dd">');
            r.b("\n" + n);
            r.b("          ");
            r.b(r.t(r.f("attention", e, t, 0)));
            r.b("\n" + n);
            r.b('          <p class="cf"><a class="r_link" target="_blank" href="');
            r.b(r.v(r.f("url", e, t, 0)));
            r.b('">了解详情</a></p>');
            r.b("\n" + n);
            r.b("          </dd>");
            r.b("\n" + n);
            r.b("        </dl>");
            r.b("\n" + n);
            r.b("      </div>");
            r.b("\n" + n);
            if (r.s(r.f("hasCaluse", e, t, 1), e, t, 0, 2177, 2438, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('      <div class="doc">');
                    r.b("\n" + n);
                    r.b('        <p href="javascript:;" class="tit">保险条款和免责事项</p>');
                    r.b("\n" + n);
                    r.b("      </div>");
                    r.b("\n" + n);
                    r.b('      <div class="pdflist">');
                    r.b("\n" + n);
                    if (r.s(r.f("clauseList", e, t, 1), e, t, 0, 2323, 2403, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('        <a href="');
                            n.b(n.v(n.f("url", e, t, 0)));
                            n.b('" target="_blank" class="pdf">');
                            n.b(n.v(n.f("title", e, t, 0)));
                            n.b("</span>");
                            n.b("\n") });
                        e.pop() }
                    r.b("      </div>");
                    r.b("\n") });
                e.pop() }
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["inItem"] }(t.exports, t, e);
    e.____MODULES["092092d4225a89327feb30a391fb8f51"] = t.exports })(this);
(function(e) {
    var t = { id: "16ad3e64f59e714ac9d57e6111346df1", filename: "inPopup.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["inPopup"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="popup js_i_p_w" style="display:none; position: absolute; top: 784px; left:50%; margin:0; width:748px; z-index: 1001;">');
            r.b("\n" + n);
            r.b('	<div class="popup_tit cf">');
            r.b("\n" + n);
            r.b('    	<span class="popup_name">选择保险</span>');
            r.b("\n" + n);
            r.b('        <a class="popup_close js_i_p_close" href="javascript:void(0);"></a>');
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b('    <div class="popup_con">');
            r.b("\n" + n);
            r.b('        <div class="b_choicelist">');
            r.b("\n" + n);
            r.b('            <ul class="choicelist" item="insuranceList">');
            r.b("\n" + n);
            r.b('                <li class="box box_hd cf">');
            r.b("\n" + n);
            r.b('                    <div class="d_t">保险产品</div>');
            r.b("\n" + n);
            r.b('                    <div class="d_pr">价格</div>');
            r.b("\n" + n);
            r.b("                </li>");
            r.b("\n" + n);
            r.b("                <!--这里存放内容-->");
            r.b("\n" + n);
            r.b("            </ul>");
            r.b("\n" + n);
            r.b("        </div>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["inPopup"] }(t.exports, t, e);
    e.____MODULES["16ad3e64f59e714ac9d57e6111346df1"] = t.exports })(this);
(function(e) {
    var t = { id: "bbd39fed48bd84ab3d83c94cf0eea0c4", filename: "inPopupItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["inPopupItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("\n" + n);
            r.b('<li class="box box_bd" item="item" data-insuranceType="');
            r.b(r.v(r.f("insuranceType", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('	<div class="li_hd cf">');
            r.b("\n" + n);
            r.b('		<div class="d_t">');
            r.b("\n" + n);
            r.b('			<p class="t"><a href="');
            r.b(r.v(r.f("url", e, t, 0)));
            r.b('" isblank=');
            r.b(r.v(r.f("isBlank", e, t, 0)));
            r.b(' class="blue js_title" target="_blank">');
            r.b(r.v(r.f("title", e, t, 0)));
            if (!r.s(r.f("isBlank", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<i class="arrow"></i>') }
            r.b("</a></p>");
            r.b("\n" + n);
            r.b('			<p class="s_t">');
            r.b(r.v(r.f("feature", e, t, 0)));
            r.b("</p>");
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            r.b('		<div class="d_pr"><span>&yen;');
            r.b(r.v(r.f("qunar_price", e, t, 0)));
            r.b("</span></div>");
            r.b("\n" + n);
            r.b('		<div class="d_btn"><a class="btn_b js_i_p_btn" href="#" data-type="');
            r.b(r.v(r.f("insuranceType", e, t, 0)));
            r.b('">选择</a></div>');
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b('	<div class="b_hidelist">');
            r.b("\n" + n);
            r.b('		<div class="e_hidelist_ct cf">');
            r.b("\n" + n);
            r.b('			<i class="close"></i>');
            r.b("\n" + n);
            r.b('			<dl class="list js_protection">');
            r.b("\n" + n);
            r.b('				<dt class="d_dt">保障内容</dt>');
            r.b("\n" + n);
            r.b('				<dd class="d_dd">');
            r.b("\n" + n);
            r.b("				");
            r.b(r.t(r.f("protection", e, t, 0)));
            r.b("\n" + n);
            r.b("				</dd>");
            r.b("\n" + n);
            r.b("			</dl>");
            r.b("\n" + n);
            r.b('			<dl class="text">');
            r.b("\n" + n);
            r.b('				<dt class="d_dt">投保须知</dt>');
            r.b("\n" + n);
            r.b('				<dd class="d_dd">');
            r.b("\n" + n);
            r.b("				");
            r.b(r.t(r.f("attention", e, t, 0)));
            r.b("\n" + n);
            r.b('				<p class="cf"><a class="r_link" target="_blank" href="');
            r.b(r.v(r.f("url", e, t, 0)));
            r.b('">了解详情</a></p>');
            r.b("\n" + n);
            r.b("				</dd>");
            r.b("\n" + n);
            r.b("			</dl>");
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["inPopupItem"] }(t.exports, t, e);
    e.____MODULES["bbd39fed48bd84ab3d83c94cf0eea0c4"] = t.exports })(this);
(function(e) {
    var t = { id: "59dbec81350a7d19c31949ea6f11c971", filename: "inCaHeader.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["inCaHeader"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="h3 cf">');
            r.b("\n" + n);
            r.b('    <span class="prev cld_p ');
            r.b(r.v(r.f("prevClass", e, t, 0)));
            r.b('"></span>');
            r.b("\n" + n);
            r.b('    <span class="next cld_n ');
            r.b(r.v(r.f("nextClass", e, t, 0)));
            r.b('"></span>');
            r.b("\n" + n);
            r.b("    ");
            r.b(r.v(r.f("year", e, t, 0)));
            r.b("年");
            r.b(r.v(r.f("month", e, t, 0)));
            r.b("月");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["inCaHeader"] }(t.exports, t, e);
    e.____MODULES["59dbec81350a7d19c31949ea6f11c971"] = t.exports })(this);
(function(e) {
    var t = { id: "7c737be741b21b999e170d4c2c2c32fb", filename: "inCaBody.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["inCaBody"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="cal_table">');
            r.b("\n" + n);
            r.b("    <table>");
            r.b("\n" + n);
            r.b("    	<thead>");
            r.b("\n" + n);
            r.b("        	<tr>");
            r.b("\n" + n);
            r.b('            	<th><div class="weekdays">一</div></th>');
            r.b("\n" + n);
            r.b('                <th><div class="weekdays">二</div></th>');
            r.b("\n" + n);
            r.b('                <th><div class="weekdays">三</div></th>');
            r.b("\n" + n);
            r.b('                <th><div class="weekdays">四</div></th>');
            r.b("\n" + n);
            r.b('                <th><div class="weekdays">五</div></th>');
            r.b("\n" + n);
            r.b('                <th><div class="weekdays">六</div></th>');
            r.b("\n" + n);
            r.b('                <th><div class="weekdays">日</div></th>');
            r.b("\n" + n);
            r.b("            </tr>");
            r.b("\n" + n);
            r.b("        </thead>");
            r.b("\n" + n);
            r.b("        <tbody>");
            r.b("\n" + n);
            if (r.s(r.f("data", e, t, 1), e, t, 0, 514, 679, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("        		<tr>");
                    r.b("\n" + n);
                    if (r.s(r.d(".", e, t, 1), e, t, 0, 547, 646, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('        				<td date="');
                            n.b(n.v(n.f("formatDate", e, t, 0)));
                            n.b('"><div class="');
                            n.b(n.v(n.f("itemClass", e, t, 0)));
                            n.b('">');
                            n.b(n.v(n.f("dayStr", e, t, 0)));
                            n.b("</div></td>");
                            n.b("\n") });
                        e.pop() }
                    r.b("        		</tr>");
                    r.b("\n") });
                e.pop() }
            r.b("        </tbody>");
            r.b("\n" + n);
            r.b("    </table>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["inCaBody"] }(t.exports, t, e);
    e.____MODULES["7c737be741b21b999e170d4c2c2c32fb"] = t.exports })(this);
(function(e) {
    var t = { id: "0c25d53ce773a00dea2390cb3e177fc2", filename: "calendar.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.insuranceCalendar", function() {
                function e(e) { this.opts = $.extend({ SHOW_OTHER_MONTH: false, DAYS_HEADER: [1, 2, 3, 4, 5, 6, 0], currentDay: DateUtil.today(), minDay: DateUtil.today(), exceptDate: null, maxDay: false, maxRange: false, SHOW_OTHER_MONTH_TITLE: false }, e);
                    if (typeof this.opts.maxRange == "number") { this.opts.maxDay = new Date(this.opts.currentDay.getFullYear(), this.opts.currentDay.getMonth() + this.opts.maxRange, this.opts.currentDay.getDate()) } }
                e.prototype = { init: function() { this.result = this._getTabel();
                        this._format();
                        this.draw() }, draw: function() {
                        var e = [];
                        e.push(this._drawHeader());
                        e.push(this._drawBody());
                        this.opts.container.html(e.join(""));!this.hasBind && this.bindEvents() }, _drawHeader: function() {
                        var e = this.getMonth(),
                            t = this.opts.currentDay.getFullYear(),
                            n = nextClass = "";
                        if (this.opts.minDay.getTime() >= this.opts.currentDay.getTime()) { n = "cld_p_dis" }
                        if (this.opts.maxDay.getMonth && this.opts.maxDay.getMonth() <= this.opts.currentDay.getMonth()) { nextClass = "cld_n_dis" }
                        return QTMPL.inCaHeader.render({ prevClass: n, nextClass: nextClass, year: t, month: e }) }, _drawBody: function() { $.each(this.result, function(e, t) { $.each(t, function(e, t) { t.formatDate = DateUtil.format(t.date);
                                t.dayStr = t.date.getDate();
                                t.itemClass = t.disable ? "disable" : "normal" }) });
                        return QTMPL.inCaBody.render({ data: this.result }) }, bindEvents: function() {
                        var e = this;
                        this.opts.container.on("click", ".next", function(t) {
                            if (this.className.indexOf("cld_n_dis") != -1) {
                                return }
                            e.next();
                            t.stopPropagation() });
                        this.opts.container.on("click", ".prev", function(t) {
                            if (this.className.indexOf("cld_p_dis") != -1) {
                                return }
                            e.prev();
                            t.stopPropagation() });
                        this.opts.container.on("click", "td[date]", function() {
                            if ($(this).children().hasClass("disable")) {
                                return true }
                            e.opts.container.find("td[date]").children().removeClass("active");
                            $(this).children().eq(0).addClass("active");
                            e.opts.handler && e.opts.handler.call(this, this.getAttribute("date")) });
                        this.hasBind = true }, getMonth: function(e) {
                        var t;
                        if (e) { t = e } else { t = this.opts.currentDay }
                        var n = DateUtil.format(t);
                        n = n.substring(5, 7);
                        return parseInt(n, 10) }, prev: function() {
                        var e = this.opts.currentDay;
                        this.opts.currentDay = new Date(e.getFullYear(), e.getMonth() - 1, 1);
                        this.init() }, next: function() {
                        var e = this.opts.currentDay;
                        this.opts.currentDay = new Date(e.getFullYear(), e.getMonth() + 1, 1);
                        this.init() }, _format: function() {
                        var e = this,
                            t = this.result;
                        var n = this.opts.currentDay,
                            r = this.opts.minDay,
                            i = this.opts.maxDay,
                            s = this.opts.SHOW_OTHER_MONTH,
                            o = {};
                        if (this.opts.exceptDate) { o = this._format_except_date() }
                        $.each(t, function(t, n) { $.each(n, function(t, n) {
                                var u = e.getMonth(n.date);
                                var a = e.getMonth();
                                n.disable = false;
                                if (u !== a) { n.other_month = true }
                                if (!s && n.other_month || n.date.getTime() < r.getTime() || o[n.date.getTime()] || i instanceof Date && n.date.getTime() > i.getTime()) { n.disable = true } }) }) }, _format_except_date: function() {
                        var e = {},
                            t;
                        var n = this.opts.exceptDate;
                        if (!(n instanceof Array)) { n = [n] }
                        for (var r = 0, i = n.length; r < i; r++) { t = n[r];
                            if (typeof n[r] === "string") { t = DateUtil.parse(n[r]) }
                            e[t.getTime()] = true }
                        return e }, _getTabel: function() {
                        var e = this.opts;
                        var t = [];
                        var n = new CalendarCore({ currentDay: e.currentDay, DAYS_HEADER: e.DAYS_HEADER });
                        $(n).one("refreshed", function(e, n) { t = n });
                        n.refresh();
                        return t } };
                return { init: function(t) {
                        return new e(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["0c25d53ce773a00dea2390cb3e177fc2"] = t.exports })(this);
(function(e) {
    var t = { id: "2c43df0d89ce26c7bc87b98b14f650fb", filename: "insurance.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.insurance", function() {
                var e = { hotel: "酒店住宿险", travel: "旅游意外险", air: "航空意外险", publicTransport: "公共交通险", selfDriving: "自驾险", currentDate: { hotel: "", travel: "", air: "", publicTransport: "", selfDriving: "" } };
                var t = { init: function(e) {
                        if (!QNR.bookdata.hasInsurance) {
                            return }
                        if (!this.inited) { this.$w = e && e.length ? e : $("#js_p_insurance");
                            this.$insuranceUrl = $("[data-insurance-url]");
                            if (this.$w && this.$w.length) { this.initHtml();
                                this.initPage();
                                this.initEvents();
                                this.inited = true } } }, initHtml: function() {
                        var e = "";
                        if (QNR.bookdata.currentDate === "") { e = "您需要将保险日期修改为您的具体行程出行日期,也可以稍后在“订单中心”修改保险生效日期" }
                        this.$w.show().html(QTMPL.inWrapper.render({ insuranceTip: e }));
                        this.$hiddenObj = { travel: { $hiddenCountEl: $("#insurance-count"), $hiddenIdEl: $("#insuranceId"), $hiddenDateEl: $("#insuranceDate") }, air: { $hiddenCountEl: $("#airInsuranceCount"), $hiddenIdEl: $("#airInsuranceId"), $hiddenDateEl: $("#airInsuranceDate") }, hotel: { $hiddenCountEl: $("#hotelInsuranceCount"), $hiddenIdEl: $("#hotelInsuranceId"), $hiddenDateEl: $("#hotelInsuranceDate") }, publicTransport: { $hiddenCountEl: $("#publicTransportInsuranceCount"), $hiddenIdEl: $("#publicTransportInsuranceId"), $hiddenDateEl: $("#publicTransportInsuranceDate") }, selfDriving: { $hiddenCountEl: $("#selfDrivingInsuranceCount"), $hiddenIdEl: $("#selfDrivingInsuranceId"), $hiddenDateEl: $("#selfDrivingInsuranceDate") } };
                        this.$curDateEl = {};
                        this.$popup = $(".js_i_p_w");
                        this.$popup = this.$popup.length ? this.$popup : $(QTMPL.inPopup.render()).appendTo($("body"));
                        this.$mask = QNR.module.mask;
                        this.$popupInsuraceList = this.$popup.find('[item="insuranceList"]') }, initPage: function() {
                        var e = this,
                            t = "/order/insuranceList.json?pId=" + QNR.bookdata.pId;
                        $insuranceUrl = this.$insuranceUrl || $$("[data-insurance-url]");
                        var n = 0;
                        var r = function(t, r) {
                            var i = r || [];
                            i = e.prefix(i, t);
                            if (i.length < 1) { n--;
                                return }
                            n++;
                            e.createOneItem(i[0], i[0].autoSelectInsurance, t);
                            if (i.length > 1 && t != "air") { $.each(i, function(n, r) {
                                    var i = $(QTMPL.inPopupItem.render($.extend({}, r, { insuranceType: t })));
                                    i.data("data", r);
                                    e.$popupInsuraceList.append(i) }) } };
                        $.ajax({ url: t, dataType: "json", success: function(t) {
                                if (t && t.ret && t.data && (t.data.list || t.data.air_insurance_list || t.data.hotel_insurance_list)) { $(".js_itips").html(t.data.insuranceInfo);
                                    e.setDefaultTotal();
                                    if (t.data.list && t.data.list.length >= 1) { t.data.list[0].autoSelectInsurance = t.data.listAutoSelect;
                                        r("travel", t.data.list) }
                                    if (t.data.air_insurance_list && t.data.air_insurance_list.length >= 1) { t.data.air_insurance_list[0].autoSelectInsurance = t.data.air_insurance_listAutoSelect;
                                        r("air", t.data.air_insurance_list) }
                                    if (t.data.hotel_insurance_list && t.data.hotel_insurance_list.length >= 1) { t.data.hotel_insurance_list[0].autoSelectInsurance = t.data.hotel_insurance_listAutoSelect;
                                        r("hotel", t.data.hotel_insurance_list) }
                                    if (t.data.self_driving_insurance_list && t.data.self_driving_insurance_list.length >= 1) { t.data.self_driving_insurance_list[0].autoSelectInsurance = t.data.self_driving_insurance_listAutoSelect;
                                        r("selfDriving", t.data.self_driving_insurance_list) }
                                    if (t.data.public_transport_insurance_list && t.data.public_transport_insurance_list.length >= 1) { t.data.public_transport_insurance_list[0].autoSelectInsurance = t.data.public_transport_insurance_listAutoSelect;
                                        r("publicTransport", t.data.public_transport_insurance_list) }
                                    if (n <= 0) { e.$w.hide();
                                        return } else { e.renderPrice() }
                                    try {
                                        if (!e.$insuranceUrl.length) { e.$insuranceUrl = $insuranceUrl = $("[data-insurance-url]") }
                                        $insuranceUrl.each(function() {
                                            var e = this.href;
                                            this.href = "/order/insuranceClause/" + t.data.insuranceClauseName + e.substring(e.indexOf("#")) }) } catch (i) {} } } }) }, initEvents: function() {
                        var e = this;
                        QNR.event.bind("change-date", function(t, n) { e.renderPrice() });
                        QNR.event.bind("numChange", $.proxy(function(e, t) { this.change(t) }, this));
                        this.$w.on("click", ".js_i_c_btn", function() { e.showPopUp($(this)) });
                        this.$w.on("click", ".js_i_k_btn", function(e) { e.preventDefault();
                            $(this).closest(".js_i_k_tip").hide();
                            $.cookie("knowitip", true) });
                        this.$w.on("click", ".js_i_cal_btn", function(t) {
                            var n = $(this),
                                r = n.closest(".js_i_item"),
                                i = r.find(".js_i_cal_w");
                            t.stopPropagation();
                            var s = r.siblings(".js_i_item");
                            if (s.length) { s.removeClass("ins_active");
                                s.find(".js_i_cal_w").hide().removeClass("dateshow_active") }
                            var o = r.attr("data-insurance");
                            if (i.is(":hidden")) { i.show();
                                r.addClass("ins_active");
                                n.addClass("dateshow_active") } else { i.hide();
                                r.removeClass("ins_active");
                                n.removeClass("dateshow_active") }
                            e.renderCalendar(i, o) });
                        $(document).bind("click", e.hideCalender);
                        this.$popup.on("click", ".js_i_p_btn", function(t) { t.preventDefault();
                            var n = $(this),
                                r = n.closest('[item="item"]').data("data");
                            e.createOneItem(r, true, n.attr("data-type") || "", "_SELECT_");
                            e.renderPrice();
                            e.hidePopUp() });
                        this.$popup.on("click", ".js_i_p_close", function() { e.hidePopUp() });
                        this.$w.on("mouseenter mouseout", ".js_i_h", function(e) {
                            var t = $(this),
                                n = t.parent().find(".js_i_p");
                            e.type === "mouseenter" ? n.show() : n.hide() });
                        $("body").on("click", ".js_i_item .insurance-name a.js_title, .choicelist .js_title", function(e) {
                            var t = $(this).closest("li"),
                                n = $(this).closest(".li_hd").siblings(".b_hidelist"),
                                r = t.hasClass("li_active");
                            if ($(this).attr("isblank") == "true") {} else { e.preventDefault();
                                if (r) { t.removeClass("li_active");
                                    n.hide() } else { t.addClass("li_active");
                                    n.show() } } });
                        $("body").on("click", ".js_i_item .close, .choicelist .close", function(t) { t.preventDefault();
                            $(this).closest("li").removeClass("li_active");
                            e.$w.find(".b_hidelist").hide() }) }, hideCalender: function() {
                        var e = t;
                        e.$w.find(".js_i_cal_w").hide();
                        e.$w.find(".js_i_item").removeClass("ins_active");
                        e.$w.find(".js_i_cal_btn").removeClass("dateshow_active") }, createOneItem: function(e, t, n, r) {
                        var i = this,
                            s = this.$w.find(".js_i_m"),
                            o = $(QTMPL.inItem.render(e)),
                            u;
                        s.find(".js_protection p").addClass("liit_item");
                        u = s.find(".js_i_item").filter('[data-insurance="' + (n || "travel") + '"]');
                        if (u.length <= 0) { o.css("zIndex", 100);
                            o.data("data", e).data("default", true).appendTo(s) } else { o.css("zIndex", 101);
                            o.data("data", e).data("default", true).insertAfter(u);
                            u.remove() }
                        this.renderSel();
                        var a = o.find(".js_i_n_sel"),
                            f = a.data("csSelect");
                        t && f.val(a.find("option:last").val());
                        f.bind("change", $.proxy(function(e) { this.renderPrice() }, this));
                        this.$curDateEl[n] = o.find('[item="dinput"]');
                        this.setDate(QNR.bookdata.insuranceDate, n, r) }, renderSel: function() {
                        if (!this.$w) {
                            return }
                        var e = this;
                        this.$w.find(".js_i_n_sel").each(function() {
                            var t = $(this),
                                n = t.data("csSelect");
                            t.empty().append(e.getTmpl());
                            n ? n.update() : t.csSelect({ tpl: $(QTMPL.csSelect.render()).addClass("select_sm").addClass("w50_sel") }) }) }, renderPrice: function() {
                        if (!this.$w) {
                            return }
                        var t = this;
                        var n = [];
                        this.$w.find(".js_i_n_sel").each(function() {
                            var r = $(this),
                                i = r.val(),
                                s = r.closest(".js_i_item"),
                                o = s.data("data"),
                                u = o.qunar_price,
                                a = o.id,
                                f = s.data("default");
                            var l = s.attr("data-insurance");
                            s.find(".js_i_t_price").text(u * i);
                            if (f === true) { t.$hiddenObj[l].$hiddenCountEl.val(i);
                                t.$hiddenObj[l].$hiddenIdEl.val(~~i != 0 ? a : "");
                                if (~~i > 0) { n.push({ type: e[l], price: u, count: ~~i }) } } });
                        QNR.event.trigger("insurance-change", [n]) }, renderCalendar: function(e, t) {
                        var n = this,
                            r = QNR.bookdata.currentDate ? DateUtil.parse(QNR.bookdata.currentDate) : new Date(DateUtil.today().getFullYear(), DateUtil.today().getMonth(), DateUtil.today().getDate());
                        var i = QNR.module.insuranceCalendar.init({ container: e, minDay: r, maxDay: DateUtil.parse(QNR.bookdata.maxDay), currentDay: r, showOtherMonth: false, handler: function(e) { n.setDate(e, t) }, SHOW_OTHER_MONTH: false });
                        i.init() }, showPopUp: function(e) {
                        var t = this.$popup.width(),
                            n = e.height(),
                            r = e.offset().top,
                            i = $(window).width();
                        var s = e.attr("data-type");
                        this.$popupInsuraceList.find("[data-insuranceType]").hide().filter('[data-insuranceType="' + s + '"]').show();
                        this.$popup.css({ position: "absolute", top: r + n, left: (i - t) / 2, zIndex: "1001" }).show();
                        this.$mask.show() }, hidePopUp: function() { this.$popup.hide();
                        this.$mask.hide() }, setDefaultTotal: function() {
                        var e = !!QNR.bookdata.is_taocan;
                        if (e) { this.one = QNR.bookdata.taocanCnt.adultCount + QNR.bookdata.taocanCnt.childCount;
                            this.total = this.one * QNR.bookdata.count.taocan } else { this.one = QNR.bookdata.count.adult + QNR.bookdata.count.child;
                            this.total = this.one } }, change: function(e) {
                        if (!this.$w) {
                            return }
                        if (e.taocanNum) {
                            var t = e.removeChild || this.removeChild,
                                n = e.taocanNum * QNR.bookdata.count.child;
                            t = t > n ? n : t;
                            this.removeChild = t;
                            this.total = e.taocanNum * this.one - (t || 0) } else { this.total = e.adult + e.child }
                        this.renderSel();
                        this.renderPrice() }, setDate: function(t, n, r) {
                        var i = this;
                        if (r && r == "_SELECT_" && e.currentDate[n]) { t = e.currentDate[n] }
                        if (QNR.bookdata.hasInsurance) {
                            if (n) { this.$curDateEl[n] && this.$curDateEl[n].val(t);
                                this.$hiddenObj[n].$hiddenDateEl.val(t);
                                e.currentDate[n] = t;
                                var s = false;
                                if (n === "hotel" && this.$curDateEl["travel"]) { s = "travel" } else if (n === "travel" && this.$curDateEl["hotel"]) { s = "hotel" }
                                if (s) { this.$curDateEl[s] && this.$curDateEl[s].val(t);
                                    this.$hiddenObj[s] && this.$hiddenObj[s].$hiddenDateEl.val(t) } } else { $.each(this.$curDateEl, function(e, n) { i.$curDateEl[e] && i.$curDateEl[e].val(t) });
                                $.each(this.$hiddenObj, function(e, n) { n.$hiddenDateEl.val(t) }) } } }, getTmpl: function() { this.total = window.isNaN(this.total) ? 0 : this.total;
                        var e = [];
                        e.push('<option value="0">0</option>');
                        this.total > 0 && e.push('<option value="', this.total, '">', this.total, "</option>");
                        return e.join("") }, prefix: function(e, t) {
                        if (!e || !e.length) {
                            return e }
                        $.each(e, function(e, n) { n.url = QNR.rewriteUrl.replace(n.description + location.hash);
                            if (!n.attention && !n.protection) { n.isBlank = true } else { n.isBlank = false }
                            n.hasCaluse = !!n.clauseList;
                            n.insuranceType = t || "ins" });
                        e.length == 1 || t == "air" ? e[0].isSingle = true : "";
                        return e }, clearQunarInsurance: function() { this.$w.off("click, mouseenter, mouseout");
                        this.$w.remove();
                        this.$w = null;
                        this.$hiddenObj = null;
                        this.$curDateEl = null;
                        this.$popup = null;
                        this.$mask = null;
                        this.$popupInsuraceList = null;
                        $(document).off("click", this.hideCalender) } };
                return { init: function(e) { t.init(e) }, setDate: function(e) { t.inited && t.setDate(e) }, clearQunarInsurance: function() { t.inited && t.clearQunarInsurance() } } }()) })() }(t.exports, t, e);
    e.____MODULES["2c43df0d89ce26c7bc87b98b14f650fb"] = t.exports })(this);
(function(e) {
    var t = { id: "ff8d1126327ad3d38b625b917a37a688", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["e7541faad035791f281129e4d690ca39"];
        e.____MODULES["092092d4225a89327feb30a391fb8f51"];
        e.____MODULES["16ad3e64f59e714ac9d57e6111346df1"];
        e.____MODULES["bbd39fed48bd84ab3d83c94cf0eea0c4"];
        e.____MODULES["59dbec81350a7d19c31949ea6f11c971"];
        e.____MODULES["7c737be741b21b999e170d4c2c2c32fb"];
        e.____MODULES["0c25d53ce773a00dea2390cb3e177fc2"];
        e.____MODULES["2c43df0d89ce26c7bc87b98b14f650fb"] }(t.exports, t, e);
    e.____MODULES["ff8d1126327ad3d38b625b917a37a688"] = t.exports })(this);
(function(e) {
    var t = { id: "5a1723ebdb87f37db69effb8e381b942", filename: "tieWrapper.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["tieWrapper"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<h1 class="title cf">');
            r.b("\n" + n);
            r.b('	<div class="tit_name">搭售产品</div>');
            r.b("\n" + n);
            r.b("</h1>");
            r.b("\n" + n);
            r.b('	<div class="matching_sell">');
            r.b("\n" + n);
            r.b('	<ul class="js_i_m">');
            r.b("\n" + n);
            r.b('		<li class="matching_tit cf">');
            r.b("\n" + n);
            r.b('			<div class="matching_type">产品类型</div>');
            r.b("\n" + n);
            r.b('			<div class="matching_name ell">名称</div>');
            r.b("\n" + n);
            r.b('			<div class="matching_date">使用日期</div>');
            r.b("\n" + n);
            r.b('			<div class="qn_price">去哪儿网价</div>');
            r.b("\n" + n);
            r.b('			<div class="matching_num">数量</div>');
            r.b("\n" + n);
            r.b('			<div class="matching_toa">小计</div>');
            r.b("\n" + n);
            r.b("		</li>");
            r.b("\n" + n);
            if (r.s(r.f("content", e, t, 1), e, t, 0, 403, 3077, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                    if (r.s(r.f("wifi", e, t, 1), e, t, 0, 434, 3062, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('			<li class="cf js_i_item wifi_opt" data-node="tieInRoot" data-id="');
                            r.b(r.v(r.f("productId", e, t, 0)));
                            r.b('" data-prdtype="');
                            r.b(r.v(r.f("pFunction", e, t, 0)));
                            r.b('" data-price="');
                            r.b(r.v(r.f("adultPrice", e, t, 0)));
                            r.b('" style=" z-index:');
                            r.b(r.v(r.f("index", e, t, 0)));
                            r.b('">');
                            r.b("\n" + n);
                            r.b('				<div class="matching_type">');
                            if (r.s(r.f("first", e, t, 1), e, t, 0, 656, 672, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b(n.v(n.f("pFunctionTxt", e, t, 0))) });
                                e.pop() }
                            r.b("</div>");
                            r.b("\n" + n);
                            r.b('				<div class="wifi_info cf">');
                            r.b("\n" + n);
                            r.b('				<div class="matching_name ell" data-node="title" data-keys="title" data-type="');
                            r.b(r.v(r.f("pFunctionTxt", e, t, 0)));
                            r.b('" data-title="');
                            r.b(r.v(r.f("title", e, t, 0)));
                            r.b('"><a href="javascript:void(0);" class="blue" title="');
                            r.b(r.v(r.f("title", e, t, 0)));
                            r.b('">');
                            r.b(r.v(r.f("title", e, t, 0)));
                            r.b("</a>");
                            r.b("\n" + n);
                            r.b('					<div class="matching_fold"></div>');
                            r.b("\n" + n);
                            r.b("				</div>");
                            r.b("\n" + n);
                            r.b('				<div class="matching_date" data-node="group">');
                            r.b("\n" + n);
                            r.b('					<div class="dategroup z_index3" data-node="parent">');
                            r.b("\n" + n);
                            r.b('						<div class="dateshow js_i_cal_btn">');
                            r.b("\n" + n);
                            r.b('							<input data-node="startInput" type="text" class="input_date" value="');
                            r.b(r.v(r.f("currentDate", e, t, 0)));
                            r.b('">');
                            r.b("\n" + n);
                            r.b('							<i class="dateico"></i>');
                            r.b("\n" + n);
                            r.b("						</div>");
                            r.b("\n" + n);
                            r.b("						<div class='calendar_sm js_i_cal_w' data-node=\"startDatepicker\" style='display:none'></div>");
                            r.b("\n" + n);
                            r.b("					</div>");
                            r.b("\n" + n);
                            r.b('				<span class="ari">至</span>');
                            r.b("\n" + n);
                            r.b('					<div class="dategroup" data-node="parent">');
                            r.b("\n" + n);
                            r.b('						<div class="dateshow js_i_cal_btn">');
                            r.b("\n" + n);
                            r.b('							<input data-node="endInput"  type="text" class="input_date" value="');
                            r.b(r.v(r.f("endDate", e, t, 0)));
                            r.b('">');
                            r.b("\n" + n);
                            r.b('							<i class="dateico"></i>');
                            r.b("\n" + n);
                            r.b("						</div>");
                            r.b("\n" + n);
                            r.b("						<div class='calendar_sm js_i_cal_w' data-node=\"endDatepicker\" style='display:none'></div>");
                            r.b("\n" + n);
                            r.b("					</div>");
                            r.b("\n" + n);
                            r.b("				</div>");
                            r.b("\n" + n);
                            r.b('				<div class="qn_price orange claw" data-price="');
                            r.b(r.v(r.f("adultPrice", e, t, 0)));
                            r.b('">¥');
                            r.b(r.v(r.f("adultPrice", e, t, 0)));
                            r.b("</div>");
                            r.b("\n" + n);
                            r.b('				<div class="matching_num">');
                            r.b("\n" + n);
                            r.b('					<select did="');
                            r.b(r.v(r.f("productId", e, t, 0)));
                            r.b('" class=\'js_i_n_sel\' data-node="num">');
                            r.b("\n" + n);
                            r.b("					</select>");
                            r.b("\n" + n);
                            r.b("				</div>");
                            r.b("\n" + n);
                            r.b("				");
                            r.b("\n" + n);
                            r.b('				<div class="matching_toa"><span class="orange claw">¥<font class="js_i_t_price" data-node="subtotal">0</font></span></div>');
                            r.b("\n" + n);
                            r.b('				<div class="pick_box hide">');
                            r.b("\n" + n);
                            r.b('				    <div class="pick_item">');
                            r.b("\n" + n);
                            r.b('				    	<div class="pick_tip">取地址: </div>');
                            r.b("\n" + n);
                            r.b("						");
                            r.b("\n" + n);
                            r.b('						<select name="pick" id="pick" data-node="place">');
                            r.b("\n" + n);
                            if (r.s(r.f("pick_up_arr", e, t, 1), e, t, 0, 2334, 2387, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('								<option value="');
                                    n.b(n.v(n.d(".", e, t, 0)));
                                    n.b('">');
                                    n.b(n.v(n.d(".", e, t, 0)));
                                    n.b("</option>");
                                    n.b("\n") });
                                e.pop() }
                            r.b("						</select>");
                            r.b("\n" + n);
                            r.b("					</div>");
                            r.b("\n" + n);
                            r.b('					<div class="pick_item">');
                            r.b("\n" + n);
                            r.b('						<div class="pick_tip">还地址:</div>');
                            r.b("\n" + n);
                            r.b("						");
                            r.b("\n" + n);
                            r.b('						<select name="refound" id="refound" data-node="place">');
                            r.b("\n" + n);
                            if (r.s(r.f("pick_up_arr", e, t, 1), e, t, 0, 2591, 2644, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('								<option value="');
                                    n.b(n.v(n.d(".", e, t, 0)));
                                    n.b('">');
                                    n.b(n.v(n.d(".", e, t, 0)));
                                    n.b("</option>");
                                    n.b("\n") });
                                e.pop() }
                            r.b("						</select>");
                            r.b("\n" + n);
                            r.b("					</div>");
                            r.b("\n" + n);
                            r.b("				</div>");
                            r.b("\n" + n);
                            r.b('				<div class="matching_pro_detail" data-node="details" style="display:none;">');
                            r.b("\n" + n);
                            r.b('					<div class="icon"></div>');
                            r.b("\n" + n);
                            r.b("					<p><span>国家：</span>");
                            r.b(r.v(r.f("country", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>取还地点：</span>");
                            r.b(r.v(r.f("pickUp", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>退款规则：</span>");
                            r.b(r.v(r.f("refundType", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>产品说明：</span>");
                            r.b(r.t(r.f("recommendation", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>供应商：</span>");
                            r.b(r.v(r.f("shopName", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("				</div>");
                            r.b("\n" + n);
                            r.b("				</div>");
                            r.b("\n" + n);
                            r.b("			</li>");
                            r.b("\n") });
                        e.pop() } });
                e.pop() }
            r.b('		<li class="e_fold">');
            r.b("\n" + n);
            r.b('            <a class="fold_btn hide wifi_more a_show_more" id="wifi_more" href="javascript:void(0);" data-opt="wifi_opt">更多<i class=" arrow arrow_down"></i></a>');
            r.b("\n" + n);
            r.b("        </li>");
            r.b("\n" + n);
            if (r.s(r.f("content", e, t, 1), e, t, 0, 3301, 4799, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                    if (r.s(r.f("oneDayTour", e, t, 1), e, t, 0, 3337, 4781, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('			<li class="cf js_i_item oneDayTour_opt" data-node="tieInRoot" data-id="');
                            r.b(r.v(r.f("productId", e, t, 0)));
                            r.b('" data-prdtype="');
                            r.b(r.v(r.f("pFunction", e, t, 0)));
                            r.b('" data-price="');
                            r.b(r.v(r.f("adultPrice", e, t, 0)));
                            r.b('" style=" z-index:');
                            r.b(r.v(r.f("index", e, t, 0)));
                            r.b('">');
                            r.b("\n" + n);
                            r.b('				<div class="matching_type">');
                            if (r.s(r.f("first", e, t, 1), e, t, 0, 3565, 3581, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b(n.v(n.f("pFunctionTxt", e, t, 0))) });
                                e.pop() }
                            r.b("</div>");
                            r.b("\n" + n);
                            r.b('				<div class="wifi_info cf">');
                            r.b("\n" + n);
                            r.b('				<div class="matching_name ell" data-keys="title" data-node="oneDayTour" data-type="');
                            r.b(r.v(r.f("pFunctionTxt", e, t, 0)));
                            r.b('" data-title="');
                            r.b(r.v(r.f("title", e, t, 0)));
                            r.b('"><a href="');
                            r.b(r.v(r.f("url", e, t, 0)));
                            r.b('" target="_blank" class="blue" title="[');
                            r.b(r.v(r.f("shopName", e, t, 0)));
                            r.b("]");
                            r.b(r.v(r.f("title", e, t, 0)));
                            r.b('">');
                            r.b(r.v(r.f("title", e, t, 0)));
                            r.b("</a>");
                            r.b("\n" + n);
                            r.b("				</div>");
                            r.b("\n" + n);
                            r.b('				<div class="matching_date" data-node="group">');
                            r.b("\n" + n);
                            r.b('					<div class="dategroup z_index3" data-node="parent">');
                            r.b("\n" + n);
                            r.b('						<div class="dateshow js_i_cal_btn" data-type="oneDayTour" data-pid="');
                            r.b(r.v(r.f("productId", e, t, 0)));
                            r.b('">');
                            r.b("\n" + n);
                            r.b('							<input data-node="startInput" type="text" class="input_date" value="');
                            r.b(r.v(r.f("currentDate", e, t, 0)));
                            r.b('">');
                            r.b("\n" + n);
                            r.b('							<i class="dateico"></i>');
                            r.b("\n" + n);
                            r.b("						</div>");
                            r.b("\n" + n);
                            r.b("						<div class='calendar_sm js_i_cal_w' data-node=\"startDatepicker\" style='display:none'></div>");
                            r.b("\n" + n);
                            r.b("					</div>");
                            r.b("\n" + n);
                            r.b('					<div class="blank_site"></div>');
                            r.b("\n" + n);
                            r.b("				</div>");
                            r.b("\n" + n);
                            r.b('				<div class="qn_price orange claw" data-price="');
                            r.b(r.v(r.f("adultPrice", e, t, 0)));
                            r.b('">¥');
                            r.b(r.v(r.f("adultPrice", e, t, 0)));
                            r.b("</div>");
                            r.b("\n" + n);
                            r.b('				<div class="matching_num">');
                            r.b("\n" + n);
                            r.b('					<select did="');
                            r.b(r.v(r.f("productId", e, t, 0)));
                            r.b('" class=\'js_i_n_sel\' data-node="num">');
                            r.b("\n" + n);
                            r.b("					</select>");
                            r.b("\n" + n);
                            r.b("				</div>				");
                            r.b("\n" + n);
                            r.b('				<div class="matching_toa"><span class="orange claw">¥<font class="js_i_t_price" data-node="subtotal">0</font></span></div>');
                            r.b("\n" + n);
                            r.b("				</div>	");
                            r.b("\n" + n);
                            r.b("			</li>");
                            r.b("\n") });
                        e.pop() } });
                e.pop() }
            r.b('		<li class="e_fold" >');
            r.b("\n" + n);
            r.b('            <a class="fold_btn hide oneDayTour_more a_show_more"  id="one_day_tour_more" href="javascript:void(0);" data-opt="oneDayTour_opt">更多<i class=" arrow arrow_down"></i></a>');
            r.b("\n" + n);
            r.b("        </li>");
            r.b("\n" + n);
            if (r.s(r.f("content", e, t, 1), e, t, 0, 5045, 7095, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                    if (r.s(r.f("visa", e, t, 1), e, t, 0, 5072, 7083, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('			<li class="cf js_i_item visa_opt" data-node="tieInRoot" data-address="');
                            r.b(r.v(r.d("detail.visaPostAddress", e, t, 0)));
                            r.b("  ");
                            r.b(r.v(r.d("detail.visaAddressee", e, t, 0)));
                            r.b("  ");
                            r.b(r.v(r.d("detail.visaAddresseePhone", e, t, 0)));
                            r.b('" data-postage="');
                            r.b(r.v(r.d("detail.visaExpressFeeType", e, t, 0)));
                            r.b('"  data-st="');
                            r.b(r.v(r.f("stock", e, t, 0)));
                            r.b('" data-id="');
                            r.b(r.v(r.f("productId", e, t, 0)));
                            r.b('" data-itemid="');
                            r.b(r.v(r.f("teamId", e, t, 0)));
                            r.b('" data-prdtype="');
                            r.b(r.v(r.f("pFunction", e, t, 0)));
                            r.b('" data-price="');
                            r.b(r.v(r.f("adultPrice", e, t, 0)));
                            r.b('">');
                            r.b("\n" + n);
                            r.b('				<div class="matching_type">');
                            r.b(r.v(r.f("pFunctionTxt", e, t, 0)));
                            r.b("</div>");
                            r.b("\n" + n);
                            r.b('				<div class="wifi_info cf no_dotted">');
                            r.b("\n" + n);
                            r.b('				<div class="matching_name ell" data-node="title" data-keys="title" data-type="');
                            r.b(r.v(r.f("pFunctionTxt", e, t, 0)));
                            r.b('" data-title="');
                            r.b(r.v(r.f("title", e, t, 0)));
                            r.b('">');
                            r.b("\n" + n);
                            r.b("					<p>");
                            r.b("\n" + n);
                            r.b('					<a href="javascript:void(0);" class="blue" title="');
                            r.b(r.v(r.f("title", e, t, 0)));
                            r.b('">');
                            r.b(r.v(r.f("title", e, t, 0)));
                            r.b("</a></p>");
                            r.b("\n" + n);
                            r.b('					<p class="s_t">需要提前');
                            r.b(r.v(r.f("daysAdvanced", e, t, 0)));
                            r.b("天预订</p>");
                            r.b("\n" + n);
                            r.b("				</div>");
                            r.b("\n" + n);
                            r.b('				<div class="matching_date">');
                            r.b("\n" + n);
                            r.b("					-");
                            r.b("\n" + n);
                            r.b("				</div>");
                            r.b("\n" + n);
                            r.b('				<div class="qn_price orange claw" data-price="');
                            r.b(r.v(r.f("adultPrice", e, t, 0)));
                            r.b('">&yen;');
                            r.b(r.v(r.f("adultPrice", e, t, 0)));
                            r.b("</div>");
                            r.b("\n" + n);
                            r.b('				<div class="matching_num">');
                            r.b("\n" + n);
                            r.b('					<select did="');
                            r.b(r.v(r.f("productId", e, t, 0)));
                            r.b('" class=\'js_i_n_sel\' data-node="num">');
                            r.b("\n" + n);
                            r.b("					</select>");
                            r.b("\n" + n);
                            r.b("				</div>				");
                            r.b("\n" + n);
                            r.b('				<div class="matching_toa"><span class="orange claw">&yen;<font class="js_i_t_price" data-node="subtotal">0</font></span></div>');
                            r.b("\n" + n);
                            r.b('				<div class="matching_pro_detail" data-node="details" style="display:none;">');
                            r.b("\n" + n);
                            r.b('					<div class="icon"></div>');
                            r.b("\n" + n);
                            r.b("					<p><span>办理目的地：	</span>");
                            r.b(r.v(r.d("detail.arrive", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>办理领区：	</span>");
                            r.b(r.v(r.d("detail.visaDealsConsularArea", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>收客范围：	</span>");
                            r.b(r.v(r.d("detail.visaLimitArea", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>办理时长：	</span>");
                            r.b(r.v(r.d("detail.visaDealDays", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>签证类别：	</span>");
                            r.b(r.v(r.d("detail.visaType", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>入境次数：	</span>");
                            r.b(r.v(r.d("detail.visaEntryNum", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>停留天数：	</span>");
                            r.b(r.v(r.d("detail.visaStayDays", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>有效期：	</span>");
                            r.b(r.v(r.d("detail.visaValidPeriod", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>适用人群：	</span>");
                            r.b(r.v(r.d("detail.visaSuitablePeople", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("					<p><span>退款须知	</span></p>");
                            r.b("\n" + n);
                            r.b("					<div>");
                            r.b(r.t(r.d("detail.refundDesc", e, t, 0)));
                            r.b("</div>");
                            r.b("\n" + n);
                            r.b("					<p><span>温馨提示	</span></p>");
                            r.b("\n" + n);
                            r.b("					<div>");
                            r.b(r.t(r.d("detail.attention", e, t, 0)));
                            r.b("</div>");
                            r.b("\n" + n);
                            r.b("					<p><span>描述：	</span>");
                            r.b(r.v(r.f("description", e, t, 0)));
                            r.b("</p>");
                            r.b("\n" + n);
                            r.b("				</div>");
                            r.b("\n" + n);
                            r.b("				</div>	");
                            r.b("\n" + n);
                            r.b("			</li>");
                            r.b("\n") });
                        e.pop() } });
                e.pop() }
            r.b('		<li class="e_fold"></li>');
            r.b("\n" + n);
            r.b("		");
            r.b("\n" + n);
            r.b("		");
            r.b("\n" + n);
            r.b("	</ul>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b('<input id="js-bundle" type="hidden" value="" name="bundle">');
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["tieWrapper"] }(t.exports, t, e);
    e.____MODULES["5a1723ebdb87f37db69effb8e381b942"] = t.exports })(this);
(function(e) {
    var t = { id: "ef4186ddfc21ef1c39afe2b0ec2f974c", filename: "tieIn.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.tieIn", function() {
                var e = { FREE: "包邮，出签后商家承担寄回快递费", FREIGHT_COLLECT: "您承担运费,费用到付", PAY_ONLINE: "你承担费用10元,实际多出费用商家与您协商" };
                var t = { init: function(e) {
                        var t = this;
                        if (!this.inited) { this.$w = e && e.length ? e : $("#js_p_tie_in");
                            if (this.$w && this.$w.length && fromTuan === false) {
                                var n = $('[name="takeoffDate"]').val();
                                $.ajax({ url: "/user/product/bundleproduct/loadRecommendProduct.json?productId=" + QNR.bookdata.pId + "&takeoff_date=" + n, dataType: "json", success: function(e) {
                                        if (e && e.ret && e.data && e.data.content && e.data.totalRows !== 0) { $.each(e.data.content, function(e, t) {
                                                if (t.pFunction === "wifi") {
                                                    if (t.pickUp) {
                                                        var n = t.pickUp.split(";");
                                                        t.pick_up_arr = n } } });
                                            t.loadTieIn(e.data) } } });
                                this.initEvents() } } }, loadTieIn: function(e) { this.initHtml(e);
                        this.initTieInPrd();
                        this.inited = true }, tieInPrdClass: function() {
                        var e = {};
                        var n = [];
                        var r = function(n) {
                            var i = this;
                            this.rootDom = n;
                            this.type = this.rootDom.data("prdtype");
                            this.id = this.rootDom.data("id");
                            this.pickDom = this.rootDom.find("#pick");
                            this.refoundDom = this.rootDom.find("#refound");
                            this.price = this.rootDom.data("price") - 0;
                            this.showDetailDom = this.rootDom.find("[data-node=title]");
                            this.titleDom = this.rootDom.find("[data-keys=title]");
                            this.detailsDom = this.rootDom.find("[data-node=details]");
                            this.numDom = this.rootDom.find("[data-node=num]");
                            this.placeDom = this.rootDom.find("[data-node=place]");
                            this.num = 0;
                            this.subtotalDom = this.rootDom.find("[data-node=subtotal]");
                            this.startDateDom = this.rootDom.find("[data-node=startInput]");
                            this.startDatepickerDom = this.rootDom.find("[data-node=startDatepicker]");
                            if (this.type === "wifi") { this.endDateDom = this.rootDom.find("[data-node=endInput]");
                                this.endDatepickerDom = this.rootDom.find("[data-node=endDatepicker]") }
                            e[this.id] = this;
                            this.init = function() { this.showDetailDom.click(function(e) { e.preventDefault();
                                    var t = $(this);
                                    if (t.data("show")) { t.data("show", false);
                                        i.detailsDom.hide() } else { t.data("show", true);
                                        i.detailsDom.show() } });
                                if (this.type === "wifi") {
                                    var e = [];
                                    $.each(new Array(3), function(t) { e.push('<option value="' + t + '">' + t + "</option>") });
                                    this.numDom.empty().append(e.join(""));
                                    var n = this.numDom.data("csSelect");
                                    n ? n.update() : this.numDom.csSelect({ tpl: $(QTMPL.csSelect.render()).addClass("select_sm").addClass("w50_sel") });
                                    this.numDom.change(function() { i.num = $(this).val() - 0;
                                        var e = r.getData();
                                        r.modifySubTotal();
                                        QNR.event.trigger("tie-in-change", { list: e });
                                        if (i.num > 0) { $(this).parent().siblings(".pick_box").removeClass("hide") } else { $(this).parent().siblings(".pick_box").addClass("hide") } });
                                    this.placeDom.change(function() {
                                        var e = r.getData();
                                        QNR.event.trigger("tie-in-change", { list: e }) });
                                    var s = this.pickDom.data("csSelect");
                                    s ? s.update() : this.pickDom.csSelect({ tpl: $(QTMPL.csSelect.render()) });
                                    var o = this.refoundDom.data("csSelect");
                                    o ? o.update() : this.refoundDom.csSelect({ tpl: $(QTMPL.csSelect.render()) }) }
                                if (this.type === "oneDayTour" || this.type === "visa") {
                                    var e = [],
                                        u = 0;
                                    if (this.type === "oneDayTour") { $.each(new Array(t.total || 2), function(t) { e.push('<option value="' + t + '">' + t + "</option>") }) } else { u = QNR.bookdata.count.adult + QNR.bookdata.count.child;
                                        e.push('<option value="' + 0 + '">' + 0 + "</option>");
                                        u > 0 && e.push('<option value="', u, '">', u, "</option>") }
                                    this.numDom.empty().append(e.join(""));
                                    var n = this.numDom.data("csSelect");
                                    n ? n.update() : this.numDom.csSelect({ tpl: $(QTMPL.csSelect.render()).addClass("select_sm").addClass("w50_sel") });
                                    this.numDom.change(function() { i.num = $(this).val() - 0;
                                        var e = r.getData();
                                        r.modifySubTotal();
                                        QNR.event.trigger("tie-in-change", { list: e });
                                        if (i.type === "visa") {
                                            var t = i.rootDom.data("address"),
                                                n = "（" + i.rootDom.data("postage") + "）";
                                            QNR.module.mobileUser && QNR.module.mobileUser.toggleIncludeVisa(i.num == 0 ? false : true, { address: t, postage: n }) } }) } };
                            this.init();
                            return this };
                        r.getData = function() {
                            var r = { isBundle: false };
                            var i = [];
                            n = [];
                            var s = [],
                                o = [],
                                u = [];
                            $.each(e, function(e, t) {
                                if (this.type === "wifi") { o.push(this) } else {
                                    var n = "[data-id=" + e + "]";
                                    t.price = $(n).attr("data-price");
                                    u.push(this) } });
                            s = o.concat(u);
                            $.each(s, function() {
                                var e = this.type + "Param";
                                r[e] = r[e] || [];
                                if (this.type === "wifi") { temp = { productId: this.id, count: this.num, startDate: this.startDateDom.val() } }
                                if (this.type === "oneDayTour") { temp = { productId: this.id, count: this.num, takeoffDate: this.startDateDom.val() } }
                                if (this.type === "visa") { temp = { visaProductId: this.id, count: this.num, visaTeamId: this.rootDom.data("itemid") } }
                                if (this.endDateDom && this.endDateDom.length) { temp["endDate"] = this.endDateDom.val();
                                    this.days = (DateUtil.parse(temp.endDate).getTime() - DateUtil.parse(temp.startDate).getTime()) / 864e5 + 1;
                                    this.days = this.days > 0 ? this.days : 0 } else { this.hasDays = false }
                                if (this.num > 0) {
                                    if (this.type === "wifi") { r.isBundle = true;
                                        temp["days"] = this.days;
                                        temp.hasDays = this.days !== undefined;
                                        temp["price"] = this.price;
                                        temp["title"] = this.titleDom.data("title");
                                        temp["type"] = this.titleDom.data("type");
                                        temp["wifiTakeAddress"] = this.pickDom.val();
                                        temp["wifiGivebackAddress"] = this.refoundDom.val();
                                        r[e].push(temp);
                                        n.push(this);
                                        i.push(temp) }
                                    if (this.type === "visa") { r.isBundle = true;
                                        temp["price"] = this.price;
                                        temp["title"] = this.titleDom.data("title");
                                        temp["type"] = this.titleDom.data("type");
                                        r[e].push(temp);
                                        n.push(this);
                                        i.push(temp) }
                                    if (this.type === "oneDayTour") {
                                        var s = t.cacheOneDayTourParam[this.id],
                                            o, u = this;
                                        $.each(s, function(e, t) {
                                            if (DateUtil.parse(t.date).getTime() === DateUtil.parse($(u.startDateDom).val()).getTime()) { o = t.tId } });
                                        r.isBundle = true;
                                        temp["price"] = this.price;
                                        temp["productTeamId"] = o;
                                        temp["title"] = this.titleDom.data("title");
                                        temp["type"] = this.titleDom.data("type");
                                        r[e].push(temp);
                                        n.push(this);
                                        i.push(temp) } } });
                            $("#js-bundle").val(JSON.stringify(r));
                            return i };
                        r.modifySubTotal = function() { $.each(e, function() {
                                if (this.days === undefined) { this.subtotalDom.html(this.num * this.price) } else { this.subtotalDom.html(this.num * this.price * this.days) } }) };
                        return r }(), initTieInPrd: function() {
                        var e = this;
                        this.$w.find("[data-node=tieInRoot]").each(function() { new e.tieInPrdClass($(this)) });
                        QNR.event.trigger("tie-in-change", { list: e.tieInPrdClass.getData() }) }, initHtml: function(t) {
                        if (!t.totalRows) { this.$w.hide();
                            return false }
                        var n = { wifi: "wifi租赁", oneDayTour: "一日游", visa: "签证" },
                            r = this;
                        var i = false,
                            s = false;
                        $.each(t.content, function(t, o) { this[this.pFunction] = true;
                            this.index = 50 - t;
                            this.pFunctionTxt = n[this.pFunction];
                            this.currentDate = QNR.bookdata.currentDate || QNR.bookdata.minDay;
                            if (this.wifi) {
                                if (!i) { i = true;
                                    this.first = true }
                                this.startTime = QNR.bookdata.minDay;
                                this.endDate = r.parseTime(new Date(DateUtil.parse(this.currentDate).getTime() + (QNR.bookdata.schedule - 1) * 24 * 60 * 60 * 1e3));
                                this.endTime = DateUtil.parse(QNR.bookdata.maxDay) }
                            if (this.oneDayTour) {
                                if (!s) { s = true;
                                    this.first = true }
                                this.startTime = QNR.bookdata.minDay }
                            if (this.visa) { o.detail.visaExpressFeeType = e[o.detail.visaExpressFeeType] || "" } });
                        this.$w.show().html(QTMPL.tieWrapper.render(t));
                        this.dealHtml(t) }, dealHtml: function(e) {
                        var t = this,
                            n = 0,
                            r = 0;
                        $.each(e.content, function(e, t) {
                            if (t.pFunction === "oneDayTour") { r++ }
                            if (t.pFunction === "wifi") { n++ } });
                        var i = $(".wifi_opt:gt(0),.oneDayTour_opt:gt(0)"),
                            s = $("#wifi_more,#oneDayTour_more"),
                            o = $("#wifi_more"),
                            u = $("#one_day_tour_more");
                        i.addClass("hide");
                        s.removeClass("hide");
                        if (r < 2) { u.hide().parent().hide() }
                        if (n < 2) { o.hide().parent().hide() }
                        $(".a_show_more").toggle(function(e) { e.preventDefault();
                            var t = this.getAttribute("data-opt"),
                                n = "." + t + ":gt(0)",
                                r = '收起<i class=" arrow arrow_up"></i>';
                            $(n).removeClass("hide");
                            $(this).html(r);
                            if (t === "wifi_opt") { $(".wifi_opt .wifi_info").removeClass("no_dotted");
                                $(".wifi_opt:last .wifi_info").addClass("no_dotted") } else { $(".oneDayTour_opt .wifi_info").removeClass("no_dotted");
                                $(".oneDayTour_opt:last .wifi_info").addClass("no_dotted") } }, function(e) { e.preventDefault();
                            var t = this.getAttribute("data-opt"),
                                n = "." + t + ":gt(0)",
                                r = '更多<i class=" arrow arrow_down"></i>';
                            $(n).addClass("hide");
                            $(this).html(r);
                            if (t === "wifi_opt") { $(".wifi_opt:first .wifi_info").addClass("no_dotted") } else { $(".oneDayTour_opt:first .wifi_info").addClass("no_dotted") } });
                        $(".oneDayTour_opt:first .wifi_info,.wifi_opt:first .wifi_info").addClass("no_dotted");
                        $.each(e.content, function(e, n) {
                            if (n.pFunction === "oneDayTour") {
                                var r = n.productId,
                                    i = QNR.bookdata.validMonths[0];
                                $.ajax({ url: "/api/calPrices.json", type: "GET", dataType: "json", data: { caller: "confirm", pId: r, month: i, t: (new Date).getTime() } }).done(function(e) { t.cacheOneDayTourParam[r] = e.data.team || [];
                                    var n = "[data-id=" + r + "]",
                                        i = $(n);
                                    var s = i.find('[data-node="startInput"]').val(),
                                        o = i.find('[data-node="startInput"]');
                                    $.each(t.cacheOneDayTourParam[r], function(e, t) {
                                        if (t.date === s) {
                                            var n = t.prices.adultPrice || t.prices.taocan_price || t.prices.marketPrice;
                                            o.parents(".js_i_item").attr("data-price", n).find(".qn_price").attr("data-price", n).html("&yen;" + n).end().find(".js_i_t_price").html("0") } }) }).fail(function() {}) } });
                        if (r === 0) { $($(".e_fold")[1]).css("border-top", "none") }
                        if (n === 0) { $($(".e_fold")[0]).css("border-top", "none") } }, parseTime: function(e) {
                        return e.getFullYear() + "-" + (e.getMonth() + 1) + "-" + e.getDate() }, cacheOneDayTourParam: {}, initEvents: function() {
                        var e = this;
                        this.$w.on("click", ".js_i_cal_btn", function(t) { t.stopPropagation();
                            var n = this.getAttribute("data-type") || "",
                                r = this.getAttribute("data-pid") || "",
                                i = QNR.bookdata.validMonths[0];
                            $(document).trigger("click");
                            var s = $(this),
                                o = s.closest("[data-node=parent]").find(".js_i_cal_w");
                            var u = s.find("input");
                            if (o.is(":hidden")) { o.show();
                                s.addClass("dateshow_active") } else { o.hide();
                                s.removeClass("dateshow_active") }
                            if (s.data("initCalendar")) { s.data("initCalendar").opts.container.show();
                                s.addClass("dateshow_active") } else {
                                if (n === "oneDayTour") { $.ajax({ url: "/api/calPrices.json", type: "GET", dataType: "json", data: { caller: "confirm", pId: r, month: i, t: (new Date).getTime() } }).done(function(t) { e.cacheOneDayTourParam[r] = t.data.team || [];
                                        var n, i;
                                        n = DateUtil.parse($('[name="takeoffDate"]').val()).getTime();
                                        i = n + QNR.bookdata.days * 24 * 60 * 60 * 1e3;
                                        var s, a;
                                        if (t.ret) {
                                            if (t.data.team && t.data.team.length) {
                                                var f = t.data.team.length - 1;
                                                s = DateUtil.parse(t.data.team[0].date).getTime();
                                                a = DateUtil.parse(t.data.team[f].date).getTime() } else { s = t.data.minDay;
                                                a = t.data.maxDay }
                                            i = a < i ? a : i;
                                            n = s > n ? s : n }
                                        $(this).data("initCalendar", e.renderCalendar(o, { start: n, end: i }, u, "oneDayTour")) }).fail(function() {}) } else { $(this).data("initCalendar", e.renderCalendar(o, { start: s.data("start"), end: s.data("end") }, u, "wifi")) } } });
                        $(document).bind("click", function(t) { e.$w.find(".js_i_cal_w").hide();
                            e.$w.find(".js_i_cal_btn").removeClass("dateshow_active") });
                        QNR.event.bind("numChange", $.proxy(function(e, t) { this.change(t) }, this));
                        QNR.event.bind("tieInDateChange", $.proxy(function(e, t) { this.tieInDateChange(t) }, this)) }, total: 2, change: function(e) {
                        if (e.taocanNum) { this.total = (e.adult + e.child) * e.taocanNum } else { this.total = e.adult + e.child + 1 }
                        this.renderSel(e) }, renderSel: function(e) {
                        var t = this;
                        this.$w.find("[data-node=tieInRoot]").each(function() { t.renderSelect($(this), e) }) }, renderSelect: function(e, t) {
                        var n = this;
                        this.eventBind = this.eventBind || false;
                        this.rootDom = e;
                        this.type = this.rootDom.data("prdtype");
                        this.numDom = this.rootDom.find("[data-node=num]");
                        this.num = 0;
                        if (this.type === "oneDayTour") {
                            var r = [];
                            $.each(new Array(n.total || 2), function(e) { r.push('<option value="' + e + '">' + e + "</option>") });
                            this.numDom.empty().append(r.join(""));
                            var i = this.numDom.data("csSelect");
                            i ? i.update() : this.numDom.csSelect({ tpl: $(QTMPL.csSelect.render()).addClass("select_sm").addClass("w50_sel") });
                            if (this.eventBind === false) { this.numDom.change(function() { n.num = $(this).val() - 0;
                                    var e = n.tieInPrdClass.getData();
                                    n.tieInPrdClass.modifySubTotal();
                                    QNR.event.trigger("tie-in-change", { list: e }) });
                                this.eventBind = true } }
                        if (this.type === "visa") {
                            var r = [];
                            var s = 1;
                            var o = ~~t.adult + ~~t.child;
                            var u = this.rootDom.data("st");
                            if ((u == "" ? Infinity : u) >= o) { s = o }
                            r.push('<option value="' + 0 + '">' + 0 + "</option>");
                            s > 0 && r.push('<option value="', s, '">', s, "</option>");
                            this.numDom.empty().append(r.join(""));
                            var i = this.numDom.data("csSelect");
                            i ? i.update() : this.numDom.csSelect({ tpl: $(QTMPL.csSelect.render()).addClass("select_sm").addClass("w50_sel") });
                            i.val(0);
                            n.tieInPrdClass.modifySubTotal();
                            QNR.event.trigger("tie-in-change", { list: temp }) } }, tieInDateChange: function(e) {
                        var t = this;
                        this.$w = $("#js_p_tie_in");
                        if (this.$w && this.$w.length && fromTuan === false) {
                            var n = e.dateStr;
                            $.ajax({ url: "/user/product/bundleproduct/loadRecommendProduct.json?productId=" + QNR.bookdata.pId + "&takeoff_date=" + n, dataType: "json", success: function(e) {
                                    if (e && e.ret && e.data && e.data.content && e.data.totalRows !== 0) { $.each(e.data.content || [], function(e, t) {
                                            if (t.pFunction === "wifi") {
                                                if (t.pickUp) {
                                                    var n = t.pickUp.split(";");
                                                    t.pick_up_arr = n } } }) }
                                    t.initHtml(e.data || {});
                                    t.initTieInPrd();
                                    t.changeDatePicker(n) } }) } }, numberFormat: function(e) {
                        return e < 10 ? "0" + e : e }, changeDatePicker: function(e) {
                        var t = $('[data-node="startInput"]'),
                            n = $('[data-node="endInput"]');
                        var r = e,
                            i, s;
                        s = new Date(DateUtil.parse(e).getTime() + QNR.bookdata.days * 24 * 60 * 60 * 1e3);
                        i = s.getFullYear() + "-" + this.numberFormat(s.getMonth() + 1) + "-" + this.numberFormat(s.getDate());
                        t.val(r).attr("value", r);
                        n.val(i).attr("value", r) }, renderCalendar: function(e, t, n, r) {
                        var i = this,
                            s = false;
                        if (r && r === "wifi") {
                            var o = currentDate = QNR.bookdata.currentDate ? DateUtil.parse(QNR.bookdata.currentDate) : new Date(DateUtil.today().getFullYear(), DateUtil.today().getMonth(), DateUtil.today().getDate()),
                                u = DateUtil.parse(QNR.bookdata.maxDay) } else {
                            if (t) { o = DateUtil.parse(t.start);
                                u = DateUtil.parse(t.end) }
                            s = u }
                        var a = QNR.module.insuranceCalendar.init({ container: e, minDay: o, maxDay: s, currentDay: o, showOtherMonth: false, handler: function(e) { n.val(e);
                                if (r && r === "oneDayTour") {
                                    var t = n.parent().attr("data-pid");
                                    var s = i.cacheOneDayTourParam[t],
                                        o;
                                    $.each(s || [], function(t, n) {
                                        if (DateUtil.parse(n.date).getTime() === DateUtil.parse(e).getTime()) { o = n.prices.adultPrice || n.prices.marketPrice } });
                                    if (o) {
                                        var u = n.parents(".js_i_item").find(".js_i_n_sel").val();
                                        n.parents(".js_i_item").attr("data-price", o).find(".qn_price").attr("data-price", o).html("&yen;" + o).end().find(".js_i_t_price").html(o * u) } }
                                var a = i.tieInPrdClass.getData();
                                i.tieInPrdClass.modifySubTotal();
                                QNR.event.trigger("tie-in-change", { list: a }) }, SHOW_OTHER_MONTH: false });
                        a.init();
                        return a } };
                return { init: function(e) { t.init(e) } } }()) })() }(t.exports, t, e);
    e.____MODULES["ef4186ddfc21ef1c39afe2b0ec2f974c"] = t.exports })(this);
(function(e) {
    var t = { id: "086e1c2edae0cf3158119542cf0d7d7a", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["5a1723ebdb87f37db69effb8e381b942"];
        e.____MODULES["ef4186ddfc21ef1c39afe2b0ec2f974c"] }(t.exports, t, e);
    e.____MODULES["086e1c2edae0cf3158119542cf0d7d7a"] = t.exports })(this);
(function(e) {
    var t = { id: "744518f73a73a98b2a7eb489b1bd99e4", filename: "acWrapper.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acWrapper"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<h1 class="title">');
            r.b("\n" + n);
            r.b('	<span class="tit_name">优惠信息</span>');
            r.b("\n" + n);
            r.b('	<div class="b_order_title" id="js_ac_titleFill" style="display:none;">');
            r.b("\n" + n);
            r.b('		<span class="fill_tip" item="shower"></span>');
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            if (r.s(r.f("isShowTip", e, t, 1), e, t, 0, 197, 329, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('	<div class="coupons">');
                    r.b("\n" + n);
                    r.b('        <span class="icon"><i class="arr"></i>返</span>出行归来点评可获得<em class="value">¥50</em>代金券');
                    r.b("\n" + n);
                    r.b("    </div>");
                    r.b("\n") });
                e.pop() }
            r.b("</h1>");
            r.b("\n" + n);
            r.b('<div class="coupon_box">');
            r.b("\n" + n);
            r.b('	<ul class="coupon js_ac_m_w">');
            r.b("\n" + n);
            r.b('		<li><span class="radio js_ac_r" data-value=""><i class="icon active"></i>不使用任何优惠</span></li>');
            r.b("\n" + n);
            r.b("	</ul>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acWrapper"] }(t.exports, t, e);
    e.____MODULES["744518f73a73a98b2a7eb489b1bd99e4"] = t.exports })(this);
(function(e) {
    var t = { id: "aa29e404a2aa7f1ebd68b8e3f4a1f0c3", filename: "acAlmost.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acAlmost"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<li>");
            r.b("\n" + n);
            r.b('	<div class="cf">');
            r.b("\n" + n);
            r.b('		<span data-value="');
            r.b(r.v(r.f("type", e, t, 0)));
            r.b('" class="radio fl js_ac_r"><i class="icon"></i>');
            r.b(r.v(r.f("title", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b('    <div class="coupons_main" style="display:none;" item="mainW">');
            r.b("\n" + n);
            r.b('		<div class="usetip" item="useTip">');
            r.b(r.v(r.f("useTip", e, t, 0)));
            r.b("</div>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acAlmost"] }(t.exports, t, e);
    e.____MODULES["aa29e404a2aa7f1ebd68b8e3f4a1f0c3"] = t.exports })(this);
(function(e) {
    var t = { id: "6a4375f29761bed25348caab25d1e1e7", filename: "acCash.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acCash"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<li>");
            r.b("\n" + n);
            r.b('	<div class="cf">');
            r.b("\n" + n);
            r.b('		<span class="radio fl js_ac_r" data-value="');
            r.b(r.v(r.f("type", e, t, 0)));
            r.b('"><i class="icon"></i>使用现金红包</span>');
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("    ");
            r.b("\n" + n);
            r.b('    <div class="coupons_main" item="mainW" style="display:none;"> ');
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('    	<div class="textbtngroup2 cf" item="inputW" style="display:none;">');
            r.b("\n" + n);
            r.b('		  <input type="text" class="text" value="" item="customCode">');
            r.b("\n" + n);
            r.b('		  <div style="float:left;" id="js_scode_blk"></div>');
            r.b("\n" + n);
            r.b('		  <span class="btn disabled" item="add" data-disabled=\'true\'>使用</span>');
            r.b("\n" + n);
            r.b('		  <em class="warnico"></em>');
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            r.b("		");
            r.b("\n" + n);
            r.b('		<div class="textbtngroup_alert" item="errorMsg" style="display:none;"></div>');
            r.b("\n" + n);
            r.b('		<div class="usetip">现金红包可累计使用，现金红包只能用于消费，不可兑换现金</div>');
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('	    <div class="coupon_all" item="loginW" style="display:none;">');
            r.b("\n" + n);
            r.b("	    	<p>现金红包列表</p>");
            r.b("\n" + n);
            r.b('	        <ul class="coupon_all_list" item="list">');
            r.b("\n" + n);
            r.b('	        	<li class="tit">');
            r.b("\n" + n);
            r.b('	            	<span class="id">券号</span>');
            r.b("\n" + n);
            r.b('	                <span class="price">面值</span>');
            r.b("\n" + n);
            r.b('	                <span class="date">有效截止日期</span>');
            r.b("\n" + n);
            r.b('	                <span class="ope">使用</span>');
            r.b("\n" + n);
            r.b('	                <span class="price">优惠的金额</span>');
            r.b("\n" + n);
            r.b("	            </li>");
            r.b("\n" + n);
            r.b("	        </ul>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	    ");
            r.b("\n" + n);
            r.b('	    <div class="coupon_all" item="logoutW" style="display:none;">');
            r.b("\n" + n);
            r.b('	    	<div class="login_tip" item="login">请<a class="blue" href="">登录</a>查看已绑定现金红包</div>');
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	    ");
            r.b("\n" + n);
            r.b('	    <div class="coupon_tip cf" item="tipW" style="display:none;">');
            r.b("\n" + n);
            r.b('	    	<div class="e_agiolist_help">');
            r.b("\n" + n);
            r.b('    			<div class="help_name">现金红包使用说明</div>');
            r.b("\n" + n);
            r.b('    			<div style="display: none;" item="descTip" class="pop_tips">');
            r.b("\n" + n);
            r.b("    				<p><strong>现金红包使用说明</strong></p>");
            r.b("\n" + n);
            r.b("					<p>1、此单品的现金红包抵扣活动仅限持有现金红包用户参与</p>");
            r.b("\n" + n);
            r.b("					<p>2、每订单可使用多张现金红包，若现金红包金额大于订单需支付商品金额，差额将退回</p>");
            r.b("\n" + n);
            r.b("					<p>3、现金红包只能用于消费，不可兑换现金</p>");
            r.b("\n" + n);
            r.b("					<p>4、使用现金红包的订单，如发生退款，红包先于支付的现金先行做操作退款，且红包退款的到账时间早于支付的现金的退款</p>");
            r.b("\n" + n);
            r.b("					<p>5、使用现金红包后，未付款情况下取消订单，该现金红包可再次使用</p>");
            r.b("\n" + n);
            r.b("					<p>6、使用现金红包的订单，现金红包部分金额不能开具发票</p>");
            r.b("\n" + n);
            r.b("					<p>7、保险订单金额参与优惠活动</p>");
            r.b("\n" + n);
            r.b('    				<div class="caret_tl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("				</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b('			<div class="e_agiolist_help">');
            r.b("\n" + n);
            r.b('				<div class="help_name"><strong>店铺现金红包使用说明</strong></div>');
            r.b("\n" + n);
            r.b('				<div class="pop_tips" item="descTip" style="display: none;">');
            r.b("\n" + n);
            r.b("					<p><strong>店铺现金红包使用说明</strong></p>");
            r.b("\n" + n);
            r.b("					<p>1、店铺现金红包只支持红包所归属的店铺使用</p>");
            r.b("\n" + n);
            r.b("					<p>2、不支持余额</p>");
            r.b("\n" + n);
            r.b("					<p>3、不支持同一商家，同一订单多张店铺现金红包一起使用</p>");
            r.b("\n" + n);
            r.b("					<p>4、支持店铺现金红包与度假其他现金红包同时使用</p>");
            r.b("\n" + n);
            r.b("					<p>5、店铺现金红包可抵订单金额</p>");
            r.b("\n" + n);
            r.b("					<p>6、店铺现金红包不可与Qunar网站其他优惠同时使用</p>");
            r.b("\n" + n);
            r.b("					<p>7、使用店铺现金红包购买产品如退款，店铺现金红包的退款金额作废</p>");
            r.b("\n" + n);
            r.b('					<div class="caret_tl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("				</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	</div>    ");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acCash"] }(t.exports, t, e);
    e.____MODULES["6a4375f29761bed25348caab25d1e1e7"] = t.exports })(this);
(function(e) {
    var t = { id: "b5376aede840f024bb5dc29e19422adf", filename: "acTenCash.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acTenCash"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<li>");
            r.b("\n" + n);
            r.b('	<div class="cf">');
            r.b("\n" + n);
            r.b('		<span class="radio fl js_ac_r" data-value="');
            r.b(r.v(r.f("type", e, t, 0)));
            r.b('"><i class="icon"></i>使用');
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("    ");
            r.b("\n" + n);
            r.b('    <div class="coupons_main" item="mainW" style="display:none;"> ');
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('    	<div class="textbtngroup2 cf" item="inputW" style="display:none;">');
            r.b("\n" + n);
            r.b('		  <input type="text" class="text" value="" item="customCode">');
            r.b("\n" + n);
            r.b('		  <div style="float:left;" id="js_scode_blk_ten"></div>');
            r.b("\n" + n);
            r.b('		  <span class="btn disabled" item="add" data-disabled=\'true\'>使用</span>');
            r.b("\n" + n);
            r.b('		  <em class="warnico"></em>');
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            r.b("		");
            r.b("\n" + n);
            r.b('		<div class="textbtngroup_alert" item="errorMsg" style="display:none;"></div>');
            r.b("\n" + n);
            r.b('		<div class="usetip">');
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("不可累计使用，且只能用于消费，不可兑换现金</div>");
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('	    <div class="coupon_all" item="loginW" style="display:none;">');
            r.b("\n" + n);
            r.b("	    	<p>");
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("列表</p>");
            r.b("\n" + n);
            r.b('	        <ul class="coupon_all_list" item="list">');
            r.b("\n" + n);
            r.b('	        	<li class="tit">');
            r.b("\n" + n);
            r.b('                    <span class="id">红包编号</span>');
            r.b("\n" + n);
            r.b('                    <span class="date">有效期</span>');
            r.b("\n" + n);
            r.b('                    <span class="price">面值</span>');
            r.b("\n" + n);
            r.b('                    <span class="price">实际可用金额</span>');
            r.b("\n" + n);
            r.b('                    <span class="ope">选择</span>');
            r.b("\n" + n);
            r.b("	            </li>");
            r.b("\n" + n);
            r.b("	        </ul>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	    ");
            r.b("\n" + n);
            r.b('	    <div class="coupon_all" item="logoutW" style="display:none;">');
            r.b("\n" + n);
            r.b('	    	<div class="login_tip" item="login">请<a class="blue" href="">登录</a>查看已绑定');
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("</div>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	    ");
            r.b("\n" + n);
            r.b('	    <div class="coupon_tip cf" item="tipW" style="display:none;">');
            r.b("\n" + n);
            r.b('	    	<div class="e_agiolist_help">');
            r.b("\n" + n);
            r.b('    			<div class="help_name">');
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("使用说明</div>");
            r.b("\n" + n);
            r.b('    			<div style="display: none;" item="descTip" class="pop_tips">');
            r.b("\n" + n);
            r.b("    				<p><strong>");
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("使用说明</strong></p>");
            r.b("\n" + n);
            r.b("					<p>1、此单品的");
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("抵扣活动仅限持有");
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("用户参与</p>");
            r.b("\n" + n);
            r.b("					<p>2、每订单可使用1张");
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("，若");
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("金额大于订单需支付商品金额，差额将退回</p>");
            r.b("\n" + n);
            r.b("					<p>3、");
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("只能用于消费，不可兑换现金</p>");
            r.b("\n" + n);
            r.b("					<p>4、使用");
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("的订单，如发生退款，红包先于支付的现金先行做操作退款，且红包退款的到账时间早于支付的现金的退款</p>");
            r.b("\n" + n);
            r.b("					<p>5、使用");
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("后，未付款情况下取消订单，该");
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("可再次使用</p>");
            r.b("\n" + n);
            r.b("					<p>6、使用");
            r.b(r.v(r.f("name", e, t, 0)));
            r.b("的订单，红包部分的金额不能开具发票</p>");
            r.b("\n" + n);
            r.b("					<p>7、保险订单金额不参与优惠活动</p>");
            r.b("\n" + n);
            r.b('    				<div class="caret_tl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("				</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	</div>    ");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acTenCash"] }(t.exports, t, e);
    e.____MODULES["b5376aede840f024bb5dc29e19422adf"] = t.exports })(this);
(function(e) {
    var t = { id: "a2ec55c0173ce59fd281b534dc091dc3", filename: "scode.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["scode"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div style="height:35px; line-height:35px; float:left; padding:0px 8px;">请输入验证码</div>');
            r.b("\n" + n);
            r.b('<div style="padding-right:8px; float:left;">');
            r.b("\n" + n);
            r.b('	<input type="text" class="text" value="" id="js_scode_input" style="width:80px;">');
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b('<div style="padding-right:8px; float:left;">');
            r.b("\n" + n);
            r.b('	<img style="width:80px;height:35px;" src="');
            r.b(r.v(r.f("url", e, t, 0)));
            r.b('" id="js_scode_imgs">');
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["scode"] }(t.exports, t, e);
    e.____MODULES["a2ec55c0173ce59fd281b534dc091dc3"] = t.exports })(this);
(function(e) {
    var t = { id: "1b0fb4135936343a47fb4231e46bef13", filename: "acCashItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acCashItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<li class="item js_ac_l_item" data-code="');
            r.b(r.v(r.f("cash_code", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('	<span class="id">');
            r.b(r.v(r.f("cash_code", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="price">¥');
            r.b(r.v(r.f("balance", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="date">');
            r.b(r.v(r.f("expired_time", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="ope"><i class="checkbox_sl ');
            if (r.s(r.f("used", e, t, 1), e, t, 0, 240, 255, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("checkbox_active") });
                e.pop() }
            r.b(' js_ac_l_chk" data-code="');
            r.b(r.v(r.f("cash_code", e, t, 0)));
            r.b('"></i></span>');
            r.b("\n" + n);
            r.b('    <span class="price orange">¥');
            r.b(r.v(r.f("balance", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acCashItem"] }(t.exports, t, e);
    e.____MODULES["1b0fb4135936343a47fb4231e46bef13"] = t.exports })(this);
(function(e) {
    var t = { id: "2f10000e18c747b5c53f92174aa10c05", filename: "acTenCashItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acTenCashItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<li class="item js_ac_l_item" data-code="');
            r.b(r.v(r.f("cash_code", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('	<span class="id">');
            r.b(r.v(r.f("cash_code", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="date">');
            r.b(r.v(r.f("expired_time", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="price">¥');
            r.b(r.v(r.f("balance", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="price orange">¥');
            r.b(r.v(r.f("Practical", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="ope"><i class="radio_sl ');
            if (r.s(r.f("used", e, t, 1), e, t, 0, 290, 302, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("radio_active") });
                e.pop() }
            r.b(' js_ac_l_chk" data-code="');
            r.b(r.v(r.f("cash_code", e, t, 0)));
            r.b('"></i></span>');
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acTenCashItem"] }(t.exports, t, e);
    e.____MODULES["2f10000e18c747b5c53f92174aa10c05"] = t.exports })(this);
(function(e) {
    var t = { id: "f14e9cc1343d12ed40cce8d1e329b9a5", filename: "acCoupon.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acCoupon"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<li>");
            r.b("\n" + n);
            r.b('	<div class="cf">');
            r.b("\n" + n);
            r.b('		<span class="radio fl js_ac_r" data-value="');
            r.b(r.v(r.f("type", e, t, 0)));
            r.b('"><i class="icon"></i>使用代金券</span>');
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("    ");
            r.b("\n" + n);
            r.b('    <div class="coupons_main" item="mainW" style="display:none;"> ');
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('    	<div class="textbtngroup" item="inputW" style="display:none;">');
            r.b("\n" + n);
            r.b('          <input type="text" class="text" value="" item="customCode">');
            r.b("\n" + n);
            r.b('          <span class="btn disabled" item="add" data-disabled=\'true\'>使用</span>');
            r.b("\n" + n);
            r.b('          <em class="warnico"></em>');
            r.b("\n" + n);
            r.b("    	</div>");
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('    	<div class="textbtngroup_alert" item="errorMsg" style="display:none;"></div>');
            r.b("\n" + n);
            r.b('    	<div class="usetip" item="message" style="display:none;"></div>');
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('	    <div class="coupon_all" item="loginW" style="display:none;">');
            r.b("\n" + n);
            r.b("	    	<p>代金券列表</p>");
            r.b("\n" + n);
            r.b('	        <ul class="coupon_all_list" item="list">');
            r.b("\n" + n);
            r.b('	        	<li class="tit">');
            r.b("\n" + n);
            r.b('	            	<span class="id">代金券编号</span>');
            r.b("\n" + n);
            r.b('	            	<span class="date">有效期</span>');
            r.b("\n" + n);
            r.b('	                <span class="price">面值</span>');
            r.b("\n" + n);
            r.b('	                <span class="price">实际可用金额</span>');
            r.b("\n" + n);
            r.b('	                <span class="ope">选择</span>');
            r.b("\n" + n);
            r.b("	            </li>");
            r.b("\n" + n);
            r.b("	        </ul>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	    ");
            r.b("\n" + n);
            r.b('	    <div class="coupon_all" item="logoutW" style="display:none;">');
            r.b("\n" + n);
            r.b('	    	<div class="login_tip" item="login">请<a class="blue" href="">登录</a>查看已绑定代金券</div>');
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	    ");
            r.b("\n" + n);
            r.b('	    <div class="coupon_tip cf" item="tipW" style="display:none;">');
            r.b("\n" + n);
            r.b('	    	<div class="e_agiolist_help">');
            r.b("\n" + n);
            r.b('    			<div class="help_name">代金券使用说明</div>');
            r.b("\n" + n);
            r.b('    			<div style="display: none;" item="descTip" class="pop_tips">');
            r.b("\n" + n);
            r.b("    				<p><strong>代金券使用说明</strong></p>");
            r.b("\n" + n);
            r.b("    				<p>1、此团品的代金券抵扣活动仅限持有代金券用户参与</p>");
            r.b("\n" + n);
            r.b("    				<p>2、每订单仅限使用一张代金券，抵用金额以订单页页面说明为准</p>");
            r.b("\n" + n);
            r.b("    				<p>3、代金券只能用于消费，不可兑换现金</p>");
            r.b("\n" + n);
            r.b("    				<p>4、每张代金券只能使用一次，使用后自动作废</p>");
            r.b("\n" + n);
            r.b("    				<p>5、使用代金券的订单，代金券部分金额不能开具发票</p>");
            r.b("\n" + n);
            r.b('    				<div class="caret_tl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("				</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('	    <div class="coupon_tip cf" item="tipW" style="display:none;">');
            r.b("\n" + n);
            r.b('	    	<div class="e_agiolist_help">');
            r.b("\n" + n);
            r.b('    			<div class="help_name">产品代金券使用说明</div>');
            r.b("\n" + n);
            r.b('    			<div style="display: none;" item="descTip" class="pop_tips">');
            r.b("\n" + n);
            r.b("    				<p><strong>商户现金券使用说明</strong></p>");
            r.b("\n" + n);
            r.b("    				<p>1、指定产品&商铺&产品类型代金券抵扣活动仅限持有代金券用户参与且仅针对特定产品&店铺&产品类型可以使用</p>");
            r.b("\n" + n);
            r.b("    				<p>2、每个订单仅限使用一张代金券，抵用金额以订单页页面说明为准</p>");
            r.b("\n" + n);
            r.b("    				<p>3、产品&商铺&产品类型代金券可抵订单金额，只能用于消费，不可兑换现金</p>");
            r.b("\n" + n);
            r.b("    				<p>4、使用代金券的订单，代金券部分金额不能开具发票</p>");
            r.b("\n" + n);
            r.b("    				<p>5、产品&商铺&产品类型代金券不可与度假其他优惠同时使用</p>");
            r.b("\n" + n);
            r.b("    				<p>6、每张代金券只能使用一次，使用后自动作废</p>");
            r.b("\n" + n);
            r.b('    				<div class="caret_tl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("				</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	</div>    ");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acCoupon"] }(t.exports, t, e);
    e.____MODULES["f14e9cc1343d12ed40cce8d1e329b9a5"] = t.exports })(this);
(function(e) {
    var t = { id: "937b0f75d09ab41f3dc40968a7a20039", filename: "acChinaDream.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acChinaDream"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<li>");
            r.b("\n" + n);
            r.b('	<div class="cf">');
            r.b("\n" + n);
            r.b('		<span class="radio fl js_ac_r" data-value="');
            r.b(r.v(r.f("type", e, t, 0)));
            r.b('"><i class="icon"></i>“去哪儿都有中国梦”红包<span class="orange">&nbsp;2014年11月1日0时起至11月30日24点可使用</span></span>');
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("    ");
            r.b("\n" + n);
            r.b('    <div class="coupons_main" item="mainW" style="display:none;"> ');
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('    	<div class="textbtngroup" item="inputW" style="display:none;">');
            r.b("\n" + n);
            r.b('          <input type="text" class="text" value="" item="customCode">');
            r.b("\n" + n);
            r.b('          <span class="btn disabled" item="add" data-disabled=\'true\'>使用</span>');
            r.b("\n" + n);
            r.b('          <em class="warnico"></em>');
            r.b("\n" + n);
            r.b("    	</div>");
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('    	<div class="textbtngroup_alert" item="errorMsg" style="display:none;"></div>');
            r.b("\n" + n);
            r.b('    	<div class="usetip" item="message" style="display:none;"></div>');
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('	    <div class="coupon_all" item="loginW" style="display:none;">');
            r.b("\n" + n);
            r.b("	    	<p>“去哪儿都有中国梦”红包列表</p>");
            r.b("\n" + n);
            r.b('	        <ul class="coupon_all_list" item="list">');
            r.b("\n" + n);
            r.b('	        	<li class="tit">');
            r.b("\n" + n);
            r.b('	            	<span class="id">红包编号</span>');
            r.b("\n" + n);
            r.b('	            	<span class="date">有效期</span>');
            r.b("\n" + n);
            r.b('	                <span class="price">面值</span>');
            r.b("\n" + n);
            r.b('	                <span class="price">实际可用金额</span>');
            r.b("\n" + n);
            r.b('	                <span class="ope">选择</span>');
            r.b("\n" + n);
            r.b("	            </li>");
            r.b("\n" + n);
            r.b("	        </ul>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	    ");
            r.b("\n" + n);
            r.b('	    <div class="coupon_all" item="logoutW" style="display:none;">');
            r.b("\n" + n);
            r.b('	    	<div class="login_tip" item="login">请<a class="blue" href="">登录</a>查看已绑定“去哪儿都有中国梦”红包</div>');
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	    ");
            r.b("\n" + n);
            r.b('	    <div class="coupon_tip cf" item="tipW" style="display:none;">');
            r.b("\n" + n);
            r.b('	    	<div class="e_agiolist_help">');
            r.b("\n" + n);
            r.b('    			<div class="help_name">使用说明</div>');
            r.b("\n" + n);
            r.b('    			<div style="display: none;" item="descTip" class="pop_tips">');
            r.b("\n" + n);
            r.b("    				<p><strong>“去哪儿都有中国梦”红包使用说明</strong></p>");
            r.b("\n" + n);
            r.b("    				<p>1、仅限持有“去哪儿都有中国梦”红包用户参与</p>");
            r.b("\n" + n);
            r.b("    				<p>2、每订单仅限使用一张红包，抵用金额以订单页页面说明为准</p>");
            r.b("\n" + n);
            r.b("    				<p>3、红包只能用于消费，不可兑换现金</p>");
            r.b("\n" + n);
            r.b("    				<p>4、每张红包只能使用一次，使用后自动作废</p>");
            r.b("\n" + n);
            r.b("    				<p>5、使用红包的订单，红包部分金额不能开具发票</p>");
            r.b("\n" + n);
            r.b('    				<div class="caret_tl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("				</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("	</div>    ");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acChinaDream"] }(t.exports, t, e);
    e.____MODULES["937b0f75d09ab41f3dc40968a7a20039"] = t.exports })(this);
(function(e) {
    var t = { id: "e17f7b0cc789cc60619df9bd259bd048", filename: "acCouponItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acCouponItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<li class="item js_ac_l_item">');
            r.b("\n" + n);
            r.b('	<span class="id">');
            r.b(r.v(r.f("code", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('	<span class="date">');
            r.b(r.v(r.f("date", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="price">¥');
            r.b(r.v(r.f("credit", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="price orange">¥');
            r.b(r.v(r.f("use_amount", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="ope">');
            r.b("\n" + n);
            r.b('		<i class="radio_sl ');
            if (r.s(r.f("isChecked", e, t, 1), e, t, 0, 256, 268, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("radio_active") });
                e.pop() }
            r.b(' js_co_r" data-code="');
            r.b(r.v(r.f("code", e, t, 0)));
            r.b('" ');
            if (r.s(r.f("isDisabled", e, t, 1), e, t, 0, 328, 348, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('data-disabled="true"') });
                e.pop() }
            r.b("></i>");
            r.b("\n" + n);
            r.b("	</span>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acCouponItem"] }(t.exports, t, e);
    e.____MODULES["e17f7b0cc789cc60619df9bd259bd048"] = t.exports })(this);
(function(e) {
    var t = { id: "27f1e2416d2fbac503da621298d6b1e4", filename: "acRentCar.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acRentCar"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="remind">');
            r.b("\n" + n);
            r.b("    <span>温馨提示：</span>");
            r.b("\n" + n);
            r.b("    <p>1.本产品不支持使用红包和代金券；</p>");
            r.b("\n" + n);
            r.b("    <p>2.由于车辆有限，建议您下单前与租车公司【");
            r.b(r.v(r.f("company", e, t, 0)));
            r.b("】联系确认是否有车，联系电话");
            r.b(r.v(r.f("phone", e, t, 0)));
            r.b("；</p>");
            r.b("\n" + n);
            r.b("    <p>3.请您在去哪儿网网上完成支付，如线下当面把款项付给供应商，可能导致租车失败。</p>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acRentCar"] }(t.exports, t, e);
    e.____MODULES["27f1e2416d2fbac503da621298d6b1e4"] = t.exports })(this);
(function(e) {
    var t = { id: "eb622739738dc5acc9737ad789907aaa", filename: "acChinaItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acChinaItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("\n" + n);
            r.b('<li class="item js_ac_l_item">');
            r.b("\n" + n);
            r.b('	<span class="id">');
            r.b(r.v(r.f("code", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('	<span class="date">');
            r.b(r.v(r.f("date", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="price">¥');
            r.b(r.v(r.f("credit", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="price orange">¥');
            r.b(r.v(r.f("use_amount", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="ope">');
            r.b("\n" + n);
            r.b('		<i class="radio_sl ');
            if (r.s(r.f("isChecked", e, t, 1), e, t, 0, 257, 269, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("radio_active") });
                e.pop() }
            r.b(' js_co_r" data-code="');
            r.b(r.v(r.f("code", e, t, 0)));
            r.b('" ');
            if (r.s(r.f("isDisabled", e, t, 1), e, t, 0, 329, 349, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('data-disabled="true"') });
                e.pop() }
            r.b("></i>");
            r.b("\n" + n);
            r.b("	</span>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acChinaItem"] }(t.exports, t, e);
    e.____MODULES["eb622739738dc5acc9737ad789907aaa"] = t.exports })(this);
(function(e) {
    var t = { id: "ff52a21ac375f3d52a82586dd24e0bb6", filename: "acShopReduction.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acShopReduction"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<li>");
            r.b("\n" + n);
            r.b('	<div class="cf">');
            r.b("\n" + n);
            r.b('		<span class="radio fl js_ac_r" data-value="');
            r.b(r.v(r.f("type", e, t, 0)));
            r.b('"><i class="icon"></i>使用店铺满减</span>');
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("    ");
            r.b("\n" + n);
            r.b('    <div class="coupons_main" item="mainW" style="display:none;"> ');
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('    	<div class="textbtngroup_alert" item="errorMsg" style="display:none;"></div>');
            r.b("\n" + n);
            r.b('    	<div class="usetip" item="message" style="display:none;"></div>');
            r.b("\n" + n);
            r.b("    	");
            r.b("\n" + n);
            r.b('	    <div class="coupon_all" item="loginW" style="display:none;">');
            r.b("\n" + n);
            r.b("	    	<p>可充抵满减券列表（未达到满减条件的券不会展示）</p>");
            r.b("\n" + n);
            r.b('	        <ul class="coupon_all_list" item="list">');
            r.b("\n" + n);
            r.b('	        	<li class="tit">');
            r.b("\n" + n);
            r.b('                    <span class="price w145">面值</span>');
            r.b("\n" + n);
            r.b('	            	<span class="date w145">有效截止期</span>');
            r.b("\n" + n);
            r.b('	                <span class="ope">使用</span>');
            r.b("\n" + n);
            r.b('	                <span class="price">优惠金额</span>	                ');
            r.b("\n" + n);
            r.b("	            </li>");
            r.b("\n" + n);
            r.b("	        </ul>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('        <div class="coupon_all" item="logoutW" style="display:none;">');
            r.b("\n" + n);
            r.b('            <div class="login_tip" item="login">请<a class="blue" href="">登录</a>查看已绑定代金券</div>');
            r.b("\n" + n);
            r.b("        </div>        ");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('	    <div class="coupon_tip cf" item="tipW" style="display:none;">');
            r.b("\n" + n);
            r.b('	    	<div class="e_agiolist_help">');
            r.b("\n" + n);
            r.b('    			<div class="help_name">店铺满减使用说明</div>');
            r.b("\n" + n);
            r.b('    			<div style="display: none;" item="descTip" class="pop_tips">');
            r.b("\n" + n);
            r.b("    				<p><strong>店铺满减使用说明</strong></p>");
            r.b("\n" + n);
            r.b("    				<p>1、店铺满减只支持红包所归属的店铺使用;</p>");
            r.b("\n" + n);
            r.b("    				<p>2、店铺满减可抵订单金额,同一订单只能使用一个店铺满减;</p>");
            r.b("\n" + n);
            r.b("    				<p>3、店铺满减不可与Qunar网站其他优惠同时使用;</p>");
            r.b("\n" + n);
            r.b("    				<p>4、使用店铺满减购买产品后，如发生退款,使用的店铺满减不可退</p>");
            r.b("\n" + n);
            r.b('    				<div class="caret_tl"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("				</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b("	</div>    ");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acShopReduction"] }(t.exports, t, e);
    e.____MODULES["ff52a21ac375f3d52a82586dd24e0bb6"] = t.exports })(this);
(function(e) {
    var t = { id: "c5e08174d5d4004f574a678fa2c1920a", filename: "acShopReductionItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["acShopReductionItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<li class="item js_ac_l_item">	');
            r.b("\n" + n);
            r.b('    <span class="price w145">');
            r.b(r.v(r.f("reduceRuleName", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="date w145">');
            r.b(r.v(r.f("expiredDate", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('    <span class="ope">');
            r.b("\n" + n);
            r.b('		<i class="radio_sl ');
            if (r.s(r.f("isChecked", e, t, 1), e, t, 0, 196, 208, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("radio_active") });
                e.pop() }
            r.b(' js_co_r" data-code="');
            r.b(r.v(r.f("promoteCode", e, t, 0)));
            r.b('" ');
            if (r.s(r.f("isDisabled", e, t, 1), e, t, 0, 275, 295, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('data-disabled="true"') });
                e.pop() }
            r.b("></i>");
            r.b("\n" + n);
            r.b("	</span>    ");
            r.b("\n" + n);
            r.b('    <span class="price orange">¥');
            r.b(r.v(r.f("price", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["acShopReductionItem"] }(t.exports, t, e);
    e.____MODULES["c5e08174d5d4004f574a678fa2c1920a"] = t.exports })(this);
(function(e) {
    var t = { id: "ae85617b6bc0af0111e2bc526ae06cf5", filename: "ac-cash.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.cash", function() {
                var e = function() {
                    var e = {},
                        t = false,
                        n = $('<input type="hidden" name="cashes" />'),
                        r, i = [],
                        s = [];
                    var o = [],
                        u = {},
                        a = 0;
                    var f = {};
                    var l = {};
                    var c = { ScodeIsInit: null, init: function() {
                            if (!t) { this.build();
                                this.bindEvents();
                                this.onNumberTip();
                                t = true } }, build: function() { this.sId = QNR.bookdata.supplierId;
                            this.cClass = "checkbox_active";
                            this.dClass = "disabled";
                            r = $(QTMPL.acCash.render({ type: "CASH" })).appendTo($(".js_ac_m_w"));
                            r.find("[item]").each(function() { e[this.getAttribute("item")] = $(this) });
                            $("#confirmOrder").append(n) }, bindEvents: function() {
                            var t = this;
                            QNR.event.bind("numChange", function(e, n) { t.showWhetherLogin();
                                t.getList() });
                            QNR.event.bind("user-login", function() { t.showWhetherLogin();
                                t.getList() });
                            e.login.find("a").bind("click", function(e) { e.preventDefault();
                                QNR.event.trigger("pop-login-window") });
                            e.customCode.bind("keydown", function(e) {
                                if (e.keyCode == 13) { t.add() } else if (e.keyCode == 8) { t.hideErrorMsg() } });
                            e.customCode.on("focus", function() { t.hideErrorMsg() });
                            e.add.on("click", function(e) { e.preventDefault();
                                if ($(this).data("disabled") === true) {
                                    return }
                                t.add() });
                            r.on("mouseenter mouseleave", ".e_agiolist_help", function(e) {
                                switch (e && e.type) {
                                    case "mouseenter":
                                        $(this).find('[item="descTip"]').show();
                                        break;
                                    case "mouseleave":
                                        $(this).find('[item="descTip"]').hide();
                                        break } });
                            r.on("click", ".js_ac_l_item", function(e) { e.stopPropagation();
                                var t = $(this).find(".js_ac_l_chk");
                                t.length && t.trigger("click") });
                            r.on("click", ".js_ac_l_chk", function(e) { e.stopPropagation();
                                var i = $(this),
                                    f = !!i.data("selected"),
                                    l = i.data("code");
                                if (i.data("disabled") === true) {
                                    return }
                                var c = t.getPriceData(),
                                    h = c.noAcTotal;
                                switch (f) {
                                    case false:
                                        for (var p = 0; p < o.length; p++) {
                                            if (o[p].code == l) {
                                                if (a < h) { i.addClass(t.cClass).data("selected", true);
                                                    a += o[p].balance;
                                                    s.push(o[p]);
                                                    u[o[p].code].used = true } } }
                                        break;
                                    case true:
                                        i.removeClass(t.cClass).data("selected", false);
                                        for (var p = 0; p < o.length; p++) {
                                            if (o[p].code == l) { s.splice(p, 1);
                                                a -= o[p].balance;
                                                u[o[p].code].used = false } }
                                        break }
                                if (a >= h) { r.find(".js_ac_l_chk").each(function() {
                                        var e = $(this),
                                            n = e.data("selected");
                                        if (n === false) { e.addClass(t.dClass).data("disabled", true) } }) }
                                if (a < h) { r.find(".js_ac_l_chk").each(function() {
                                        var e = $(this),
                                            n = e.data("disabled");
                                        if (n === true) { e.data("disabled", false).removeClass(t.dClass) } }) }
                                var d = [];
                                for (var p = 0; p < o.length; p++) {
                                    if ((k = u[o[p].code]).used) { d.push({ cash_code: k.code, balance: k.balance * 100 }) } }
                                n.val(JSON.stringify(d));
                                s = d;
                                t.resetPrice(a);
                                t.hideErrorMsg();
                                return false }) }, onNumberTip: function(t) {
                            var n = e.customCode;
                            n.numberTip && n.numberTip({ rule: "FOUR", tipsEl: $(QTMPL.numberTip.render({ mclass: "num_yh" })), change: function(e) { e ? this.config.tipsEl.text(e) : this.config.tipsEl.hide() } }) }, render: function(t, r) {
                            var i = this.getPriceData(),
                                o = i.noAcTotal;
                            var f = this,
                                l = [];
                            if (!t.length) { t = [t] }
                            for (var c = 0; c < t.length; c++) {
                                var h = (t[c].balance || 0) - 0;
                                if (o <= a) { t[c].used = false;
                                    u[t[c].code].used = false;
                                    break }
                                if (h == 0) {
                                    continue }
                                a += h;
                                t[c].used = true;
                                l.push(QTMPL.acCashItem.render(t[c]));
                                s.push({ cash_code: r || t[c].code, balance: t[c].balance * 100 }) }
                            n.val(JSON.stringify(s));
                            if (l.length) {
                                var p = $(l.join(""));
                                e.loginW.show();
                                e.list.show().append(p);
                                p.find(".js_ac_l_chk").each(function() {
                                    var e = $(this);
                                    e.hasClass(f.cClass) ? e.data("selected", true) : e.data("selected", false) }) } else { e.loginW.hide();
                                e.list.hide() }
                            this.resetPrice(a) }, resetPrice: function(e) { QNR.event.trigger("activity-change", { type: "CASH", price: e }) }, show: function() { e.mainW.show();
                            e.tipW.show();
                            e.add.removeClass("disabled").data("disabled", false);
                            this.resetPrice(a);
                            this.showWhetherLogin();
                            this.getList() }, showWhetherLogin: function() {
                            if (QNR.module.login.isLogin()) { e.logoutW.hide();
                                e.inputW.show() } else { e.loginW.hide();
                                e.logoutW.show();
                                e.inputW.show() } }, hide: function() { n.val("");
                            e.add.addClass("disabled").data("disabled", true);
                            e.mainW.hide();
                            e.inputW.hide() }, getList: function() {
                            if (this.isCurrent() && QNR.module.login.isLogin()) {
                                var t = this;
                                this.resetPrice(a);
                                this.load({ url: "", newUrl: "/cash/myCashList.json", needShowMsg: false, callback: function(n) {
                                        if (!n || !n.length) { e.loginW.hide();
                                            return }
                                        for (var r = 0; r < n.length; r++) {
                                            var i = n[r].cash_code;
                                            u[i] = o[r] = n[r];
                                            n[r].used = n[r].used || false;
                                            n[r].code = i }
                                        a = 0;
                                        e.list.find(".js_ac_l_item").remove();
                                        t.render(n) } }) } }, add: function() {
                            var t = this,
                                n = true;
                            var r = $.trim(e.customCode.val());
                            if (!r) { this.showErrorMsg("请输入现金红包码");
                                return }
                            var i = this.getPriceData();
                            if (i.clientPay == 0) { n = false;
                                t.showErrorMsg("该订单已无需使用新红包") } else { t.hideErrorMsg() }
                            if (!n) {
                                return }
                            if (u[r]) { t.showErrorMsg("很抱歉，该红包已存在于列表中，请确认后重新输入");
                                return }
                            var s = ["code=" + encodeURIComponent(r)];
                            if (this.ScodeIsInit !== null) { s.push("yzm=" + $("#js_scode_input").val(), "challenge=" + this.ScodeIsInit.challenge) }
                            this.sId && s.push("supplierId=" + this.sId);
                            var a = "/cash/secure/query.json?" + s[0];
                            var l = "/cash/secure/query.json?" + s.join("&");
                            if (f[a]) {
                                return }
                            f[a] = true;
                            this.load({ url: a, newUrl: l, needShowMsg: true, callback: function(n) { o.push($.extend(true, { code: r, used: true }, n));
                                    u[r] = o[o.length - 1];
                                    if ((k = u[r]) && parseInt(u[r].balance, 10) == 0) { window.dlg("现金券（" + k.code + "）当前不可用");
                                        return }
                                    n.code = r;
                                    n.cash_code = r;
                                    n.expired_time = n.expired_time + "";
                                    if (n.expired_time.length > 10) {
                                        var i = new Date,
                                            s = n.expired_time;
                                        i.setTime(s);
                                        var a = i.getFullYear() + "",
                                            f = i.getMonth() + 1 + "",
                                            l = i.getDate() + "";
                                        f = f.length < 2 ? "0" + f : f;
                                        l = l.length < 2 ? "0" + l : l;
                                        n.expired_time = a + "-" + f + "-" + l }
                                    t.render(n, r);
                                    if (o[o.length - 1].code == r) { e.customCode.val("") } } }) }, renderScode: function() {
                            if (c.ScodeIsInit === null) { c.ScodeIsInit = {};
                                c.ScodeIsInit.getUrl = function() {
                                    return location.protocol == "https:" ? "https://qcommons.qunar.com/captcha5/api/image?k={g3njj(t&t=" + (new Date).getTime() : "http://captcha5.pbs.qunar.com/api/image?k={g3njj(t&t=" + (new Date).getTime() };
                                c.ScodeIsInit.dom = $(QTMPL.scode.render({ url: c.ScodeIsInit.getUrl() })).appendTo($("#js_scode_blk"));
                                c.ScodeIsInit.dom.find("#js_scode_imgs").click(function() { $(this).prop("src", c.ScodeIsInit.getUrl()) });
                                document.getElementById("js_scode_imgs").onload = function() { $.ajax({ url: location.protocol == "https:" ? "https://qcommons.qunar.com/captcha5/api/getCaptchaId" : "http://captcha5.pbs.qunar.com/api/getCaptchaId", dataType: "jsonp", success: function(e) { c.ScodeIsInit.challenge = e } }) } } else { $("#js_scode_imgs").prop("src", c.ScodeIsInit.getUrl()) } }, load: function(t) {
                            var n = t.url;
                            var r = t.newUrl;
                            var i = t.callback;
                            var s = t.needShowMsg;
                            var o = this;
                            $.ajax({ url: r, dataType: "json", success: function(t) {
                                    if (t.ret && t.data) {
                                        if (c.ScodeIsInit) { c.renderScode() }
                                        i && i(t.data);
                                        o.hideErrorMsg() } else if (s && t && t.msg) { o.showErrorMsg(t.msg);
                                        if (t.status && t.status !== 3) { e.inputW.find("em.warnico").css("right", "100px");
                                            c.renderScode() }
                                        e.loginW.hide() } else if (!t.ret && t.msg == "此用户没有绑定任何红包") {
                                        var n = e.list.find(".checkbox_active");
                                        if (n.length) { n.trigger("click") } } }, complete: function(e) { f[n] = false }, error: function() {} }) }, hideErrorMsg: function() { e.customCode.removeClass("text_warn");
                            e.inputW.removeClass("textbtngroup_warn");
                            e.errorMsg.hide().text("") }, showErrorMsg: function(t) { e.customCode.addClass("text_warn");
                            e.inputW.addClass("textbtngroup_warn");
                            e.errorMsg.show().text(t) }, valid: function(e) {
                            if (s.length == 0) { c.showErrorMsg("请输入正确的红包编号") }
                            if (s.length != 0 && n.val().length == 0) { e && e(n.val().length != 0, "请选择红包");
                                return }
                            e && e(s.length != 0, "请输入正确的红包编号") }, isCurrent: function() {
                            var e = $("#js_activity_sel");
                            return e.val() == "CASH" }, getPriceData: function() {
                            var e = {};
                            QNR.module.priceManager.lastResult(function(t) { e = t || {} });
                            return e } };
                    return { init: function() { c.init() }, valid: function(e) { c.valid(e) }, show: function() { c.show() }, hide: function() { c.hide() } } }();
                return e }()) })() }(t.exports, t, e);
    e.____MODULES["ae85617b6bc0af0111e2bc526ae06cf5"] = t.exports })(this);
(function(e) {
    var t = { id: "51fd8a16c7aa03ecd16e119a391cab1d", filename: "ac-coupon.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.coupon", function() {
                var e = function() {
                    var e = { code: "", price: 0 },
                        t, n = {},
                        r, i = [],
                        s = false;
                    var o = [],
                        u = {},
                        a;
                    var f = function() { r = $("#confirmOrder");
                        var e = $("input[name=code]");
                        if (e.length) { a = e } else { a = $('<input type="hidden" name="code" />') }
                        r.append(a);
                        t = $(QTMPL.acCoupon.render({ type: "COUPON" })).appendTo($(".js_ac_m_w"));
                        t.find("[item]").each(function() { n[this.getAttribute("item")] = $(this) }) };
                    var l = function() {
                        var t = 0;
                        n.list.find(".js_ac_l_item").remove();
                        if (!o.length) { n.loginW.hide();
                            h();
                            return }
                        var r = [];
                        for (var i = 0; i < o.length; i++) {
                            var s = o[i];
                            if (!parseInt(s.use_amount, 10)) {
                                continue }
                            t++;
                            if (!parseInt(s.use_amount, 10)) { s.isDisabled = true;
                                if (s.code === e.code) { s.isChecked = true } }
                            r.push(QTMPL.acCouponItem.render(o[i])) }
                        if (r.length) { n.loginW.show();
                            n.list.show().append($(r.join(""))) } else { n.loginW.hide();
                            n.list.hide() }
                        if (!t) { b("暂无可用代金劵");
                            return }
                        if (n.list.find('[data-code="' + e.code + '"]').length) {
                            if (u[e.code] && parseInt(u[e.code].use_amount, 10) != e.price) { h(e.code) } } else if (e.code) { h(false) }
                        var a = n.list.find(".js_co_r");
                        a.bind("click", function(e) { e.stopPropagation();
                            var t = $(this),
                                n = t.attr("data-code");
                            p(n) });
                        n.list.find(".js_ac_l_item").on("click", function(e) { e.stopPropagation();
                            var t = $(this).find(".js_co_r");
                            t.length && t.trigger("click") }) };
                    var c = function() {
                        var e = $("#js_activity_sel");
                        return e.val() == "COUPON" };
                    var h = function(t) { a.val(t || "");
                        if (!t) {
                            if (e.code) { e.code = "";
                                e.price = 0;
                                QNR.event.trigger("activity-change", [{ type: "COUPON", price: e.price }]) } else { QNR.event.trigger("activity-change", [{ type: "COUPON", price: 0 }]) } } else if (parseInt(u[t].use_amount, 10)) {
                            if (e.code != t || e.price != parseInt(u[t].use_amount, 10)) { e.code = t;
                                e.price = parseInt(u[t].use_amount, 10);
                                QNR.event.trigger("activity-change", [{ type: "COUPON", price: e.price }]) }
                            n.list.find('[data-code="' + e.code + '"]').addClass("radio_active") } };
                    var p = function(e) { n.list.find(".js_co_r").removeClass("radio_active");
                        if (!e) { h(false) } else if (parseInt(u[e].use_amount, 10)) {
                            if (u[e].special && u[e].special == "true") { $.ajax({ url: "/user/card.do?method=checkFirstUse&code=" + e, dataType: "json", type: "post", success: function(t) {
                                        if (t && t.ret) {
                                            if (t.data.firstUse) { h(e);
                                                w() } else { b("此代金券只适用于无团购购买记录的用户") } } } }) } else { n.list.find('[data-code="' + e + '"]').addClass("radio_active");
                                h(e) } } };
                    var d = function(e) {
                        var t = !(!QNR.bookdata || QNR.bookdata.canUseCoupon === false || QNR.bookdata.canUseCoupon === 0);
                        var n = a && $.trim(a.val());
                        t = n ? t : true;
                        e && e(t, "对不起, 此产品不能使用代金券") };
                    var v = function() {
                        if (!QNR.bookdata || QNR.bookdata.canUseCoupon === false || QNR.bookdata.canUseCoupon === 0) { QNR.event.trigger("activity-change", [{ type: "COUPON", price: 0 }]);
                            b("对不起, 此产品不能使用代金券");
                            return false }
                        return true };
                    var m = function() {
                        if (v() && !s) { f();
                            S();
                            x();
                            s = true } };
                    var g = function() {
                        if (QNR.module.login.isLogin()) { n.inputW.show();
                            n.logoutW.hide() } else { n.loginW.hide();
                            n.logoutW.show();
                            n.inputW.show() } };
                    var y = function() {
                        if (!v()) {
                            return }
                        n.mainW.show();
                        n.tipW.show();
                        n.add.removeClass("disabled").data("disabled", false);
                        g();
                        if (!QNR.module.login.isLogin()) {
                            if (i.length) { A("custom") } } else { A() }
                        p(false);
                        h(false) };
                    var b = function(e) { n.customCode.addClass("text_warn");
                        n.inputW.addClass("textbtngroup_warn");
                        n.errorMsg.show().text(e) };
                    var w = function() { n.customCode.removeClass("text_warn");
                        n.inputW.removeClass("textbtngroup_warn");
                        n.errorMsg.hide().text("") };
                    var E = function() { a.val("");
                        n.add.addClass("disabled").data("disabled", true);
                        n.mainW.hide();
                        n.inputW.hide() };
                    var S = function() { n.login.find("a").bind("click", function(e) { e.preventDefault();
                            QNR.event.trigger("pop-login-window") });
                        QNR.event.bind("user-login", function() { g();
                            A("all") });
                        QNR.event.bind("numChange", function() { g();
                            setTimeout(A, 30) });
                        n.descTip && n.descTip.parent().bind("mouseenter", function() { n.descTip.show() }).bind("mouseleave", function() { n.descTip.hide() });
                        n.customCode.bind("keydown", function(e) {
                            if (e.keyCode == 13) { T() } else if (e.keyCode == 8) { w() } });
                        n.customCode.on("focus", function() { w() });
                        n.add.bind("click", function(e) { e.preventDefault();
                            T() }) };
                    var x = function() {
                        var e = n.customCode;
                        e.numberTip && e.numberTip({ rule: "FOUR", tipsEl: $(QTMPL.numberTip.render({ mclass: "num_yh" })), change: function(e) { e ? this.config.tipsEl.text(e) : this.config.tipsEl.hide() } }) };
                    var T = function() {
                        var t = $.trim(n.customCode.val());
                        if (!t) { b("请输入代金券码");
                            return }
                        w();
                        for (var s = 0; s < o.length; s++) {
                            if (o[s].code == t) {
                                if (parseInt(o[s].use_amount, 10) == 0) { b("代金券（" + t + "）当前不可用") } else if (o[s].special != "true") { p(t);
                                    n.customCode.val("") } else if (o[s].special == "true" && !QNR.module.login.isLogin()) { QNR.event.trigger("pop-login-window", { str: '<span class="red" style="margin-left:30px;font-size:12px;">请登录以确认代金券是否可用</span>' }) }
                                return } }
                        var a = r.serialize();
                        for (var s = 0; s < a.length; s++) {
                            if (/^(code|method)=.+$/.test(a[s])) { a.splice(s, 1);
                                s-- } }
                        var f = ["method=checkCard", "code=" + encodeURIComponent(t)];
                        var c = "/user/card.do?" + f.join("&");
                        if (C[c]) {
                            return }
                        C[c] = true;
                        $.ajax({ url: c, dataType: "json", type: "post", data: a, success: function(r) {
                                if (r && r.ret && r.data && r.data.length) { $.each(r.data, function() { o.push($.extend(true, { type: "list" }, this));
                                        u[this.code] = o[o.length - 1];
                                        i.push(this.code) });
                                    if (!QNR.module.login.isLogin() && u[t].special == "true") { QNR.event.trigger("pop-login-window", { str: '<span class="red" style="margin-left:30px;font-size:12px;">请登录以确认代金券是否可用</span>' });
                                        e.code = t;
                                        return }
                                    if ((k = u[t]) && parseInt(u[t].use_amount, 10) == 0) { b("代金券（" + k.code + "）当前不可用");
                                        return }
                                    l();
                                    if (o[o.length - 1].code == t) { p(t);
                                        n.customCode.val("") } } else if (r && r.errmsg) { b(r.errmsg) } }, complete: function(e) { C[c] = false }, error: function() {} }) };
                    var N = function(e) {
                        if (e == "all") { o = [];
                            u = {};
                            n.list.hide() } else {
                            for (var t = 0; t < o.length; t++) {
                                if (o[t].type == e) { delete u[o[t].code];
                                    o.splice(t, 1);
                                    t-- } }
                            l() } };
                    var C = {};
                    var L = {};
                    var A = function(e) {
                        if (!c()) {
                            return }
                        var t = "all";
                        if (e) { t = e }
                        N(t);
                        var s = r.serialize().split("&");
                        for (var a = 0; a < s.length; a++) {
                            if (/^(code|method)=.+$/.test(s[a])) { s.splice(a, 1);
                                a-- } }
                        if (QNR.module.login.isLogin() && (t == "all" || t == "list")) {
                            var f = ["method=getCards"];
                            var h = "/user/card.do?" + f.join("&");
                            if (C[h]) {
                                return }
                            C[h] = true;
                            L.listurl = h;
                            $.ajax({ url: h, dataType: "json", type: "post", data: s.join("&"), success: function(e) {
                                    if (L.listurl != h) {
                                        return }
                                    if (e.data && e.data.length) {
                                        var t = [];
                                        $.each(e.data, function() { t.push($.extend({ type: "list" }, this));
                                            u[this.code] = t[t.length - 1] });
                                        o = t.concat(o) }
                                    l() }, complete: function(e) { C[h] = false } }) }
                        if (i.length && (t == "all" || t == "custom")) {
                            var f = ["method=checkCard", "code=" + encodeURIComponent(i.join(","))].concat(s);
                            var p = "/user/card.do?" + f.join("&");
                            if (C[p]) {
                                return }
                            L.customurl = p;
                            C[p] = true;
                            $.ajax({ url: p, dataType: "json", success: function(e) {
                                    if (L.customurl != p) {
                                        return }
                                    var t = [];
                                    if (e.data && e.data.length) { $.each(e.data, function() { t.push($.extend({ type: "coupon" }, this));
                                            u[this.code] = t[t.length - 1] });
                                        o = o.concat(t);
                                        l();
                                        n.customCode.val("") } }, complete: function(e) { C[p] = false } }) } };
                    return { init: m, show: y, hide: E, valid: d, getList: A } }();
                return e }()) })() }(t.exports, t, e);
    e.____MODULES["51fd8a16c7aa03ecd16e119a391cab1d"] = t.exports })(this);
(function(e) {
    var t = { id: "8c76d3c7ad3db404d4aad968d7200272", filename: "ac-chinaDream.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.chinaDream", function() {
                var e = function() {
                    var e = { code: "", price: 0 },
                        t, n = {},
                        r, i = [],
                        s = false;
                    var o = [],
                        u = {},
                        a;
                    var f = function() { r = $("#confirmOrder");
                        var e = $("input[name=code]");
                        if (e.length) { a = e } else { a = $('<input type="hidden" name="code" />') }
                        r.append(a);
                        t = $(QTMPL.acChinaDream.render({ type: "QCHINADREAM" })).appendTo($(".js_ac_m_w"));
                        t.find("[item]").each(function() { n[this.getAttribute("item")] = $(this) }) };
                    var l = function() {
                        var t = 0;
                        n.list.find(".js_ac_l_item").remove();
                        if (!o.length) { n.loginW.hide();
                            h();
                            return }
                        var r = [];
                        for (var i = 0; i < o.length; i++) {
                            var s = o[i];
                            if (!parseInt(s.use_amount, 10)) {
                                continue }
                            t++;
                            if (!parseInt(s.use_amount, 10)) { s.isDisabled = true;
                                if (s.code === e.code) { s.isChecked = true } }
                            r.push(QTMPL.acChinaItem.render(o[i])) }
                        if (r.length) { n.loginW.show();
                            n.list.show().append($(r.join(""))) } else { n.loginW.hide();
                            n.list.hide() }
                        if (!t) { b("暂无可用“去哪儿都有中国梦”红包");
                            return }
                        if (n.list.find('[data-code="' + e.code + '"]').length) {
                            if (u[e.code] && parseInt(u[e.code].use_amount, 10) != e.price) { h(e.code) } } else if (e.code) { h(false) }
                        var a = n.list.find(".js_co_r");
                        a.bind("click", function(e) { e.stopPropagation();
                            var t = $(this),
                                n = t.attr("data-code");
                            p(n) });
                        n.list.find(".js_ac_l_item").on("click", function(e) { e.stopPropagation();
                            var t = $(this).find(".js_co_r");
                            t.length && t.trigger("click") }) };
                    var c = function() {
                        var e = $("#js_activity_sel");
                        return e.val() == "QCHINADREAM" };
                    var h = function(t) { a.val(t || "");
                        if (!t) {
                            if (e.code) { e.code = "";
                                e.price = 0;
                                QNR.event.trigger("activity-change", [{ type: "COUPON", price: e.price }]) } else { QNR.event.trigger("activity-change", [{ type: "COUPON", price: 0 }]) } } else if (parseInt(u[t].use_amount, 10)) {
                            if (e.code != t || e.price != parseInt(u[t].use_amount, 10)) { e.code = t;
                                e.price = parseInt(u[t].use_amount, 10);
                                QNR.event.trigger("activity-change", [{ type: "COUPON", price: e.price }]) }
                            n.list.find('[data-code="' + e.code + '"]').addClass("radio_active") } };
                    var p = function(e) { n.list.find(".js_co_r").removeClass("radio_active");
                        if (!e) { h(false) } else if (parseInt(u[e].use_amount, 10)) {
                            if (u[e].special && u[e].special == "true") { $.ajax({ url: "/user/card.do?method=checkFirstUse&type=q_china_dream&code=" + e, dataType: "json", type: "post", success: function(t) {
                                        if (t && t.ret) {
                                            if (t.data.firstUse) { h(e);
                                                w() } else { b("此“去哪儿都有中国梦”红包只适用于无团购购买记录的用户") } } } }) } else { n.list.find('[data-code="' + e + '"]').addClass("radio_active");
                                h(e) } } };
                    var d = function(e) {
                        var t = !(!QNR.bookdata || QNR.bookdata.canUseQChinaDream === false || QNR.bookdata.canUseQChinaDream === 0);
                        var n = a && $.trim(a.val());
                        t = n ? t : true;
                        e && e(t, "对不起, 此产品不能使用“去哪儿都有中国梦”红包") };
                    var v = function() {
                        if (!QNR.bookdata || QNR.bookdata.canUseQChinaDream === false || QNR.bookdata.canUseQChinaDream === 0) { QNR.event.trigger("activity-change", [{ type: "COUPON", price: 0 }]);
                            b("对不起, 此产品不能使用“去哪儿都有中国梦”红包");
                            return false }
                        return true };
                    var m = function() {
                        if (v() && !s) { f();
                            S();
                            x();
                            s = true } };
                    var g = function() {
                        if (QNR.module.login.isLogin()) { n.inputW.show();
                            n.logoutW.hide() } else { n.loginW.hide();
                            n.logoutW.show();
                            n.inputW.show() } };
                    var y = function() {
                        if (!v()) {
                            return }
                        n.mainW.show();
                        n.tipW.show();
                        n.add.removeClass("disabled").data("disabled", false);
                        g();
                        if (!QNR.module.login.isLogin()) {
                            if (i.length) { A("custom") } } else { A() }
                        p(false);
                        h(false) };
                    var b = function(e) { n.customCode.addClass("text_warn");
                        n.inputW.addClass("textbtngroup_warn");
                        n.errorMsg.show().text(e) };
                    var w = function() { n.customCode.removeClass("text_warn");
                        n.inputW.removeClass("textbtngroup_warn");
                        n.errorMsg.hide().text("") };
                    var E = function() { a.val("");
                        n.add.addClass("disabled").data("disabled", true);
                        n.mainW.hide();
                        n.inputW.hide() };
                    var S = function() { n.login.find("a").bind("click", function(e) { e.preventDefault();
                            QNR.event.trigger("pop-login-window") });
                        QNR.event.bind("user-login", function() { g();
                            A("all") });
                        QNR.event.bind("numChange", function() { g();
                            setTimeout(A, 30) });
                        n.descTip && n.descTip.parent().bind("mouseenter", function() { n.descTip.show() }).bind("mouseleave", function() { n.descTip.hide() });
                        n.customCode.bind("keydown", function(e) {
                            if (e.keyCode == 13) { T() } else if (e.keyCode == 8) { w() } });
                        n.customCode.on("focus", function() { w() });
                        n.add.bind("click", function(e) { e.preventDefault();
                            T() }) };
                    var x = function() {
                        var e = n.customCode;
                        e.numberTip && e.numberTip({ rule: "FOUR", tipsEl: $(QTMPL.numberTip.render({ mclass: "num_yh" })), change: function(e) { e ? this.config.tipsEl.text(e) : this.config.tipsEl.hide() } }) };
                    var T = function() {
                        var t = $.trim(n.customCode.val());
                        if (!t) { b("“去哪儿都有中国梦”红包");
                            return }
                        w();
                        for (var s = 0; s < o.length; s++) {
                            if (o[s].code == t) {
                                if (parseInt(o[s].use_amount, 10) == 0) { b("“去哪儿都有中国梦”红包（" + t + "）当前不可用") } else if (o[s].special != "true") { p(t);
                                    n.customCode.val("") } else if (o[s].special == "true" && !QNR.module.login.isLogin()) { QNR.event.trigger("pop-login-window", { str: '<span class="red" style="margin-left:30px;font-size:12px;">请登录以确认“去哪儿都有中国梦”红包是否可用</span>' }) }
                                return } }
                        var a = r.serialize();
                        for (var s = 0; s < a.length; s++) {
                            if (/^(code|method)=.+$/.test(a[s])) { a.splice(s, 1);
                                s-- } }
                        var f = ["method=checkCard&type=q_china_dream", "code=" + encodeURIComponent(t)];
                        var c = "/user/card.do?" + f.join("&");
                        if (C[c]) {
                            return }
                        C[c] = true;
                        $.ajax({ url: c, dataType: "json", type: "post", data: a, success: function(r) {
                                if (r && r.ret && r.data && r.data.length) { $.each(r.data, function() { o.push($.extend(true, { type: "list" }, this));
                                        u[this.code] = o[o.length - 1];
                                        i.push(this.code) });
                                    if (!QNR.module.login.isLogin() && u[t].special == "true") { QNR.event.trigger("pop-login-window", { str: '<span class="red" style="margin-left:30px;font-size:12px;">请登录以确认“去哪儿都有中国梦”红包是否可用</span>' });
                                        e.code = t;
                                        return }
                                    if ((k = u[t]) && parseInt(u[t].use_amount, 10) == 0) { b("“去哪儿都有中国梦”红包（" + k.code + "）当前不可用");
                                        return }
                                    l();
                                    if (o[o.length - 1].code == t) { p(t);
                                        n.customCode.val("") } } else if (r && r.errmsg) { b(r.errmsg) } }, complete: function(e) { C[c] = false }, error: function() {} }) };
                    var N = function(e) {
                        if (e == "all") { o = [];
                            u = {};
                            n.list.hide() } else {
                            for (var t = 0; t < o.length; t++) {
                                if (o[t].type == e) { delete u[o[t].code];
                                    o.splice(t, 1);
                                    t-- } }
                            l() } };
                    var C = {};
                    var L = {};
                    var A = function(e) {
                        if (!c()) {
                            return }
                        var t = "all";
                        if (e) { t = e }
                        N(t);
                        var s = r.serialize().split("&");
                        for (var a = 0; a < s.length; a++) {
                            if (/^(code|method)=.+$/.test(s[a])) { s.splice(a, 1);
                                a-- } }
                        if (QNR.module.login.isLogin() && (t == "all" || t == "list")) {
                            var f = ["method=getCards&type=q_china_dream"];
                            var h = "/user/card.do?" + f.join("&");
                            if (C[h]) {
                                return }
                            C[h] = true;
                            L.listurl = h;
                            $.ajax({ url: h, dataType: "json", type: "post", data: s.join("&"), success: function(e) {
                                    if (L.listurl != h) {
                                        return }
                                    if (e.data && e.data.length) {
                                        var t = [];
                                        $.each(e.data, function() { t.push($.extend({ type: "list" }, this));
                                            u[this.code] = t[t.length - 1] });
                                        o = t.concat(o) }
                                    l() }, complete: function(e) { C[h] = false } }) }
                        if (i.length && (t == "all" || t == "custom")) {
                            var f = ["method=checkCard&type=q_china_dream", "code=" + encodeURIComponent(i.join(","))].concat(s);
                            var p = "/user/card.do?" + f.join("&");
                            if (C[p]) {
                                return }
                            L.customurl = p;
                            C[p] = true;
                            $.ajax({ url: p, dataType: "json", success: function(e) {
                                    if (L.customurl != p) {
                                        return }
                                    var t = [];
                                    if (e.data && e.data.length) { $.each(e.data, function() { t.push($.extend({ type: "coupon" }, this));
                                            u[this.code] = t[t.length - 1] });
                                        o = o.concat(t);
                                        l();
                                        n.customCode.val("") } }, complete: function(e) { C[p] = false } }) } };
                    return { init: m, show: y, hide: E, valid: d } }();
                return e }()) })() }(t.exports, t, e);
    e.____MODULES["8c76d3c7ad3db404d4aad968d7200272"] = t.exports })(this);
(function(e) {
    var t = { id: "6fbf640d63af3fbe23aa930009db3f7d", filename: "ac-lijian.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.lijian", function() {
                var e = { init: function() {
                        if (!this.inited) {
                            if (QNR.bookdata.activityRules && (data = QNR.bookdata.activityRules["LIJIAN"])) { this.type = "LIJIAN";
                                this.formdata.type = data.type || 0 }
                            this.initEvents();
                            this.inited = true } }, formdata: { contractMobile: false, orderPassengers: false }, diffIds: function(e) {
                        return e.orderPassengers != this.formdata.orderPassengers || e.contractMobile != this.formdata.contractMobile }, valid: function(e) {
                        if (!this.shown) { e(true);
                            return true }
                        this.checkAccess($.proxy(function(t) {
                            if (t) { QNR.module.priceManager.lastResult(function(t) {
                                    if (t.activity && !t.activity.fit) { e(false) } else { e(true) } }) } else { e(false);
                                return false } }, this)) }, checkAccess: function(t, n) {
                        if (!this.shown && !n) {
                            return }
                        var r = $.extend({}, this.formdata);
                        var i = {};
                        if (r.orderPassengers) { i.orderPassengers = r.orderPassengers }
                        if (r.contractMobile) { i.contractMobile = r.contractMobile }
                        $.ajax({ url: "/activity/checkUserQ.qunar?type=" + e.formdata.type, data: JSON.stringify(i), dataType: "json", type: "post", contentType: "application/json; charset=utf-8", success: $.proxy(function(e) {
                                if (!this.shown && !n) {
                                    if (t) { t(true) }
                                    return }
                                e.permit = e.ret && !!e.data && e.data.hasQ;
                                if (t) { t(e.permit) } else {
                                    if (this.diffIds(r)) {
                                        return }
                                    QNR.event.trigger("activity-change", [{ type: this.name, permit: e.permit }]) } }, this), error: function(e) {} }) }, show: function() {
                        if (!this.inited) { this.inited = true;
                            for (var e in QNR.bookdata.activityRules) { this.name = e }
                            this.render() }
                        this.dom.show();
                        this.shown = true;
                        this.checkAccess() }, hide: function() {
                        if (this.dom) { this.dom.hide() }
                        this.shown = false }, render: function() { this.dom = $("#" + this.type + "-panel") }, initEvents: function() { QNR.event.bind("adult-contact-change", $.proxy(function(e, t) {
                            if (this.formdata.orderPassengers == t) {
                                return }
                            this.formdata.orderPassengers = t;
                            this.checkAccess() }, this));
                        QNR.event.bind("contact-mobile-change", $.proxy(function(e, t) {
                            if (this.formdata.contractMobile == t) {
                                return }
                            this.formdata.contractMobile = t;
                            this.checkAccess() }, this));
                        QNR.event.bind("user-login", $.proxy(function() { this.checkAccess() }, this)) } };
                return { init: function() { e.init() }, show: function() { e.show() }, hide: function() { e.hide() }, valid: function(t) { e.valid(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["6fbf640d63af3fbe23aa930009db3f7d"] = t.exports })(this);
(function(e) {
    var t = { id: "a895a364b35e2ed0c6da9826dea72efb", filename: "ac-multi.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.multi", function() {
                var e = { init: function(e) {
                        if (!this.inited) {
                            var t = e.title || "多人立减";
                            var n = $(QTMPL.acAlmost.render({ type: "MULTI_PEOPLE_REDUCE", title: t, useTip: "此订单可以享受多人立减优惠活动" })).appendTo($(".js_ac_m_w"));
                            this.$mainW = n.find('[item="mainW"]');
                            this.inited = true } }, show: function() { this.$mainW.show();
                        QNR.event.trigger("activity-change", { type: "MULTI_PEOPLE_REDUCE", permit: true }) }, hide: function() { this.$mainW.hide() } };
                return { init: function(t) { e.init(t) }, show: function() { e.show() }, hide: function() { e.hide() } } }()) })() }(t.exports, t, e);
    e.____MODULES["a895a364b35e2ed0c6da9826dea72efb"] = t.exports })(this);
(function(e) {
    var t = { id: "75267d68c4014385b1fc21b27c188cfc", filename: "ac-early.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.early", function() {
                var e = { init: function() {
                        var e = this;
                        var t = new Date;
                        if (!this.inited) {
                            var n = $(QTMPL.acAlmost.render({ type: "EARLY_BUY", title: "早订优惠", useTip: "此订单可以享受早订早优惠活动" })).appendTo($(".js_ac_m_w"));
                            this.$mainW = n.find('[item="mainW"]');
                            this.keyel = $('<input type="hidden" id="EARLY_BUY_LEVEL"  name="EARLY_BUY_LEVEL" />').appendTo(n);
                            this.cache = QNR.bookdata.activityRules && QNR.bookdata.activityRules.EARLY_BUY || {};
                            this.date = (new Date(t.getFullYear(), t.getMonth(), t.getDate())).getTime();
                            var r = this.cache.endDate.match(/\d{4}-\d{1,2}-\d{1,2}/);
                            r && (this.endDate = DateUtil.parse(r[0]).getTime());
                            this.bindEvents();
                            this.inited = true } }, show: function() {
                        var e = this;
                        this.$mainW.show();
                        setTimeout(function() { e.change() }, 100) }, hide: function() { this.$mainW.hide() }, bindEvents: function() { QNR.event.bind("EARLY_BUY", $.proxy(function(e, t) {
                            if (QNR.currentActivityKey !== "EARLY_BUY") {
                                return }
                            var n, r;
                            if (!t) { t = DateUtil.parse(QNR.bookdata.date) }
                            n = t.getTime();
                            if (n < this.endDate) { this.change(t) } }, this)) }, _getPrevDay: function(e) {
                        var t, n;
                        n = (e || DateUtil.parse(QNR.bookdata.date)).getTime();
                        isFull = (n - this.date) % DateUtil.oneday;
                        t = !isFull ? (n - this.date) / DateUtil.oneday : parseInt((n - this.date) / DateUtil.oneday, 10) + 1;
                        return t }, change: function(e) {
                        var t = this._getPrevDay(e);
                        if (t < 0 || this.cache.rules.length == 0) {
                            return }
                        QNR.event.trigger("activity-change", { type: "EARLY_BUY", permit: true, day: t });
                        rules = this.cache.rules;
                        rules = rules.sort(function(e, t) {
                            return e.day - t.day });
                        for (var n = 0, r = rules.length; n < r; n++) {
                            if (rules[n].day <= t) {
                                var i = rules[n].day + "," + rules[n].discount;
                                this.keyel.val(i) } } } };
                return { init: function() { e.init() }, show: function() { e.show() }, hide: function() { e.hide() } } }()) })() }(t.exports, t, e);
    e.____MODULES["75267d68c4014385b1fc21b27c188cfc"] = t.exports })(this);
(function(e) {
    var t = { id: "93e770fb5444d9dd12d70c7f3ebe2fc4", filename: "ac-rentcar.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.rentcar", function() {
                var e = { init: function(e) {
                        if (!QNR.bookdata.activityRules.RENT_CAR || !e) {
                            return }
                        if (!this.inited) { this.$w = e;
                            this.acRuleObj = QNR.bookdata.activityRules.RENT_CAR || {};
                            this.initHtml();
                            this.inited = true } }, initHtml: function() { this.$w.append(QTMPL.acRentCar.render({ company: this.acRuleObj.company, phone: this.acRuleObj.phone })) } };
                return { init: function(t) { e.init(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["93e770fb5444d9dd12d70c7f3ebe2fc4"] = t.exports })(this);
(function(e) {
    var t = { id: "64be46cb2b885ac6935fe93653375797", filename: "ac-limitBuy.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.limitBuy", function() {
                var e = { init: function(e) {
                        if (!QNR.bookdata.limitBuyJson || !QNR.bookdata.limitBuyJson.isBuyLimitProduct) {
                            return }
                        if (!this.inited) {
                            var t = QNR.bookdata.limitBuyJson;
                            this.count = t.pBuyLimitCount;
                            this.startDate = t.pBuyLimitStartDate;
                            this.endDate = t.pBuyLimitEndDate;
                            this.changeZjType();
                            this.showWramTip();
                            this.inited = true } }, changeZjType: function() {
                        var e = {};
                        switch (QNR.bookdata.tourType + "") {
                            case "0":
                                e = { defaultType: { 0: "身份证" }, insuranceType: { 0: "身份证" } };
                                break;
                            case "1":
                                e = { defaultType: { 1: "护照" }, insuranceType: { 1: "护照" } };
                                break;
                            case "2":
                                e = { defaultType: { 8: "港澳通行证" }, insuranceType: { 8: "港澳通行证" } };
                                break;
                            default:
                                e = {};
                                break }
                        $.extend(QNR.bookdata.zjType, e) }, showWramTip: function() { QNR.module.passenger && QNR.module.passenger.showWramTip({ content: this.getPWarmTip() }) }, getPWarmTip: function() {
                        var e = [];
                        e.push("此产品在");
                        e.push(this.formatDate(this.startDate));
                        e.push(" - ");
                        e.push(this.formatDate(this.endDate));
                        e.push("，同一旅客限购");
                        e.push(this.count), e.push("次；</br>请务必保证提交的旅客信息与实际相符，如发现信息不符，商家有权拒绝处理。");
                        return e.join("") }, formatDate: function(e) {
                        return e && e.replace(/^(\d{4})-(\d{2})-(\d{2}).*?(\d{2}):(\d{2})$/ig, "$1年$2月$3日 $4点$5分") || "" } };
                return { init: function(t) { e.init(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["64be46cb2b885ac6935fe93653375797"] = t.exports })(this);
(function(e) {
    var t = { id: "c60cbddc3102b3a34029aa26f787fc20", filename: "ac-reduction.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.reduction", function() {
                var e = { init: function() {
                        var e = QNR.bookdata.activityRules.TELEPHONEREDUCTION,
                            t = e && e.name,
                            n = e && e.detailTip;
                        if (!this.inited) {
                            var r = $(QTMPL.acAlmost.render({ type: "TELEPHONEREDUCTION", title: t, useTip: n })).appendTo($(".js_ac_m_w"));
                            this.$mainW = r.find('[item="mainW"]');
                            this.inited = true } }, show: function() { this.$mainW.show();
                        var e = QNR.bookdata.activityRules.TELEPHONEREDUCTION,
                            t = e && e.rules && e.rules.amount;
                        QNR.event.trigger("activity-change", [{ type: "REDUCTION", price: t }]) }, hide: function() { this.$mainW.hide() } };
                return { init: function() { e.init() }, show: function() { e.show() }, hide: function() { e.hide() } } }()) })() }(t.exports, t, e);
    e.____MODULES["c60cbddc3102b3a34029aa26f787fc20"] = t.exports })(this);
(function(e) {
    var t = { id: "acd3867a21dbbc218afd8ee9163b3f62", filename: "ac-titleFill.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.titleFill", function() {
                var e = { show: function(e) {
                        if (!this.inited) { $.extend(this, { $w: $("#js_ac_titleFill"), colorClass: "gray", text: "" }, e);
                            this.render();
                            this.inited = true } }, render: function() { this.$w.show().find('[item="shower"]').text(this.text).addClass(this.colorClass) } };
                return { show: function(t) { e.show(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["acd3867a21dbbc218afd8ee9163b3f62"] = t.exports })(this);
(function(e) {
    var t = { id: "c50260ad377143925f472e427e99fe3f", filename: "ac-shopReduction.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.shopReduction", function() {
                var e = function() {
                    var e = { code: "", price: 0, amount: 0 },
                        t, n = {},
                        r, i = [],
                        s = false,
                        o = "";
                    var u = [],
                        a = [],
                        f = {},
                        l;
                    var c = function() { r = $("#confirmOrder");
                        var e = $("input[name=promoteReduces]");
                        if (e.length) { l = e } else { l = $('<input type="hidden" name="promoteReduces" />') }
                        r.append(l);
                        t = $(QTMPL.acShopReduction.render({ type: "SUPPLIER_REDUCE_COUPON" })).appendTo($(".js_ac_m_w"));
                        t.find("[item]").each(function() { n[this.getAttribute("item")] = $(this) });
                        o = $("input[name=pId]").val() || "" };
                    var h = function() {
                        var e = 0;
                        QNR.module.priceManager.lastResult(function(t) { e = t.original });
                        if (!a.length) {
                            return }
                        u = [];
                        var t = a.length;
                        for (var n = 0; n < t; n++) {
                            if (e >= a[n].amount) {
                                var r = {};
                                $.extend(r, a[n]);
                                u.push(r) } } };
                    var p = function() {
                        var t = 0;
                        n.list.find(".js_ac_l_item").remove();
                        if (!u.length) { S("暂无可用满减券");
                            n.loginW.hide();
                            v();
                            return }
                        var r = [];
                        for (var i = 0; i < u.length; i++) {
                            var s = u[i];
                            t++;
                            s.isDisabled = true;
                            if (s.promoteCode === e.code) { s.isChecked = true }
                            r.push(QTMPL.acShopReductionItem.render(u[i])) }
                        if (r.length) { n.loginW.show();
                            n.list.show().append($(r.join("")));
                            x() } else { n.loginW.hide();
                            n.list.hide() }
                        if (!t) { S("暂无可用满减券");
                            return }
                        if (n.list.find('[data-code="' + e.code + '"]').length) {
                            if (f[e.code] && parseInt(f[e.code].price, 10) != e.price) { v(e.code) } } else if (e.code) { v(false) }
                        var o = n.list.find(".js_co_r");
                        o.bind("click", function(e) { e.stopPropagation();
                            var t = $(this),
                                n = t.attr("data-code");
                            g(n) });
                        n.list.find(".js_ac_l_item").on("click", function(e) { e.stopPropagation();
                            var t = $(this).find(".js_co_r");
                            t.length && t.trigger("click") }) };
                    var d = function() {
                        var e = $("#js_activity_sel");
                        return e.val() == "SUPPLIER_REDUCE_COUPON" };
                    var v = function(t) { l.val("");
                        if (!t) {
                            if (e.code) { e.code = "";
                                e.price = 0;
                                e.amount = 0;
                                QNR.event.trigger("activity-change", [{ type: "SUPPLIER_REDUCE_COUPON", price: e.price, amount: e.amount }]) } else { QNR.event.trigger("activity-change", [{ type: "SUPPLIER_REDUCE_COUPON", price: 0, amount: 0 }]) } } else if (parseInt(f[t].price, 10)) { e.code = t;
                            e.price = parseInt(f[t].price, 10);
                            e.amount = parseInt(f[t].amount, 10);
                            QNR.event.trigger("activity-change", [{ type: "SUPPLIER_REDUCE_COUPON", price: e.price, amount: e.amount }]);
                            m(f[t]);
                            n.list.find('[data-code="' + e.code + '"]').addClass("radio_active") } };
                    var m = function(e) {
                        if (e) {
                            var t = JSON.stringify(e);
                            var n = JSON.parse(t);
                            delete n.expiredDate;
                            delete n.reduceRuleName;
                            delete n.price;
                            delete n.type;
                            delete n.isDisabled;
                            delete n.amount;
                            if (n.isChecked) { delete n.isChecked }
                            l.val("[" + JSON.stringify(n) + "]") } };
                    var g = function(e) { n.list.find(".js_co_r").removeClass("radio_active");
                        if (!e) { v(false) } else if (parseInt(f[e].price, 10)) { n.list.find('[data-code="' + e + '"]').addClass("radio_active");
                            v(e) } };
                    var y = function(e) {
                        var t = true;
                        var n = l && $.trim(l.val());
                        t = n ? t : true;
                        e && e(t, "对不起, 此产品不能使用代金券") };
                    var b = function() {
                        if (!s) { c();
                            N();
                            s = true } };
                    var w = function() {
                        if (QNR.module.login.isLogin()) { n.logoutW.hide() } else { n.loginW.hide();
                            n.logoutW.show() } };
                    var E = function() { n.mainW.show();
                        n.tipW.show();
                        w();
                        if (!QNR.module.login.isLogin()) {
                            if (i.length) { O("custom") } } else { O() } };
                    var S = function(e) { n.errorMsg.show().text(e) };
                    var x = function() { n.errorMsg.hide().text("") };
                    var T = function() { l.val("");
                        n.mainW.hide() };
                    var N = function() {
                        if (n.login) { n.login.find("a").bind("click", function(e) { e.preventDefault();
                                QNR.event.trigger("pop-login-window") }) }
                        QNR.event.bind("user-login", function() { w();
                            O("all") });
                        QNR.event.bind("numChange", function() { w();
                            setTimeout(O, 30) });
                        n.descTip && n.descTip.parent().bind("mouseenter", function() { n.descTip.show() }).bind("mouseleave", function() { n.descTip.hide() }) };
                    var C = function() {
                        if (t.length) {
                            var e = $(t.find(".js_co_r")[0]);
                            e.length && e.trigger("click") } };
                    var k = function(e) {
                        if (e == "all") { u = [];
                            f = {};
                            n.list.hide() } else {
                            for (var t = 0; t < u.length; t++) {
                                if (u[t].type == e) { delete f[u[t].code];
                                    u.splice(t, 1);
                                    t-- } }
                            p() } };
                    var L = {};
                    var A = {};
                    var O = function(e) {
                        if (!d()) {
                            return }
                        var t = "all";
                        if (e) { t = e }
                        if (a.length > 0) { h();
                            p();
                            C();
                            return }
                        if (QNR.module.login.isLogin() && (t == "all" || t == "list")) {
                            var n = "/promotion/reduce/myReduceCouponList.json";
                            if (L[n]) {
                                return }
                            L[n] = true;
                            A.listurl = n;
                            $.ajax({ url: n, dataType: "json", type: "post", data: { pId: o, isAll: false }, success: function(e) {
                                    if (A.listurl != n) {
                                        return }
                                    if (e.data && e.data.length) {
                                        var t = [];
                                        $.each(e.data, function() {
                                            var e = "满" + this.reduceRule.amount + "减" + this.reduceRule.reduceAmount;
                                            var n = { expiredDate: this.expiredTime, reduceRuleName: e, amount: this.reduceRule.amount, price: this.reduceRule.reduceAmount };
                                            t.push($.extend({ type: "list" }, n, this));
                                            f[this.promoteCode] = t[t.length - 1] });
                                        u = t.concat(u);
                                        $.extend(a, u) }
                                    h();
                                    p();
                                    C() }, complete: function(e) { L[n] = false } }) } };
                    return { init: b, show: E, hide: T, valid: y, getList: O } }();
                return e }()) })() }(t.exports, t, e);
    e.____MODULES["c50260ad377143925f472e427e99fe3f"] = t.exports })(this);
(function(e) {
    var t = { id: "453ec07f589e91d9c68b60ba1455414e", filename: "ac-tencash.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.ac.tencash", function() {
                var e = "暑期红包";
                if (QNR.bookdata && QNR.bookdata.activityRules && QNR.bookdata.activityRules.CASHLIMIT) { e = QNR.bookdata.activityRules.CASHLIMIT.name || "暑期红包" }
                var t = function() {
                    var t = {},
                        n = false,
                        r, i = [],
                        s = [];
                    var o = $('<input type="hidden" name="limitCashes" />');
                    var u = [],
                        a = {},
                        f = 0;
                    var l = {};
                    var c = {};
                    var h = { ScodeIsInit: null, init: function() {
                            if (!n) { this.build();
                                this.bindEvents();
                                this.onNumberTip();
                                n = true } }, build: function() { this.sId = QNR.bookdata.supplierId;
                            this.pId = QNR.bookdata.pId;
                            this.cClass = "radio_active";
                            this.dClass = "disabled";
                            r = $(QTMPL.acTenCash.render({ type: "CASHLIMIT", name: e })).appendTo($(".js_ac_m_w"));
                            r.find("[item]").each(function() { t[this.getAttribute("item")] = $(this) });
                            var n = $('name="cashes"').length;
                            $("#confirmOrder").append(o) }, resetList: function() {
                            var e = this;
                            r.find("[item='list']").find(".js_ac_l_item").remove();
                            o.val("");
                            f = 0;
                            for (var t in a) {
                                var n = a[t];
                                e.validateData(n);
                                e.render(n, n.code, false) } }, bindEvents: function() {
                            var e = this;
                            QNR.event.bind("numChange", function(t, n) { setTimeout(function() { e.resetList() }, 0) });
                            QNR.event.bind("booking.updatePrice", function(t, n) { e.resetList() });
                            QNR.event.bind("user-login", function() { e.showWhetherLogin();
                                e.getList() });
                            t.login.find("a").bind("click", function(e) { e.preventDefault();
                                QNR.event.trigger("pop-login-window") });
                            t.customCode.bind("keydown", function(t) {
                                if (t.keyCode == 13) { e.add() } else if (t.keyCode == 8) { e.hideErrorMsg() } });
                            t.customCode.on("focus", function() { e.hideErrorMsg() });
                            t.add.on("click", function(t) { t.preventDefault();
                                if ($(this).data("disabled") === true) {
                                    return }
                                e.add() });
                            r.on("mouseenter mouseleave", ".e_agiolist_help", function(e) {
                                switch (e && e.type) {
                                    case "mouseenter":
                                        $(this).find('[item="descTip"]').show();
                                        break;
                                    case "mouseleave":
                                        $(this).find('[item="descTip"]').hide();
                                        break } });
                            r.on("click", ".js_ac_l_item", function(e) { e.stopPropagation();
                                var t = $(this).find(".js_ac_l_chk");
                                t.length && t.trigger("click") });
                            r.on("click", ".js_ac_l_chk", function(t) { t.stopPropagation();
                                var n = $(this),
                                    i = !!n.data("selected"),
                                    l = n.data("code");
                                if (n.data("disabled") === true) {
                                    return }
                                var c = e.getPriceData();
                                var h = c.noAcTotal;
                                switch (i) {
                                    case false:
                                        e.reset();
                                        n.addClass(e.cClass).data("selected", true);
                                        for (var p = 0; p < u.length; p++) {
                                            if (u[p].code == l) {
                                                if (f < h) { f += u[p].Practical;
                                                    s.push(u[p]);
                                                    a[u[p].code].used = true } } }
                                        break;
                                    case true:
                                        n.removeClass(e.cClass).data("selected", false);
                                        for (var p = 0; p < u.length; p++) {
                                            if (u[p].code == l) { s.splice(p, 1);
                                                f -= u[p].Practical;
                                                a[u[p].code].used = false } }
                                        break }
                                if (f >= h) { r.find(".js_ac_l_chk").each(function() {
                                        var t = $(this),
                                            n = t.data("selected");
                                        if (n === false) { t.addClass(e.dClass).data("disabled", true) } }) }
                                if (f < h) { r.find(".js_ac_l_chk").each(function() {
                                        var t = $(this),
                                            n = t.data("disabled");
                                        if (n === true) { t.data("disabled", false).removeClass(e.dClass) } }) }
                                var d = [];
                                for (var p = 0; p < u.length; p++) {
                                    if ((k = a[u[p].code]).used) { d.push({ cash_code: k.code, balance: k.balance * 100 }) } }
                                o.val(JSON.stringify(d));
                                s = d;
                                e.resetPrice(f);
                                e.hideErrorMsg();
                                return false }) }, onNumberTip: function(e) {
                            var n = t.customCode;
                            n.numberTip && n.numberTip({ rule: "FOUR", FOUR: 20, tipsEl: $(QTMPL.numberTip.render({ mclass: "num_yh" })), change: function(e) { e ? this.config.tipsEl.text(e) : this.config.tipsEl.hide() } }) }, reset: function() {
                            var e = this;
                            s = [];
                            f = 0;
                            for (var t = 0; t > u.length; t++) {
                                var n = u[t];
                                n.used = false }
                            for (var i in a) { a[i].used = false }
                            r.find(".js_ac_l_chk").each(function() {
                                var t = $(this);
                                t.data("selected", false);
                                t.removeClass(e.cClass) }) }, render: function(e, n, r) {
                            var i = this.getPriceData(),
                                u = i.noAcTotal;
                            var l = typeof r == "boolean" && r || typeof r == "undefined";
                            var c = this,
                                h = [];
                            if (!e.length) { e = [e] }
                            for (var p = 0; p < e.length; p++) {
                                var d = (e[p].Practical || 0) - 0;
                                if (u <= f) { e[p].used = false;
                                    a[e[p].code].used = false;
                                    break }
                                l && (f += d);
                                e[p].used = l;
                                h.push(QTMPL.acTenCashItem.render(e[p]));
                                s.push({ cash_code: n || e[p].code, balance: e[p].balance * 100 }) }
                            if (l) { o.val(JSON.stringify(s)) }
                            if (h.length) {
                                var v = $(h.join(""));
                                t.loginW.show();
                                t.list.show().append(v);
                                v.find(".js_ac_l_chk").each(function() {
                                    var e = $(this);
                                    e.hasClass(c.cClass) ? e.data("selected", true) : e.data("selected", false) }) } else { t.loginW.hide();
                                t.list.hide() }
                            this.resetPrice(f) }, resetPrice: function(e) { QNR.event.trigger("activity-change", { type: "CASHLIMIT", price: e }) }, show: function() { t.mainW.show();
                            t.tipW.show();
                            t.add.removeClass("disabled").data("disabled", false);
                            this.resetPrice(0);
                            this.showWhetherLogin();
                            this.getList() }, showWhetherLogin: function() {
                            if (QNR.module.login.isLogin()) { t.logoutW.hide();
                                t.inputW.show() } else { t.loginW.hide();
                                t.logoutW.show();
                                t.inputW.show() } }, hide: function() { o.val("");
                            t.add.addClass("disabled").data("disabled", true);
                            t.mainW.hide();
                            t.inputW.hide();
                            this.reset() }, getList: function() {
                            if (this.isCurrent() && QNR.module.login.isLogin() && !this.loaded) {
                                var e = this;
                                this.resetPrice(0);
                                this.load({ url: "", newUrl: "/cash/myCashList.json?tag=CASHLIMIT&pId=" + QNR.bookdata.pId, needShowMsg: false, callback: function(n) { e.loaded = true;
                                        if (!n || !n.length) { t.loginW.hide();
                                            return }
                                        for (var r = 0; r < n.length; r++) {
                                            var i = n[r].cash_code;
                                            e.validateData(n[r]);
                                            a[i] = u[r] = n[r];
                                            n[r].used = false;
                                            n[r].code = i;
                                            e.render(n[r], i, false) } } }) } }, add: function() {
                            var n = this,
                                r = true;
                            var i = $.trim(t.customCode.val());
                            if (!i) { this.showErrorMsg("请输入" + e + "码");
                                return }
                            var s = this.getPriceData();
                            if (s.clientPay == 0) { r = false;
                                n.showErrorMsg("该订单已无需使用新" + e) } else { n.hideErrorMsg() }
                            if (!r) {
                                return }
                            if (a[i]) { n.showErrorMsg("很抱歉，该" + e + "已存在于列表中，请确认后重新输入");
                                return }
                            var o = ["code=" + encodeURIComponent(i) + "&pId=" + this.pId + "&tag=CASHLIMIT"];
                            if (this.ScodeIsInit !== null) { o.push("yzm=" + $("#js_scode_input").val(), "challenge=" + this.ScodeIsInit.challenge) }
                            this.sId && o.push("supplierId=" + this.sId);
                            var f = "/cash/secure/query.json?" + o[0];
                            var c = "/cash/secure/query.json?" + o.join("&");
                            if (l[f]) {
                                return }
                            l[f] = true;
                            this.load({ url: f, newUrl: c, needShowMsg: true, callback: function(e) {
                                    var r = n.validateData(e);
                                    r && n.reset();
                                    if ((k = a[i]) && parseInt(a[i].balance, 10) == 0) { window.dlg("现金券（" + k.code + "）当前不可用");
                                        return }
                                    e.code = i;
                                    e.cash_code = i;
                                    e.expired_time = e.expired_time + "";
                                    if (e.expired_time.length > 10) {
                                        var s = new Date,
                                            o = e.expired_time;
                                        s.setTime(o);
                                        var f = s.getFullYear() + "",
                                            l = s.getMonth() + 1 + "",
                                            c = s.getDate() + "";
                                        l = l.length < 2 ? "0" + l : l;
                                        c = c.length < 2 ? "0" + c : c;
                                        e.expired_time = f + "-" + l + "-" + c }
                                    u.push($.extend(true, { code: i, used: r }, e));
                                    a[i] = u[u.length - 1];
                                    n.render(e, i, r);
                                    if (u[u.length - 1].code == i) { t.customCode.val("") } } }) }, validateData: function(e) {
                            var t = this.getPriceData();
                            var n = t.original;
                            var r = parseInt(e.balance, 10);
                            var i = false;
                            if ((e.limitType || e.limit_type) == 1) {
                                var s = e.reduceRules || e.reduce_rules,
                                    o = {};
                                var u = 0;
                                for (var a = 0; a < s.length; a++) {
                                    var f = parseInt(s[a].money, 10),
                                        l = parseInt(s[a].reduce, 10);
                                    o[f] = l;
                                    if (n >= f && f > u) { u = f;
                                        i = true } }
                                if (i) { e.Practical = r > o[u] ? o[u] : r;
                                    return true } else { e.Practical = 0;
                                    return false } } else {
                                var c = parseInt(e.limitRate || e.limit_rate, 10);
                                var h = n * (c / 100);
                                e.Practical = h > r ? r : Math.floor(h);
                                return true } }, renderScode: function() {
                            if (h.ScodeIsInit === null) { h.ScodeIsInit = {};
                                h.ScodeIsInit.getUrl = function() {
                                    return location.protocol == "https:" ? "https://qcommons.qunar.com/captcha5/api/image?k={g3njj(t&t=" + (new Date).getTime() : "http://captcha5.pbs.qunar.com/api/image?k={g3njj(t&t=" + (new Date).getTime() };
                                h.ScodeIsInit.dom = $(QTMPL.scode.render({ url: h.ScodeIsInit.getUrl() })).appendTo($("#js_scode_blk_ten"));
                                h.ScodeIsInit.dom.find("#js_scode_imgs").click(function() { $(this).prop("src", h.ScodeIsInit.getUrl()) });
                                document.getElementById("js_scode_imgs").onload = function() { $.ajax({ url: location.protocol == "https:" ? "https://qcommons.qunar.com/captcha5/api/getCaptchaId" : "http://captcha5.pbs.qunar.com/api/getCaptchaId", dataType: "jsonp", success: function(e) { h.ScodeIsInit.challenge = e } }) } } else { $("#js_scode_imgs").prop("src", h.ScodeIsInit.getUrl()) } }, load: function(e) {
                            var n = e.url;
                            var r = e.newUrl;
                            var i = e.callback;
                            var s = e.needShowMsg;
                            var o = this;
                            $.ajax({ url: r, dataType: "json", success: function(e) {
                                    if (e.ret && e.data) {
                                        if (h.ScodeIsInit) { h.renderScode() }
                                        i && i(e.data);
                                        o.hideErrorMsg() } else if (s && e && e.msg) { o.showErrorMsg(e.msg);
                                        if (e.status && e.status !== 3) { t.inputW.find("em.warnico").css("right", "100px");
                                            h.renderScode() } } }, complete: function(e) { l[n] = false }, error: function() {} }) }, hideErrorMsg: function() { t.customCode.removeClass("text_warn");
                            t.inputW.removeClass("textbtngroup_warn");
                            t.errorMsg.hide().text("") }, showErrorMsg: function(e) { t.customCode.addClass("text_warn");
                            t.inputW.addClass("textbtngroup_warn");
                            t.errorMsg.show().text(e) }, valid: function(e) {
                            if (s.length == 0) { h.showErrorMsg("请输入正确的红包编号") }
                            if (s.length != 0 && o.val().length == 0) { e && e(o.val().length != 0, "请选择红包");
                                return }
                            e && e(s.length != 0, "请输入正确的红包编号") }, isCurrent: function() {
                            var e = $("#js_activity_sel");
                            return e.val() == "CASHLIMIT" }, getPriceData: function() {
                            var e = {};
                            QNR.module.priceManager.lastResult(function(t) { e = t || {} });
                            return e } };
                    return { init: function() { h.init() }, valid: function(e) { h.valid(e) }, show: function() { h.show() }, hide: function() { h.hide() } } }();
                return t }()) })() }(t.exports, t, e);
    e.____MODULES["453ec07f589e91d9c68b60ba1455414e"] = t.exports })(this);
(function(e) {
    var t = { id: "2802c6030303671316a525e08453caa1", filename: "activity.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.activities", function() {
                var e = { init: function(e) {
                        if (!this.inited) { this.$w = e && e.length ? e : $("#js_p_activity");
                            this.$select = $("#js_activity_sel");
                            this.initHtml();
                            this.initSelect();
                            this.initEvents();
                            this.showDefault();
                            this.initSpecia();
                            this.inited = true } }, initHtml: function() {
                        var e = { isShowTip: false },
                            t;
                        if (QNR.bookdata && QNR.bookdata.serviceDate && (new Date("2015/04/01")).getTime() > (parseInt(QNR.bookdata.serviceDate, 10) || 0)) { e.isShowTip = true }
                        this.$w.append(QTMPL.acWrapper.render(e)) }, initSelect: function() { this.$select.find("option").each($.proxy(function(e, t) {
                            var n = $(t),
                                r = n.attr("value"),
                                i = n.text();
                            if (this["preload" + r]) { this["preload" + r]({ text: i }) } }, this)) }, initEvents: function() {
                        var e = this;
                        QNR.event.bind("activity-message", $.proxy(function(e, t) { typeof console == "object" && console.log && console.log("提示信息,是否错误信息:", t.error, ',消息内容:"', t.message, '"') }, this));
                        QNR.module.tools.renderRadios({ $radios: this.$w.find(".js_ac_r"), clickFunc: function(t) { e.$select.val(t.data("value")).trigger("change") } });
                        this.$select.on("change", $.proxy(function() { this.handleChange() }, this)) }, handleChange: function() {
                        if (this.$select.val() == this.currentKey) {
                            return }
                        if (this.currentPanel) { this.currentPanel.hide && this.currentPanel.hide();
                            this.currentPanel = false }
                        this.currentKey = this.$select.val();
                        if (this.currentKey) { this.currentPanel = this["show" + this.currentKey] ? this["show" + this.currentKey]() : false;
                            QNR.currentActivityKey = this.currentKey } else { QNR.event.trigger("activity-change", [{}]) } }, valid: function(e) {
                        var t = this,
                            n = function(n, r) { typeof e === "function" && e(n, r);!n && t.$w.get(0) && t.$w.get(0).scrollIntoView() };
                        if (this.currentPanel && this.currentPanel.valid) { this.currentPanel.valid(n) } else { n(true) } }, checkAccess: function() {}, preloadQCHINADREAM: function() { QNR.module.ac.chinaDream.init() }, showQCHINADREAM: function() {
                        var e = QNR.module.ac.chinaDream;
                        e.show();
                        return e }, preloadCOUPON: function() { QNR.module.ac.coupon.init() }, showCOUPON: function() {
                        var e = QNR.module.ac.coupon;
                        e.show();
                        return e }, preloadSUPPLIER_REDUCE_COUPON: function() { QNR.module.ac.shopReduction.init() }, showSUPPLIER_REDUCE_COUPON: function() {
                        var e = QNR.module.ac.shopReduction;
                        e.show();
                        return e }, preloadCASH: function() { QNR.module.ac.cash.init() }, showCASH: function() {
                        var e = QNR.module.ac.cash;
                        e.show();
                        return e }, preloadCASHLIMIT: function() { QNR.module.ac.tencash.init() }, showCASHLIMIT: function() {
                        var e = QNR.module.ac.tencash;
                        e.show();
                        return e }, preloadLIJIAN: function() { QNR.module.ac.lijian.init() }, showLIJIAN: function() {
                        var e = QNR.module.ac.lijian;
                        e.show();
                        return e }, preloadEARLY_BUY: function() { QNR.module.ac.early.init() }, showEARLY_BUY: function() {
                        var e = QNR.module.ac.early;
                        e.show();
                        return e }, preloadMULTI_PEOPLE_REDUCE: function(e) { QNR.module.ac.multi.init({ title: e && e.text || "多人立减" }) }, showMULTI_PEOPLE_REDUCE: function() {
                        var e = QNR.module.ac.multi;
                        e.show();
                        return e }, preloadTELEPHONEREDUCTION: function() { QNR.module.ac.reduction.init() }, showTELEPHONEREDUCTION: function() {
                        var e = QNR.module.ac.reduction;
                        e.show();
                        return e }, showDefault: function() {
                        var e = this,
                            t;
                        for (var n in QNR.bookdata.activityRules) { t = n }
                        if (QNR.bookdata.activityRules["EARLY_BUY"]) { t = "EARLY_BUY" }
                        if (t = "TELEPHONEREDUCTION" || t === "MULTI_PEOPLE_REDUCE" || t === "EARLY_BUY") { e.showOption(t);
                            return }
                        this.showOption("-1") }, showOption: function(e) { this.$w.find('.js_ac_r[data-value="' + e + '"]').trigger("click") }, initSpecia: function() {
                        if (QNR.bookdata.activityRules && QNR.bookdata.activityRules.RENT_CAR) { QNR.module.ac.rentcar.init(this.$w) }
                        if (QNR.bookdata.showAcDreamCouponTit === true) { QNR.module.ac.titleFill.show({ colorClass: "orange", text: '"去哪儿都有中国梦"红包2014年11月1日0时起至11月30日24点可使用' }) } } };
                return { init: function() { e.init() }, valid: function(t) { e.valid(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["2802c6030303671316a525e08453caa1"] = t.exports })(this);
(function(e) {
    var t = { id: "1a89bdf380c8b26a2b984a7966a3b6af", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["744518f73a73a98b2a7eb489b1bd99e4"];
        e.____MODULES["aa29e404a2aa7f1ebd68b8e3f4a1f0c3"];
        e.____MODULES["6a4375f29761bed25348caab25d1e1e7"];
        e.____MODULES["b5376aede840f024bb5dc29e19422adf"];
        e.____MODULES["a2ec55c0173ce59fd281b534dc091dc3"];
        e.____MODULES["1b0fb4135936343a47fb4231e46bef13"];
        e.____MODULES["2f10000e18c747b5c53f92174aa10c05"];
        e.____MODULES["f14e9cc1343d12ed40cce8d1e329b9a5"];
        e.____MODULES["937b0f75d09ab41f3dc40968a7a20039"];
        e.____MODULES["e17f7b0cc789cc60619df9bd259bd048"];
        e.____MODULES["27f1e2416d2fbac503da621298d6b1e4"];
        e.____MODULES["eb622739738dc5acc9737ad789907aaa"];
        e.____MODULES["ff52a21ac375f3d52a82586dd24e0bb6"];
        e.____MODULES["c5e08174d5d4004f574a678fa2c1920a"];
        e.____MODULES["ae85617b6bc0af0111e2bc526ae06cf5"];
        e.____MODULES["51fd8a16c7aa03ecd16e119a391cab1d"];
        e.____MODULES["8c76d3c7ad3db404d4aad968d7200272"];
        e.____MODULES["6fbf640d63af3fbe23aa930009db3f7d"];
        e.____MODULES["a895a364b35e2ed0c6da9826dea72efb"];
        e.____MODULES["75267d68c4014385b1fc21b27c188cfc"];
        e.____MODULES["93e770fb5444d9dd12d70c7f3ebe2fc4"];
        e.____MODULES["64be46cb2b885ac6935fe93653375797"];
        e.____MODULES["c60cbddc3102b3a34029aa26f787fc20"];
        e.____MODULES["acd3867a21dbbc218afd8ee9163b3f62"];
        e.____MODULES["c50260ad377143925f472e427e99fe3f"];
        e.____MODULES["453ec07f589e91d9c68b60ba1455414e"];
        e.____MODULES["2802c6030303671316a525e08453caa1"] }(t.exports, t, e);
    e.____MODULES["1a89bdf380c8b26a2b984a7966a3b6af"] = t.exports })(this);
(function(e) {
    var t = { id: "661f103581f8460dbccd920871e8a277", filename: "calendarW.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["calendarW"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            if (r.s(r.f("isReserve", e, t, 1), e, t, 0, 14, 99, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="js_c_c_w miniCalendar">');
                    r.b("\n" + n);
                    r.b('	<div class="calendar js_c_c_p">');
                    r.b("\n" + n);
                    r.b("	</div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            if (!r.s(r.f("isReserve", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<div class="js_c_c_w">');
                r.b("\n" + n);
                r.b('	<div class="calendar js_c_c_p">');
                r.b("\n" + n);
                r.b("	</div>");
                r.b("\n" + n);
                r.b("</div>");
                r.b("\n") }
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["calendarW"] }(t.exports, t, e);
    e.____MODULES["661f103581f8460dbccd920871e8a277"] = t.exports })(this);
(function(e) {
    var t = { id: "6803fa8b720d260be433cdf209f34fc4", filename: "calendarTable.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["calendarTable"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<table class="days">');
            r.b("\n" + n);
            r.b("	<thead>");
            r.b("\n" + n);
            r.b("     	<tr>");
            r.b("\n" + n);
            r.b("        	<th>日</th>");
            r.b("\n" + n);
            r.b("            <th>一</th>");
            r.b("\n" + n);
            r.b("            <th>二</th>");
            r.b("\n" + n);
            r.b("            <th>三</th>");
            r.b("\n" + n);
            r.b("            <th>四</th>");
            r.b("\n" + n);
            r.b("            <th>五</th>");
            r.b("\n" + n);
            r.b("            <th>六</th>");
            r.b("\n" + n);
            r.b("        </tr>");
            r.b("\n" + n);
            r.b("    </thead>");
            r.b("\n" + n);
            r.b("	<tbody>");
            r.b("\n" + n);
            if (r.s(r.f("data", e, t, 1), e, t, 0, 246, 1408, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("		<tr>");
                    r.b("\n" + n);
                    if (r.s(r.d(".", e, t, 1), e, t, 0, 263, 1391, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                            if (r.s(r.f("canClickFlag", e, t, 1), e, t, 0, 285, 1239, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('				<td date="');
                                    r.b(r.v(r.f("dateStr", e, t, 0)));
                                    r.b('">');
                                    r.b("\n" + n);
                                    r.b("					<div ");
                                    if (r.s(r.f("isToday", e, t, 1), e, t, 0, 336, 349, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('class="today"') });
                                        e.pop() }
                                    r.b(">");
                                    r.b("\n" + n);
                                    r.b("						<p>");
                                    r.b("\n" + n);
                                    r.b('			              <span class="day">');
                                    r.b(r.v(r.f("dayStr", e, t, 0)));
                                    r.b("</span>");
                                    r.b("\n" + n);
                                    if (!r.s(r.f("isReserve", e, t, 1), e, t, 1, 0, 0, "")) { r.b("			              ");
                                        if (r.s(r.f("onlyStr", e, t, 1), e, t, 0, 478, 519, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<span class="tickets">余');
                                                n.b(n.v(n.f("onlyStr", e, t, 0)));
                                                n.b("</span>") });
                                            e.pop() }
                                        r.b("\n") }
                                    r.b("			            </p>");
                                    r.b("\n" + n);
                                    if (r.s(r.f("isReserve", e, t, 1), e, t, 0, 595, 689, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('						  <span class="price">');
                                            r.b("\n" + n);
                                            r.b('						  <span class="orange">可预约</span>');
                                            r.b("\n" + n);
                                            r.b("						  </span>");
                                            r.b("\n") });
                                        e.pop() }
                                    if (!r.s(r.f("isReserve", e, t, 1), e, t, 1, 0, 0, "")) {
                                        if (!r.s(r.f("idDuobaoJP", e, t, 1), e, t, 1, 0, 0, "")) { r.b("			            ");
                                            if (r.s(r.f("adultPrice", e, t, 1), e, t, 0, 778, 875, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<span class="price price_cr"><em></em><span class="orange claw">&yen;');
                                                    n.b(n.v(n.f("adultPrice", e, t, 0)));
                                                    n.b("</span></span>") });
                                                e.pop() }
                                            r.b("\n" + n);
                                            r.b("			            ");
                                            if (r.s(r.f("isChildPrice", e, t, 1), e, t, 0, 923, 1020, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<span class="price price_er"><em></em><span class="orange claw">&yen;');
                                                    n.b(n.v(n.f("childPrice", e, t, 0)));
                                                    n.b("</span></span>") });
                                                e.pop() }
                                            r.b("\n" + n);
                                            r.b("			            ");
                                            if (r.s(r.f("isTaocan", e, t, 1), e, t, 0, 1066, 1155, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<span class="price"><em></em><span class="orange claw">&yen;');
                                                    n.b(n.v(n.f("taocanPrice", e, t, 0)));
                                                    n.b("</span></span>") });
                                                e.pop() }
                                            r.b("\n") } }
                                    r.b("					</div>");
                                    r.b("\n" + n);
                                    r.b("				</td>");
                                    r.b("\n") });
                                e.pop() }
                            r.b("				");
                            r.b("\n" + n);
                            if (!r.s(r.f("canClickFlag", e, t, 1), e, t, 1, 0, 0, "")) { r.b('				<td><div class="expire"><p><span class="day">');
                                r.b(r.v(r.f("dayStr", e, t, 0)));
                                r.b("</span></p></div></td>");
                                r.b("\n") } });
                        e.pop() }
                    r.b("		</tr>");
                    r.b("\n") });
                e.pop() }
            r.b("	</tbody>");
            r.b("\n" + n);
            r.b("</table>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["calendarTable"] }(t.exports, t, e);
    e.____MODULES["6803fa8b720d260be433cdf209f34fc4"] = t.exports })(this);
(function(e) {
    var t = { id: "725813c2eebbcdc439b38eadb5de2e7d", filename: "calendarTitle.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["calendarTitle"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<span class="close"></span>');
            r.b("\n" + n);
            if (r.s(r.f("isReserve", e, t, 1), e, t, 0, 42, 178, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="yuyue_tip">');
                    r.b("\n" + n);
                    r.b("	<p>注意:</p>");
                    r.b("\n" + n);
                    r.b("	<p>在商家确认前，出行日期将不能变更</p>");
                    r.b("\n" + n);
                    r.b('	<p>如确实需要更改，请电话联系商家<span data-note="shopPhone">');
                    r.b(r.v(r.f("tele", e, t, 0)));
                    r.b("</span></p>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b('<div class="month">');
            r.b("\n" + n);
            r.b('	<a href="javascript:;" class="pre_m ');
            r.b(r.v(r.f("prevClass", e, t, 0)));
            r.b('" placeholder="prev"><i class="pre_ico"></i></a>');
            r.b("\n" + n);
            r.b('    <ul class="month_list">');
            r.b("\n" + n);
            if (r.s(r.f("dateArr", e, t, 1), e, t, 0, 357, 543, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("    	<li ");
                    if (n.s(n.f("isCurrent", e, t, 1), e, t, 0, 381, 395, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b('class="active"') });
                        e.pop() }
                    n.b(' placeholder="monthbtn" yearmonth="');
                    n.b(n.v(n.f("yearmonth", e, t, 0)));
                    n.b('" canclickflag="true"><a href="javascript:;" class="item_m">');
                    n.b(n.v(n.f("dateStr", e, t, 0)));
                    n.b("</a></li>");
                    n.b("\n") });
                e.pop() }
            r.b("    </ul>");
            r.b("\n" + n);
            r.b('    <a href="javascript:;" class="neat_m ');
            r.b(r.v(r.f("nextClass", e, t, 0)));
            r.b('" placeholder="next"><i class="next_ico"></i></a>');
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["calendarTitle"] }(t.exports, t, e);
    e.____MODULES["725813c2eebbcdc439b38eadb5de2e7d"] = t.exports })(this);
(function(e) {
    var t = { id: "b9f491f4fdfaa4f496e13eaad3e12f06", filename: "calendar.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) { $.namespace("QNR.module.calendar", function() {
            var e = function(e) { $.extend(this, { $handler: $(), handlerFunc: function() {} }, e);
                this.init() };
            $.extend(e.prototype, { init: function() { this.initParams();
                    this.initEvents();
                    this.initCalendar() }, initParams: function() { this.$dialog = new QNR.htmlDialog(QTMPL.calendarW.render({ isReserve: QNR.bookdata.isReserve }));
                    this.$w = this.$dialog.dom;
                    this.$p = this.$w.find(".js_c_c_p");
                    this.monthArr = QNR.bookdata.validMonths || [];
                    this.dateArr = function(e, t) {
                        var n = [];
                        $.each(e, function(e, r) {
                            var i = { yearmonth: r, isCurrent: false, dateStr: t(r) };
                            n.push(i) });
                        return n }(this.monthArr, this.getYMStr) }, initEvents: function() {
                    var e = this;
                    this.$w.on("click", ".js_c_c_h", $.proxy(function() {
                        if (this.$p.is(":hidden")) { this.$p.show();
                            this.$w.addClass("prc_cld_on") } else { this.$p.hide();
                            this.$w.removeClass("prc_cld_on") } }, this));
                    this.$w.on("mouseleave", $.proxy(function() { this.$w.hasClass("prc_cld_on") && this.$h.trigger("click") }, this));
                    this.$w.on("click", ".close", function() { e.$dialog.hide() });
                    this.$handler.on("click", function() {
                        if (e.$dateEl.val() && e.$dateEl.val().substring(0, 7) != e.calendar.getMonth()) { e.calendar.setMonth(e.$dateEl.val().substring(0, 7)) }
                        e.$dateEl.blur();
                        e.$dialog.show() }) }, initCalendar: function() {
                    var e = this;
                    var t = "?fpid=" + QNR.bookdata.fpid + "&tuId=" + QNR.bookdata.tuId;
                    t += window.customPid ? "&customPid=" + window.customPid : "";
                    t += "&caller=confirm";
                    this.calendar = new QNR.detail.calendar({ parent: e.$p, pId: QNR.bookdata.pId, minDay: DateUtil.parse(QNR.bookdata.minDay), maxDay: DateUtil.parse(QNR.bookdata.maxDay), currentDay: DateUtil.parse(QNR.bookdata.date), buy_count: QNR.bookdata.count.adult, url: QNR.bookdata.isReserve ? "/api/reservePrices.json" + t : "/api/calPrices.json" + t, datakey: "team", paramkey: "month", titleRenderType: "multi", validDataMonthsFlag: !!this.monthArr.length, validDataMonths: this.monthArr, renderTitleFunc: $.proxy(e.renderTitle, e), renderTableFunc: $.proxy(e.renderTable, e), activeClass: "today", cache: true, finish: function() {
                            if (QNR.bookdata.isReserve) { e.$dialog.show() } }, render: this.render, handler: function(t, n, r) {
                            if (!t || !t.length) {
                                return }
                            var i = window.Oldversion.fixFreetripCalendar(t[0]);
                            if (i.price) {
                                var s = DateUtil.format(i.date),
                                    o = e.calendar;
                                if (o.getCell(QNR.bookdata.date)) { o.getCell(QNR.bookdata.date).removeClass("active") }
                                if (o.getCell(s)) { o.getCell(s).addClass("active") }
                                QNR.bookdata.date = s;
                                e.$dateEl.each(function() {
                                    var e = $(this);
                                    if (this.nodeName == "INPUT") { e.val(s) } else { e.html(s) } });
                                QNR.module.insurance && QNR.module.insurance.setDate(s);
                                e.$dialog.hide();
                                if (typeof e.handlerFunc === "function") { e.handlerFunc.call(e, i) }
                                QNR.event.trigger("top.calendarOrTypeChange", [i.price.send, i.roomType, i.date, i]);
                                setTimeout(function() { QNR.event.trigger("EARLY_BUY") }, 0) }
                            QNR.module.venue && QNR.module.venue.init({ $wrapper: $("#js_p_venue"), tId: i.tId }) }, handlerTitle: function(e) {}, onrendered: function() {
                            if (e.dateArr.length < 5) { e.$w.find('[placeholder="prev"]').remove();
                                e.$w.find('[placeholder="next"]').remove() }
                            var t = DateUtil.format(this.opts.currentDay);
                            var n = $(this.getCell(t));
                            n.attr("date") && n.addClass("pcurrentDate");
                            QNR.event.fire("qnr-calendar-rendered", { totalData: this.data, currentDate: t }) } }) }, renderTitle: function(e) {
                    var t = QTMPL.calendarTitle.render({ prevClass: e.prevClass, nextClass: e.nextClass, tele: QNR.bookdata.tele, isReserve: QNR.bookdata.isReserve, dateArr: this.getDateArr(e.cuym) });
                    return t }, renderTable: function(e) {
                    var t = this.prefix(e.data);
                    var n = QTMPL.calendarTable.render({ data: t, isReserve: QNR.bookdata.isReserve, idDuobaoJP: !!window.isCustomActivitiesPrize });
                    return n }, prefix: function(e) {
                    if (!e) return {};
                    for (var t = 0, n = e.length; t < n; t++) {
                        var r = e[t];
                        for (var i = 0, s = r.length; i < s; i++) {
                            var o = r[i],
                                o = window.Oldversion.fixFreetripCalendar(o);
                            var u = o.price,
                                a = o.prices;
                            o.canClickFlag = u ? true : false;
                            o.dayStr = o.date.getDate();
                            o.dateStr = DateUtil.format(o.date);
                            if (u) {
                                var f = 0;
                                if (a) { f = a.combineTransportPrice || 0;
                                    a.adultPrice = a.adultPrice - f;
                                    a.childPrice = a.childPrice - f;
                                    a.taocan_price = a.taocan_price - f }
                                o.isTaocan = !!QNR.bookdata.is_taocan;
                                o.taocanPrice = u.taocan - f;
                                o.adultPrice = u.adult - f;
                                o.childPrice = u.child - f;
                                o.isChildPrice = !!u.is_child_price;
                                o.dayStr = o.isToday ? "今天" : o.dayStr;
                                o.onlyStr = parseInt(o.only, 10) < 10 ? o.only + "" : false } } }
                    return e }, getDateArr: function(e) {
                    var t = [{ dateStr: this.getYMStr(e), yearmonth: e, isCurrent: true }],
                        n = [],
                        r = [],
                        i = this.getInt(e);
                    for (var s = 0, o = this.dateArr.length; s < o; s++) {
                        var u = this.getInt(this.dateArr[s].yearmonth);
                        if (u == i) {
                            continue }
                        u > i ? r.push(this.dateArr[s]) : n.push(this.dateArr[s]) }
                    t = r.length > 3 ? t.concat(r.slice(0, 3)) : t.concat(r);
                    t = t.length < 4 ? n.slice(t.length - 4).concat(t) : t;
                    return t }, getYMStr: function(e) {
                    if (!e) return "";
                    if (e.length == 7) { e = e.replace(/^(\d{4})-(\d{2})$/, "$1年$2月") } else if (e.length == 10) { e = e.replace(/^(\d{4})-(\d{2})-(\d{2})$/, "$1年$2月$3日") }
                    return e }, getInt: function(e) {
                    return e && parseInt(e.replace("-", ""), 10) } });
            return { init: function(t) {
                    return new e(t) } } }()) }(t.exports, t, e);
    e.____MODULES["b9f491f4fdfaa4f496e13eaad3e12f06"] = t.exports })(this);
(function(e) {
    var t = { id: "8088d2d3061b127be4923c0eac912491", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["661f103581f8460dbccd920871e8a277"];
        e.____MODULES["6803fa8b720d260be433cdf209f34fc4"];
        e.____MODULES["725813c2eebbcdc439b38eadb5de2e7d"];
        e.____MODULES["b9f491f4fdfaa4f496e13eaad3e12f06"] }(t.exports, t, e);
    e.____MODULES["8088d2d3061b127be4923c0eac912491"] = t.exports })(this);
(function(e) {
    var t = { id: "96d558cfa21b0d18c9cf81d56a805af8", filename: "veWrapper.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["veWrapper"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="route_tit">选择地点</div>');
            r.b("\n" + n);
            r.b('<div class="route_con">');
            r.b("\n" + n);
            r.b('	<div class="th_info">');
            r.b("\n" + n);
            r.b("    	<p class=\"black\" item='oneShower'></p>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b('    <a href="javascript:;" class="fl change_btn" item=\'chgBtn\'>更换地点</a>');
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b('<input type="hidden" name="pDepartureId" value=""/>');
            r.b("\n");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["veWrapper"] }(t.exports, t, e);
    e.____MODULES["96d558cfa21b0d18c9cf81d56a805af8"] = t.exports })(this);
(function(e) {
    var t = { id: "5807d9562d4aca5881643427d3f70607", filename: "veItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["veItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("地点：");
            r.b(r.v(r.f("gatherAddress", e, t, 0)));
            if (r.s(r.f("gatherTime", e, t, 1), e, t, 0, 35, 52, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("时间：");
                    n.b(n.v(n.f("gatherTime", e, t, 0))) });
                e.pop() }
            r.b("\n");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["veItem"] }(t.exports, t, e);
    e.____MODULES["5807d9562d4aca5881643427d3f70607"] = t.exports })(this);
(function(e) {
    var t = { id: "749d795079bdd6801d2a0d88544c33ec", filename: "vePopup.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["vePopup"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<div class=\"popup js_ve_p_w\" style='display:none;'>");
            r.b("\n" + n);
            r.b('	<div class="popup_tit cf">');
            r.b("\n" + n);
            r.b('    	<span class="popup_name">选择地点</span>');
            r.b("\n" + n);
            r.b('        <a class="popup_close" href="javascript:;" item="close"></a>');
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b('    <div class="popup_con">');
            r.b("\n" + n);
            r.b('    	<table class="table_bs">');
            r.b("\n" + n);
            r.b("          <tbody item='main'>");
            r.b("\n" + n);
            r.b("            <!--这里存放内容-->");
            r.b("\n" + n);
            r.b("          </tbody>");
            r.b("\n" + n);
            r.b("        </table>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["vePopup"] }(t.exports, t, e);
    e.____MODULES["749d795079bdd6801d2a0d88544c33ec"] = t.exports })(this);
(function(e) {
    var t = { id: "7dcd944aaf57816d3105250b95652a19", filename: "vePopupItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["vePopupItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<tr item='popItem'>");
            r.b("\n" + n);
            r.b("  <td><span>地点：");
            r.b(r.v(r.f("gatherAddress", e, t, 0)));
            if (r.s(r.f("gatherTime", e, t, 1), e, t, 0, 67, 84, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("时间：");
                    n.b(n.v(n.f("gatherTime", e, t, 0))) });
                e.pop() }
            r.b("</span></td>");
            r.b("\n" + n);
            r.b('  <td width="50"><a class="btn_blue btn_sm" href="javascript:;" item="sBtn">选择</a></td>');
            r.b("\n" + n);
            r.b("</tr>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["vePopupItem"] }(t.exports, t, e);
    e.____MODULES["7dcd944aaf57816d3105250b95652a19"] = t.exports })(this);
(function(e) {
    var t = { id: "588a5c8ed66e1de1eeae279e103c628d", filename: "venue.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.venue", function() {
                var e = { init: function(e) {
                        if (!this.inited) { $.extend(this, { $wrapper: $("#js_p_venue"), tId: "" }, e);
                            this.initHtml();
                            this.initEvents();
                            this.inited = true }
                        this.initData() }, initHtml: function() { this.$wrapper.html(QTMPL.veWrapper.render());
                        this.$oneShower = this.$wrapper.find('[item="oneShower"]');
                        this.$hideInput = this.$wrapper.find('[name="pDepartureId"]');
                        this.$popup = $(".js_ve_p_w");
                        this.$popup = this.$popup.length ? this.$popup : $(QTMPL.vePopup.render()).appendTo($("body"));
                        this.$mask = QNR.module.mask }, initEvents: function() {
                        var e = this;
                        this.$wrapper.on("click", '[item="chgBtn"]', function() { e.showPopup($(this)) });
                        this.$popup.on("click", '[item="sBtn"]', function() {
                            var t = $(this),
                                n = t.closest('[item="popItem"]').data("data");
                            e.createOneItem(n);
                            e.hidePopup() });
                        this.$popup.on("click", '[item="close"]', function() { e.hidePopup() }) }, initData: function() {
                        var e = this;
                        $.ajax({ url: "/order/getGatherInfo.json?tId=" + this.tId, dataType: "json", success: function(t) {
                                if (t && t.ret && t.data && t.data.length) {
                                    var n = t.data;
                                    e.createOneItem(n[0]);
                                    e.renderPopup(n);
                                    e.$wrapper.show() } else { e.$wrapper.hide() } } }) }, createOneItem: function(e) { this.$oneShower.html(QTMPL.veItem.render(e));
                        this.$hideInput.val(e.id) }, renderPopup: function(e) {
                        var t = this.$popup.find('[item="main"]').html("");
                        $.each(e, function(e, n) {
                            var r = $(QTMPL.vePopupItem.render(n));
                            r.data("data", n);
                            t.append(r) }) }, showPopup: function(e) {
                        var t = this.$popup.width(),
                            n = e.height(),
                            r = e.offset().top,
                            i = e.offset().left;
                        this.$popup.css({ position: "absolute", top: r + n, left: i - t, zIndex: "1001" }).show();
                        this.$mask.show() }, hidePopup: function() { this.$popup.hide();
                        this.$mask.hide() } };
                return { init: function(t) { e.init(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["588a5c8ed66e1de1eeae279e103c628d"] = t.exports })(this);
(function(e) {
    var t = { id: "b141e9885139bc28c987e2e17be113f4", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["96d558cfa21b0d18c9cf81d56a805af8"];
        e.____MODULES["5807d9562d4aca5881643427d3f70607"];
        e.____MODULES["749d795079bdd6801d2a0d88544c33ec"];
        e.____MODULES["7dcd944aaf57816d3105250b95652a19"];
        e.____MODULES["588a5c8ed66e1de1eeae279e103c628d"] }(t.exports, t, e);
    e.____MODULES["b141e9885139bc28c987e2e17be113f4"] = t.exports })(this);
(function(e) {
    var t = { id: "14d619e04a5b1c2dd6910b7f846eb2d9", filename: "inputTip.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["inputTip"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<!---");
            r.b("\n" + n);
            r.b('<div class="alert js_p_p_inputTip" style="display:none;">');
            r.b("\n" + n);
            r.b("    <div item='text'>");
            r.b(r.v(r.f("text", e, t, 0)));
            r.b(" </div>");
            r.b("\n" + n);
            r.b('    <div class="caret_tr"><i class="caret_out"></i><i class="caret_in"></i></div>');
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("--->");
            r.b("\n" + n);
            r.b("<div class='warning_box ");
            r.b(r.v(r.f("pclass", e, t, 0)));
            r.b(" js_p_p_inputTip'>");
            r.b("\n" + n);
            r.b('	<i class="warning"></i>');
            r.b("\n" + n);
            r.b("	<div class=\"note\" item='text'>");
            r.b(r.v(r.f("text", e, t, 0)));
            r.b("</div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["inputTip"] }(t.exports, t, e);
    e.____MODULES["14d619e04a5b1c2dd6910b7f846eb2d9"] = t.exports })(this);
(function(e) {
    var t = { id: "a917728d71e76ffebd4317d07915cd92", filename: "mask.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["mask"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="js_p_mask" style="position:absolute;z-index:1000;background-color:#000;left:0px;top:0px;opacity:0.7;filter:Alpha(opacity=60);overflow:hidden;"></div>');
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["mask"] }(t.exports, t, e);
    e.____MODULES["a917728d71e76ffebd4317d07915cd92"] = t.exports })(this);
(function(e) {
    var t = { id: "c682afaa3d98d3b8d404a426f299b0a5", filename: "dialog.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["dialog"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="popup">');
            r.b("\n" + n);
            r.b('	<div class="popup_tit cf">');
            r.b("\n" + n);
            r.b('    	<span class="popup_name oe_dlg_hd">提示</span>');
            r.b("\n" + n);
            r.b('        <a href="javascript:;" class="popup_close oe_dlg_close"></a>');
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b('    <div class="popup_con">');
            r.b("\n" + n);
            r.b('    	<div class="oe_dlg_bd">');
            r.b("\n" + n);
            r.b("    	</div>");
            r.b("\n" + n);
            r.b('		<p class="btn_center oe_dlg_ft">');
            r.b("\n" + n);
            r.b("		</p>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["dialog"] }(t.exports, t, e);
    e.____MODULES["c682afaa3d98d3b8d404a426f299b0a5"] = t.exports })(this);
(function(e) {
    var t = { id: "753d33727f98f00a021d027d6dec8366", filename: "tools.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.tools", function() {
                var e = { renderRadios: function(e) { e = $.extend({ $radios: $(), activeClass: "active", clickFunc: function() {} }, e);
                        e.$radios.on("click", function(t) { t.preventDefault();
                            var n = $(this);
                            if (n.data("disabled") === true) {
                                return }
                            e.$radios.find(".icon").removeClass(e.activeClass);
                            n.find(".icon").addClass(e.activeClass);
                            typeof e.clickFunc === "function" && e.clickFunc.call(this, n) }) }, renderPlaceholder: function(e) {
                        if ($.browser.msie && e && e.jquery && e.length) { e.each(function(e, t) {
                                var n = $(t),
                                    r = n.attr("placeholder") ? n.attr("placeholder") : "";
                                n.data("placehoder", r);
                                var i = function(e, t) {
                                    if (!$.trim(e.val())) { e.val(t) } };
                                i(n, r);
                                n.bind("focus", function() {
                                    if ($.trim($(this).val()) == $(this).data("placehoder")) { $(this).val("") }
                                    $(this).addClass("focus") }).bind("blur", function() { i(n, $(this).data("placehoder"));
                                    if ($.trim($(this).val()) == $(this).data("placehoder")) { $(this).removeClass("focus") } }) }) } } };
                return { renderRadios: function(t) { e.renderRadios(t) }, renderPlaceholder: function(t) { e.renderPlaceholder(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["753d33727f98f00a021d027d6dec8366"] = t.exports })(this);
(function(e) {
    var t = { id: "73530242d8dfce73b1c59600e9c5a772", filename: "dlg.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.dlg", function() {
                var e = { show: function(e) { $.extend(this, { ptext: "", ttext: "", url: "", btnText: "", sh: "", width: "", needCancel: false, afterClose: null, callback: null }, e);
                        var t = '<a href="javascript:;" class="btn_blue btn_sm"></a>';
                        var n = this,
                            r = !this.width ? r = new Dlg({ tmpl: QTMPL.dialog.render(), btnTmpl: t, zIndex: 3003, drag: false, afterClose: this.afterClose }) : new Dlg({ tmpl: QTMPL.dialog.render(), btnTmpl: t, zIndex: 3003, drag: false, width: this.width, afterClose: this.afterClose });
                        var i = [];
                        i.push('<p class="tip_con">' + this.ptext || "提交失败，请重试或者联系客服！" + "</p>");
                        this.ttext ? i.push('<p class="tip_close" item="tip">' + this.ttext + "</p>") : "";
                        r.setBody(i.join(""));
                        var s = [{ text: n.btnText || "确定", fn: function() { n.url && (location = n.url);
                                r.close();
                                n.callback && n.callback() } }];
                        this.needCancel ? s.push({ text: "取消", fn: function() { r.close() } }) : "";
                        r.setBtns(s);
                        r.setHeader(this.sh || "提示");
                        r.show();
                        return r } };
                return { show: function(t) {
                        return e.show(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["73530242d8dfce73b1c59600e9c5a772"] = t.exports })(this);
(function(e) {
    var t = { id: "284a5662bbabb5931b7c1b5f590ba8c2", filename: "mask.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.mask", function() {
                var e = { show: function() {
                        var e = this.getWH();
                        this.$mask = $(".js_p_mask");
                        this.$mask = this.$mask.length ? this.$mask : $(QTMPL.mask.render()).appendTo($("body"));
                        this.$mask.show().css({ width: e.width, height: e.height }) }, hide: function() { this.$mask && this.$mask.hide() }, getWH: function() {
                        return { width: Math.max(document.documentElement.clientWidth, document.body.clientWidth), height: Math.max(document.documentElement.clientHeight, document.body.clientHeight) } } };
                return { show: function() { e.show() }, hide: function() { e.hide() } } }()) })() }(t.exports, t, e);
    e.____MODULES["284a5662bbabb5931b7c1b5f590ba8c2"] = t.exports })(this);
(function(e) {
    var t = { id: "bb1f350809b77c4bb729a88502e14619", filename: "stock.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.stock", function() {
                var e = { check: function(e, t) { $.ajax({ url: e.url, dataType: "json", data: e, success: function(e) {
                                if (e && e.ret) { t(true) } else { t(false);
                                    QNR.module.dlg && QNR.module.dlg.show({ ptext: e && e.msg || "对不起,校验库存失败,请重试!", url: e && e.locateUrl }) } } }) } };
                return { check: function(t, n) { e.check(t, n) } } }()) })() }(t.exports, t, e);
    e.____MODULES["bb1f350809b77c4bb729a88502e14619"] = t.exports })(this);
(function(e) {
    var t = { id: "db5f458298302d2abdf0f8c6fdbee417", filename: "interCountry.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() {
            var e = { url: "/urlProxy/proxy.qunar?url=http://www.qunar.com/suggest/countrysearch.jsp?q=*&callback=?" };
            var t = { add: function(e, t) {
                    var n = this;
                    e.each(function() { n.one($(this), t) }) }, one: function(t, n) { t.qsuggest({ ajax: { url: e.url, dataType: "jsonp", cache: false }, width: 200, container: $("<div style='position:relative;' />").insertAfter(t), reader: function(e) {
                            var t = [];
                            var n = e.userInput;
                            var r = new RegExp("(" + n + ")", "i");
                            t = $.map(e.result, function(e) {
                                var t = e.display;
                                var n = t.match(/(\w{2})\)$/)[1];
                                return { show: t, name: '<a href="#">' + e.display.replace(r, '<span class="highlight">$1</span>') + "</a>", val: e.display.split("(")[0], stype: 0 } });
                            t.unshift({ show: "", name: '<span class="tip">输入国家名的中文/英文（简写）</span>', val: "", stype: 1 });
                            if (t.length == 1) { t.push({ show: "", name: '<div class="findno">对不起，找不到<span class="highlight">' + n + "</span>请重新输入</div>", val: "", stype: 1 }) }
                            this.activeEl.data("data", t);
                            return t }, render: function(e) {
                            return e }, delay: 200, on: { "q-suggest-user-action": function(e, t, r) {
                                var i = r.show.match(/\(\w*,\w*,(\w*)\)/);
                                if (i && i[1]) { n && n.val(i[1]) }
                                this.value = r.val }, "q-suggest-hide": function(e) {
                                var t = $(this).data("data"),
                                    r = $.trim(this.value);
                                for (var i = 0; i < t.length; i++) {
                                    if (t[i].name == r || r == t[i].val) { this.value = t[i].val;
                                        var s = t[i].show.match(/\(\w*,\w*,(\w*)\)/);
                                        if (s && s[1]) { n && n.val(s[1]) } } } } } }) } };
            QNR.event.bind("passengerInfoNumChange", function(e, n) {
                var r = n.elem.closest(".js_p_p_item");
                t.add(r.find("[data-type='country_cn']"), r.find("[data-type='country_code']"));
                t.add(r.find("[data-type='certificate_place_cn']"), r.find("[data-type='certificate_place']")) }) })() }(t.exports, t, e);
    e.____MODULES["db5f458298302d2abdf0f8c6fdbee417"] = t.exports })(this);
(function(e) {
    var t = { id: "fbfd236b7c277061daf8dcffc0b6469a", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["14d619e04a5b1c2dd6910b7f846eb2d9"];
        e.____MODULES["a917728d71e76ffebd4317d07915cd92"];
        e.____MODULES["c682afaa3d98d3b8d404a426f299b0a5"];
        e.____MODULES["753d33727f98f00a021d027d6dec8366"];
        e.____MODULES["73530242d8dfce73b1c59600e9c5a772"];
        e.____MODULES["284a5662bbabb5931b7c1b5f590ba8c2"];
        e.____MODULES["bb1f350809b77c4bb729a88502e14619"];
        e.____MODULES["db5f458298302d2abdf0f8c6fdbee417"] }(t.exports, t, e);
    e.____MODULES["fbfd236b7c277061daf8dcffc0b6469a"] = t.exports })(this);
(function(e) {
    var t = { id: "90792d5631a26f4ce3702f0c911ca9a5", filename: "priceManager.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = e.____MODULES["e255b49756b78d382db609857cb01051"].ctripPriceManager;
        var s = { get: function(e, t, n) { this.cache[e] = t;
                this.lastType = e;
                var r = { type: e, arg: t };
                switch (e) {
                    case "visa":
                    case "group":
                    case "freetrip":
                        return a.get(r, n);
                    case "freetrip-calendar":
                    case "freetrip-catalog":
                    case "cruise":
                        return a.get(r, n);
                        break;
                    case "common":
                        return u.get(t, n);
                        break;
                    case "custom":
                        return o.get(t, n);
                        break;
                    case "CTripGroup":
                        i.init(a);
                        return i.get(r, n);
                        break;
                    default:
                        break } }, cache: {}, lastType: "common", lastResult: function(e, t) {
                if (arguments.length == 1 && typeof e == "function") { t = e;
                    e = this.lastType }
                switch (e) {
                    case "group":
                    case "visa":
                    case "freetrip":
                    case "freetrip-calendar":
                    case "freetrip-catalog":
                    case "cruise":
                        return a.lastResult(t);
                        break;
                    case "common":
                        return u.lastResult(t);
                        break;
                    case "custom":
                        return o.lastResult(t);
                        break;
                    case "CTripGroup":
                        return i.lastResult(t);
                    default:
                        break } } };
        var o = { get: function(e, t) {
                var n = { original: 0, reduce: 0, total: 0, noAcTotal: 0 };
                var r = 0;
                n.total = e.count * e.prices.price;
                n.original = n.total;
                n.noAcTotal = n.total;
                if (e.prices.insurance) {
                    var i = 0;
                    $.each(e.prices.insurance || [], function(e, t) { i += t.price * t.count });
                    r = n.insurance = i;
                    n.total += r }
                var s = 0;
                if (e.prices.valueAdded) {
                    var o = 0;
                    $.each(e.prices.valueAdded || [], function(e, t) { o += t.price * t.count });
                    s = n.valueAdded = o;
                    n.total += s }
                if (e.activity && e.activity.type) {
                    var u = e.activityRules;
                    var a = e.activity.type;
                    switch (a) {
                        case "COUPON":
                        case "SUPPLIER_REDUCE_COUPON":
                        case "CASH":
                        case "CASHLIMIT":
                        case "MULTI_PEOPLE_REDUCE":
                        case "EARLY_BUY":
                        case "VIP":
                        case "REDUCTION":
                            f.compute(a, n, e);
                            break;
                        default:
                            break } }
                this.snapshot = n;
                if (t && typeof t == "function") { t(n) }
                return n }, snapshot: {}, lastResult: function(e) { e(this.snapshot);
                return this.snapshot } };
        var u = { get: function(e, t) {
                var n = { original: 0, reduce: 0, total: 0, noAcTotal: 0 };
                var r = 0;
                n.taocan = e.prices.price;
                n.total = e.count * e.prices.price;
                n.original = n.total;
                if (e.prices.insurance) {
                    var i = 0;
                    $.each(e.prices.insurance || [], function(e, t) { i += t.price * t.count });
                    r = n.insurance = i;
                    n.total += r }
                var s = 0;
                if (e.prices.valueAdded) {
                    var o = 0;
                    $.each(e.prices.valueAdded || [], function(e, t) { o += t.price * t.count });
                    s = n.valueAdded = o;
                    n.total += s;
                    n.original += s }
                var u = 0;
                if (e.prices.tieIn && e.prices.tieIn.length) { $.each(e.prices.tieIn, function() {
                        if (this.days !== undefined) { u += this.count * this.price * this.days } else { u += this.count * this.price } });
                    n.tieIn = u }
                n.total += u;
                var a = 0;
                if (QNR.hasPackedFlight) {
                    var l = QNR.bookdata.taocanCnt;
                    a = (l.adultCount + l.childCount) * e.count * QNR.packedFlightPrice }
                n.total += a;
                n.noAcTotal = n.total;
                e.prices.prepayPercent != null ? n.preAuthorAmountTotal = Math.round(n.original * e.prices.prepayPercent) : "";
                if (e.activity && e.activity.type) {
                    var c = e.activityRules;
                    var h = e.activity.type;
                    switch (h) {
                        case "COUPON":
                        case "SUPPLIER_REDUCE_COUPON":
                        case "CASHLIMIT":
                        case "CASH":
                        case "MULTI_PEOPLE_REDUCE":
                        case "EARLY_BUY":
                        case "VIP":
                        case "REDUCTION":
                            f.compute(h, n, e) } }
                this.snapshot = n;
                if (t && typeof t == "function") { t(n) }
                return n }, snapshot: {}, lastResult: function(e) { e(this.snapshot);
                return this.snapshot } };
        var a = { get: function(e, t) {
                var n = e.type,
                    r = e.arg;
                r = $.extend(true, { adult: 0, child: 0, room: 0, count: 0, price: { adult: 0, child: 0, send: 0, virtualSend: 0, is_child_price: false, reduce: { type: -1, num: 0 }, roomtype: 2, express: 0, preAuthorAmount: null, prepayPercent: null }, activity: {}, activityRules: {}, isYoosure: null }, r);
                var i = { original: 0, total: 0, adult: 0, child: 0, reduce: 0, roomSend: 0, roomDiffNum: 0, express: 0, noAcTotal: 0 };
                var s = r.price.express || 0;
                s = parseInt(s, 10);
                s = isNaN(s) ? 0 : s;
                i.express = s;
                i.adult = r.adult * r.price.adult;
                i.child = r.child * r.price.child;
                var o = r.adult;
                if (r.isYoosure) { o = r.adult + r.child }
                if (window.isCTripMode) { i.roomDiffNum = r.ctripFCNum || 0 } else { i.roomDiffNum = r.room === 0 ? 0 : Math.abs(r.room * r.count - o) }
                i.roomSend = i.roomDiffNum * r.price.send;
                i.roomVSend = i.roomDiffNum * Math.max(r.price.virtualSend, r.price.send);
                var u = i.insurance = 0,
                    a = 0;
                $.each(r.price.insurance || [], function(e, t) { a += t.price * t.count });
                u = i.insurance = a;
                var f = 0;
                if (r.price.valueAdded) {
                    var l = 0;
                    $.each(r.price.valueAdded || [], function(e, t) { l += t.price * t.count });
                    f = i.valueAdded = l }
                if (window.isCTripMode && i.adult === 0 && i.child === 0) { u = 0 }
                if (r.ctripXResource) { i.ctripXList = r.ctripXResource.xlistTotal;
                    i.ctripInsurance = r.ctripXResource.insuranceTotal;
                    i.ctripXResourceTotal = i.ctripXList + i.ctripInsurance;
                    if (i.ctripInsurance > 0) { u = i.insurance = 0 } }
                var c = 0;
                if (r.price.tieIn && r.price.tieIn.length) { $.each(r.price.tieIn, function() {
                        if (this.days !== undefined) { c += this.count * this.price * this.days } else { c += this.count * this.price } });
                    i.tieIn = c }
                var h = 0;
                if (QNR.hasPackedFlight) { h = (r.adult + r.child) * QNR.packedFlightPrice }
                i.original = i.adult + i.child + i.roomSend + f;
                i.original += r.price.feright || 0;
                i.total = i.noAcTotal = i.original + s + u + c + h;
                if (window.isCTripMode) { i.total += (i.ctripXList || 0) + (i.ctripInsurance || 0) }
                r.price.prepayPercent != null ? i.preAuthorAmountTotal = Math.round(i.original * r.price.prepayPercent) : "";
                i = this.calActivity(i, r);
                this.snapshot = i;
                if (t && typeof t == "function") { t(i) }
                return i }, snapshot: {}, lastResult: function(e) { e(this.snapshot);
                return this.snapshot }, calActivity: function(e, t) {
                var n = t.activityRules;
                var r = t.activity || {},
                    i = r.type,
                    s = r.permit;
                if (!i) {
                    return e }
                switch (i) {
                    case "LIJIAN":
                        var o = n[i].rules;
                        var u = { rule: false, reduce: 0 };
                        if (!s) { u.fit = false;
                            u.reduce = 0;
                            u.message = "很抱歉，本活动每个用户仅能享受一次立减优惠，您已参与过一次了！" } else { n[i].minAdultPrice = n[i].minAdultPrice || 2500;
                            if (t.price.adult < n[i].minAdultPrice) { u.fit = false;
                                u.message = "您所选择的产品单价小于" + n[i].minAdultPrice } else { o = o.sort(function(e, t) {
                                    return t.lowerPay - e.lowerPay });
                                for (var a = 0; a < o.length; a++) {
                                    if (e.total >= o[a].lowerPay) { u.rule = o[a];
                                        break } }
                                if (u.rule) {
                                    if (u.rule.left) {
                                        if (t.adult < 2) { u.fit = false;
                                            u.reduce = 0;
                                            u.message = "预订两成人及以上享受该项优惠" } else { u.fit = true;
                                            u.reduce = u.rule.reduceMoney } } else { u.fit = false;
                                        u.message = "很抱歉，由于该立减档次优惠名额已满，该笔订单不能享受立减优惠！" } } else {
                                    if (t.adult < 2) { u.message = "预订两成人及以上享受该项优惠" } else { u.message = "您的订单总价未达到立减优惠要求" }
                                    u.reduce = 0;
                                    u.fit = false } } }
                        QNR.event.trigger("activity-message", { error: !u.fit, message: u.message || "" });
                        e.activity = u;
                        e.reduce += u.reduce;
                        e.total -= u.reduce;
                        break;
                    case "COUPON":
                        f.compute("COUPON", e, t);
                        e.activity = { fit: true, reduce: e.coupon };
                        break;
                    case "SUPPLIER_REDUCE_COUPON":
                        f.compute("SUPPLIER_REDUCE_COUPON", e, t);
                        e.activity = { fit: true, reduce: e.coupon };
                        break;
                    case "CRUISE":
                        var u = { rule: false, reduce: 0 };
                        if (!n.CRUISE) { u.message = n.errmsg || "您的订单总价未达到立减优惠要求";
                            u.fit = false } else {
                            var o = n.CRUISE.rules;
                            if (!s) { u.fit = false;
                                u.reduce = 0;
                                u.message = "很抱歉，本活动每个用户仅能享受一次立减优惠，您已参与过一次了！" } else { o = o.sort(function(e, t) {
                                    return t.lowerPay - e.lowerPay });
                                for (var a = 0; a < o.length; a++) {
                                    if (e.total >= o[a].lowerPay) { u.rule = o[a];
                                        break } }
                                if (u.rule) {
                                    if (u.rule.left) {
                                        if (t.adult < 2) { u.fit = false;
                                            u.reduce = 0;
                                            u.message = "预订两成人及以上享受该项优惠" } else { u.fit = true;
                                            u.reduce = u.rule.reduceMoney } } else { u.fit = false;
                                        u.message = "很抱歉，由于该立减档次优惠名额已满，该笔订单不能享受立减优惠！" } } else {
                                    if (t.adult < 2) { u.message = "预订两成人及以上享受该项优惠" } else { u.message = "您的订单总价未达到立减优惠要求" }
                                    u.reduce = 0;
                                    u.fit = false } } }
                        e.activity = u;
                        e.reduce += u.reduce;
                        e.total -= u.reduce;
                        QNR.event.trigger("activity-message", { error: !u.fit, message: u.message || "" });
                        break;
                    case "SC":
                        var o = n[i].rules;
                        var u = { rule: false, reduce: 0 };
                        if (!s) { u.fit = false;
                            u.reduce = 0;
                            u.message = "很抱歉，本活动每个用户仅能享受一次立减优惠，您已参与过一次了！" } else { n[i].minAdultPrice = n[i].minAdultPrice || 2500;
                            if (t.price.adult < n[i].minAdultPrice) { u.fit = false;
                                u.message = "您所选择的产品单价小于" + n[i].minAdultPrice } else { o = o.sort(function(e, t) {
                                    return t.lowerPay - e.lowerPay });
                                for (var a = 0; a < o.length; a++) {
                                    if (t.price.adult >= o[a].lowerPay) { u.rule = o[a];
                                        break } }
                                if (u.rule) {
                                    if (u.rule.left) {
                                        if (t.adult < 2) { u.fit = false;
                                            u.reduce = 0;
                                            u.message = "预订两份及以上享受该项优惠" } else { u.fit = true;
                                            u.reduce = u.rule.reduceMoney } } else { u.fit = false;
                                        u.message = "很抱歉，由于该立减档次优惠名额已满，该笔订单不能享受立减优惠！" } } else { u.message = "您的订单总价未达到立减优惠要求";
                                    u.reduce = 0;
                                    u.fit = false } } }
                        break;
                    case "CASH":
                        f.compute(i, e, t);
                        break;
                    case "CASHLIMIT":
                        f.compute("CASHLIMIT", e, t);
                        break;
                    case "MULTI_PEOPLE_REDUCE":
                        f.compute(i, e, t);
                        break;
                    case "EARLY_BUY":
                        f.compute(i, e, t);
                        break;
                    case "VIP":
                        f.compute(i, e, t);
                        break;
                    case "REDUCTION":
                        f.compute(i, e, t);
                        break }
                return e } };
        var f = function() {
            var e = { COUPON: function(e, t) {
                    var n = 0;
                    n = parseInt(t.activity.price, 10) || 0;
                    e.coupon = n;
                    e.reduce += n;
                    e.total -= n }, SUPPLIER_REDUCE_COUPON: function(e, t) {
                    var n = 0,
                        r = 0;
                    n = parseInt(t.activity.price, 10) || 0;
                    r = parseInt(t.activity.amount, 10) || 0;
                    if (e.original - r >= 0) { e.coupon = n;
                        e.reduce += n;
                        e.total -= n } }, CASH: function(e, t) {
                    var n = 0;
                    n = parseInt(t.activity.price, 10) || 0;
                    if (e.total - n <= 0) { e.reduce += e.total;
                        e.total = 0;
                        e.clientPay = 0 } else { e.reduce += n;
                        e.total -= n;
                        e.clientPay = e.total } }, CASHLIMIT: function(e, t) {
                    var n = 0;
                    n = parseInt(t.activity.price, 10) || 0;
                    if (e.total - n <= 0) { e.reduce += e.total;
                        e.total = 0;
                        e.clientPay = 0 } else { e.reduce += n;
                        e.total -= n;
                        e.clientPay = e.total } }, MULTI_PEOPLE_REDUCE: function(e, t) {
                    var n = 0;
                    if (t.price.reduce.type === 0) {
                        var r = t.price.reduce.peopleNum;
                        var i = Math.floor(t.adult / r);
                        n = i * parseInt(t.price.reduce.num, 10) } else if (t.price.reduce.type === 1) {
                        var r = t.price.reduce.peopleNum;
                        var i = Math.floor(t.adult / r);
                        n = Math.floor(i * t.price.adult * (100 - parseInt(t.price.reduce.num, 10)) / 100) } else if (t.price.reduce.type === 2) {
                        var i = Math.floor(t.adult / 2) * 2;
                        n = Math.floor(i * t.price.adult * (100 - parseInt(t.price.reduce.num, 10)) / 100) }
                    e.reduce = n;
                    e.total -= n }, EARLY_BUY: function(e, t) {
                    if (!t.activityRules[this.type]) {
                        return e }
                    var n = t.activity;
                    var r = n.day;
                    var i = t.activityRules[this.type].rules;
                    var s = { rule: false };
                    i = i.sort(function(e, t) {
                        return t.day - e.day });
                    for (var o = 0, u = i.length; o < u; o++) {
                        if (i[o].day <= r) { s.rule = i[o];
                            break } }
                    if (s.rule) { e.reduce = s.rule.discount * (t.adult || t.count);
                        e.total -= e.reduce } }, VIP: function(e, t) {
                    if (QNR.bookdata.is_taocan) { e.reduce = t.activity.price * t.count } else { e.reduce = t.activity.price * (t.adult + t.child) }
                    e.total -= e.reduce }, REDUCTION: function(e, t) {
                    var n = 0;
                    if (e.total < QNR.bookdata.activityRules.TELEPHONEREDUCTION.rules.order_amount / 100) {} else { n = (parseInt(t.activity.price, 10) || 0) / 100 }
                    e.reduce += n;
                    e.total -= n } };
            return { compute: function(t, n, r) {
                    if (typeof e[t] == "function") { e.type = t;
                        return e[t](n, r) } } } }();
        $.namespace("QNR.module.priceManager", { get: function(e, t, n) { s.get(e, t, n) }, lastResult: function(e) { s.lastResult(e) } }) }(t.exports, t, e);
    e.____MODULES["90792d5631a26f4ce3702f0c911ca9a5"] = t.exports })(this);
(function(e) {
    var t = { id: "32ec969e0d13c623181bdfc3dd2ab6cb", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["90792d5631a26f4ce3702f0c911ca9a5"] }(t.exports, t, e);
    e.____MODULES["32ec969e0d13c623181bdfc3dd2ab6cb"] = t.exports })(this);
(function(e) {
    var t = { id: "b045e67f3c0ddb9f30c5bb82b5eeba19", filename: "international.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.internationl", function() {
                var e = { init: function() {
                        var t;
                        QNR.event.bind("id-type-change", function(n) { clearTimeout(t);
                            t = setTimeout(function() { e.check() }, 10) }) }, check: function() {
                        var e = true,
                            t = $("#js_p_contacter").find('[item="cardId"]'),
                            n = t.closest("li");
                        if (QNR.bookdata.needTravelInfo && QNR.bookdata.isInternationl && QNR.module.passenger.isIDTypeCheck()) { e = false }
                        if (!QNR.bookdata.needTravelInfo) { e = true }
                        n[e ? "show" : "hide"]();
                        QNR.event.trigger("validate-change", { show: e, elem: n }) } };
                return { init: function(t) { e.init(t) }, check: function(t) { e.check(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["b045e67f3c0ddb9f30c5bb82b5eeba19"] = t.exports })(this);
(function(e) {
    var t = { id: "9f05cffec0abfbed6a804bc261d26f70", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["b045e67f3c0ddb9f30c5bb82b5eeba19"] }(t.exports, t, e);
    e.____MODULES["9f05cffec0abfbed6a804bc261d26f70"] = t.exports })(this);
(function(e) {
    var t = { id: "fc49fb6d470b485496cd901be7281a8f", filename: "sigItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["sigItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="route_con_mp cf" item="sightItem">');
            r.b("\n" + n);
            r.b('	<span style="display:none;" data-id="');
            r.b(r.v(r.f("sightId", e, t, 0)));
            r.b('"></span>');
            r.b("\n" + n);
            r.b('  	<span class="mp_item" data-name="');
            r.b(r.v(r.f("sightName", e, t, 0)));
            r.b('">');
            r.b(r.t(r.f("sightName", e, t, 0)));
            r.b("</span> ");
            r.b("\n" + n);
            r.b('    <span class="mp_item"><font item="count" data-count="');
            r.b(r.v(r.f("num", e, t, 0)));
            r.b('">');
            r.b(r.v(r.f("num", e, t, 0)));
            r.b("</font>张(<font data-type=");
            r.b(r.v(r.f("sightType", e, t, 0)));
            r.b(">");
            r.b(r.v(r.f("sightType", e, t, 0)));
            r.b("</font>)</span>");
            r.b("\n" + n);
            r.b('    <div class="dategroup_mp">');
            r.b("\n" + n);
            r.b('        <select item="time"><option value="-1">请选择使用日期</option>');
            r.b("\n" + n);
            if (r.s(r.f("dates", e, t, 1), e, t, 0, 435, 490, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('        	<option value="');
                    n.b(n.v(n.d(".", e, t, 0)));
                    n.b('">');
                    n.b(n.v(n.d(".", e, t, 0)));
                    n.b("</option>");
                    n.b("\n") });
                e.pop() }
            r.b("        </select>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["sigItem"] }(t.exports, t, e);
    e.____MODULES["fc49fb6d470b485496cd901be7281a8f"] = t.exports })(this);
(function(e) {
    var t = { id: "529d38abc27acc17b7a83886e07873d0", filename: "sigWrapper.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["sigWrapper"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="route_tit">景点信息</div>');
            r.b("\n" + n);
            r.b('<div class="route_con" item="shower">');
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b('<input type="hidden" name="sights" value=""/>');
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["sigWrapper"] }(t.exports, t, e);
    e.____MODULES["529d38abc27acc17b7a83886e07873d0"] = t.exports })(this);
(function(e) {
    var t = { id: "67d22091af32f2c6d46d7d34f5f500b4", filename: "sight.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.sight", function() {
                var e = { init: function(e) {
                        if (QNR.bookdata.prdType != "free") {
                            return }
                        if (!this.inited) { this.$w = e && e.length ? e : $("#js_p_sight");
                            this.pId = QNR.bookdata.pId;
                            this.tId = QNR.bookdata.tId;
                            this.schedule = QNR.bookdata.schedule || 0;
                            this.initHtml();
                            this.initEvents();
                            this.inited = true }
                        this.initData() }, initHtml: function() { this.$w.html(QTMPL.sigWrapper.render());
                        this.$shower = this.$w.find('[item="shower"]');
                        this.$hideInput = this.$w.find('[name="sights"]') }, initEvents: function() {
                        var e = this;
                        QNR.event.bind("numChange", function(t, n) {
                            var r = 0;
                            if (n.taocanNum) { r = n.taocanNum } else { r = n.adult + n.child }
                            e.renderCount(r);
                            e.setData() });
                        QNR.event.bind("top.calendarOrTypeChange", function(t, n, r, i, s) { e.initData({ tId: s.tId }) });
                        QNR.event.bind("before-submit", function(t, n) { e.checkDate(function(t) { t && e.setData() }) });
                        QNR.event.bind("sight-date-select", function(t, n) { e.checkDate(function(t) { t && e.setData();
                                n && n(t) }) }) }, initData: function(e) {
                        var t = this;
                        $.ajax({ url: "/order/getAddSightData.json?pId=" + this.pId, dataType: "json", data: e || { tId: this.tId }, success: function(e) {
                                if (e && e.ret && e.data && e.data.length) {
                                    var n = e.data;
                                    t.createItems(n);
                                    t.$w.show() } else { t.$w.hide() } } }) }, createItems: function(e) {
                        var t = this;
                        this.$shower.html("");
                        $.each(e, function(e, n) { n.sightType = "成人票";
                            t.$shower.append(QTMPL.sigItem.render(n)) });
                        this.renderSel();
                        this.renderCount(this.getCount()) }, renderSel: function() { this.csSelecter = this.$shower.find('[item="time"]').csSelect({ cls: "select_sm", tpl: QTMPL.csSelect.render() }) }, renderCount: function(e) { this.$shower.find('[item="count"]').each(function() {
                            var t = parseInt(this.getAttribute("data-count"), 10) || 1;
                            $(this).text(t * e).data("count", t * e) });
                        this.setData() }, getCount: function() {
                        var e;
                        try { e = !!QNR.bookdata.is_taocan ? QNR.bookdata.count.taocan : QNR.bookdata.count.adult + QNR.bookdata.count.child || 0 } catch (t) { e = 0 }
                        return e }, setData: function() {
                        var e = this,
                            t = [];
                        this.$shower.find('[item="sightItem"]').each(function() {
                            var e = $(this);
                            var n = e.find("[data-id]").data("id");
                            var r = e.find("[data-name]").data("name");
                            var i = e.find("[data-type]").data("type") || "成人票";
                            var s = e.find("[data-count]").data("count");
                            var o = e.find('[item="time"]').val();
                            t.push({ id: n, name: r, type: i, date: o, count: s }) });
                        this.$hideInput.val(JSON.stringify(t)) }, _getNextDaily: function(e) {
                        var t = (e || DateUtil.parse(QNR.bookdata.currentDate)).getTime(),
                            n = [],
                            r = this.schedule || 0;
                        for (var i = 0; i < r; i++) {
                            var s = DateUtil.format(new Date(t + i * DateUtil.oneday));
                            n.push(s) }
                        return n }, formatHtml: function(e) { e = e || [], options = '<option value="-1">请选择使用日期</option>';
                        for (var t = 0, n = e.length; t < n; t++) { options += "<option>" + e[t] + "</option>" }
                        return options }, checkDate: function(e) {
                        var t = this.csSelecter;
                        if (t && t.length) {
                            for (var n = t.length - 1; n > -1; n--) {
                                if (t.eq(n).val() === "-1") { e && e(false);
                                    return } } }
                        e && e(true) } };
                return { init: function(t) { e.init(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["67d22091af32f2c6d46d7d34f5f500b4"] = t.exports })(this);
(function(e) {
    var t = { id: "2ab603f04454b9d2d7fc5c706a7f4e5d", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["fc49fb6d470b485496cd901be7281a8f"];
        e.____MODULES["529d38abc27acc17b7a83886e07873d0"];
        e.____MODULES["67d22091af32f2c6d46d7d34f5f500b4"] }(t.exports, t, e);
    e.____MODULES["2ab603f04454b9d2d7fc5c706a7f4e5d"] = t.exports })(this);
(function(e) {
    var t = { id: "41d3c48647454ed0ae3bb21191159298", filename: "feeDesc.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["feeDesc"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div id="js_p_feedesc">');
            r.b("\n" + n);
            r.b('	<h1 class="tag" >');
            r.b("\n" + n);
            r.b('	  <ul class="tag_tit" item="menu">');
            r.b("\n" + n);
            if (r.s(r.f("isYoosure", e, t, 1), e, t, 0, 97, 198, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('	     <li data-type="booking"><a href="javascript:void(0)">预订限制</a><i class="caret"></i></li>');
                    n.b("\n") });
                e.pop() }
            r.b('	 	 <li data-type="fee" style="display:none;"><a href="#">费用说明</a><i class="caret"></i></li>');
            r.b("\n" + n);
            if (r.s(r.f("refundDesc", e, t, 1), e, t, 0, 328, 411, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('	     <li data-type="refund"><a href="#">退改规则</a><i class="caret"></i></li>');
                    n.b("\n") });
                e.pop() }
            if (r.s(r.f("prepayRuleDesc", e, t, 1), e, t, 0, 450, 536, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('	     <li data-type="prepay"><a href="#">预定担保金条款</a><i class="caret"></i></li>');
                    n.b("\n") });
                e.pop() }
            if (r.s(r.d("securityDeposit.isShowSecurityDeposit", e, t, 1), e, t, 0, 601, 694, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('	     <li data-type="securityDeposit"><a href="#">保证金说明</a><i class="caret"></i></li>');
                    n.b("\n") });
                e.pop() }
            r.b("	  </ul>");
            r.b("\n" + n);
            r.b("	</h1>");
            r.b("\n" + n);
            if (r.s(r.f("isYoosure", e, t, 1), e, t, 0, 768, 897, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('	<div class="tag_con js_f_tag" item="booking" style="display:none;">		');
                    r.b("\n" + n);
                    r.b('		<p class="tag_con_main">');
                    r.b(r.t(r.f("bookingDesc", e, t, 0)));
                    r.b("</p>");
                    r.b("\n" + n);
                    r.b("	</div>");
                    r.b("\n") });
                e.pop() }
            r.b('	<div class="tag_con js_f_tag" item=\'fee\' style="display:none;">');
            r.b("\n" + n);
            r.b('		<div item="shower">');
            r.b("\n" + n);
            r.b("	    </div>");
            r.b("\n" + n);
            r.b('	    <a href="#" class="blue show_all" style="display:none;" item=\'fbtn\'>阅读全部</a>');
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            if (r.s(r.f("refundDesc", e, t, 1), e, t, 0, 1118, 1298, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('	<div class="tag_con js_f_tag" item="refund" style="display:none;">');
                    r.b("\n" + n);
                    r.b('		<!--产品要求不要重复标题:<h2 class="tag_con_tit">退改规则：</h2>-->');
                    r.b("\n" + n);
                    r.b('		<p class="tag_con_main">');
                    r.b(r.t(r.f("refundDesc", e, t, 0)));
                    r.b("</p>");
                    r.b("\n" + n);
                    r.b("	</div>");
                    r.b("\n") });
                e.pop() }
            r.b("	");
            r.b("\n" + n);
            if (r.s(r.f("prepayRuleDesc", e, t, 1), e, t, 0, 1336, 1467, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('	<div class="tag_con js_f_tag" item="prepay" style="display:none;">		');
                    r.b("\n" + n);
                    r.b('		<p class="tag_con_main">');
                    r.b(r.t(r.f("prepayRuleDesc", e, t, 0)));
                    r.b("</p>");
                    r.b("\n" + n);
                    r.b("	</div>");
                    r.b("\n") });
                e.pop() }
            r.b("	");
            r.b("\n" + n);
            if (r.s(r.d("securityDeposit.isShowSecurityDeposit", e, t, 1), e, t, 0, 1532, 2375, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('	<div class="tag_con js_f_tag" item="securityDeposit" style="display:none;">');
                    r.b("\n" + n);
                    r.b('		<div class="tag_con_main">');
                    r.b("\n" + n);
                    if (r.s(r.d("securityDeposit.isNeedSecurityDeposit", e, t, 1), e, t, 0, 1683, 2100, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('		<p class="item tips-text">');
                            r.b("\n" + n);
                            r.b("		温馨提醒：所有商户均通过去哪儿网收取保证金，任何要求您线下缴纳保证金的行为，均为非法，请切勿线下支付任何费用，谨防上当受骗。在线举报渠道：致电客服10101234！");
                            r.b("\n" + n);
                            r.b("		</p>		");
                            r.b("\n" + n);
                            r.b('		<p class="item">');
                            r.b("\n" + n);
                            r.b("		1.此线路将根据您提供的材料情况，酌情收取");
                            r.b(r.v(r.d("securityDeposit.securityDepositMin", e, t, 0)));
                            r.b("到");
                            r.b(r.v(r.d("securityDeposit.securityDepositMax", e, t, 0)));
                            r.b("元/人的出境保证金；");
                            r.b("\n" + n);
                            r.b("		</p>");
                            r.b("\n" + n);
                            r.b('		<p class="item">');
                            r.b("\n" + n);
                            r.b("		2.为了保证您的顺利出行，请在出行前及时联系商家，并根据商家设定的保证金金额及时完成缴纳；");
                            r.b("\n" + n);
                            r.b("		</p>");
                            r.b("\n" + n);
                            r.b('		<p class="item">');
                            r.b("\n" + n);
                            r.b("		3.在线支付保证金，可选择充值到个人余额账户或趣游宝账户（还能享受相应理财收益），行程结束可自由提现！");
                            r.b("\n" + n);
                            r.b("		</p>");
                            r.b("\n") });
                        e.pop() }
                    r.b("		");
                    r.b("\n" + n);
                    if (!r.s(r.d("securityDeposit.isNeedSecurityDeposit", e, t, 1), e, t, 1, 0, 0, "")) { r.b('		<p class="item tips-text">');
                        r.b("\n" + n);
                        r.b("		温馨提醒：所有商户均通过去哪儿网收取保证金，任何要求您线下缴纳保证金的行为，均为非法，请切勿线下支付任何费用，谨防上当受骗。在线举报渠道：致电客服10101234！");
                        r.b("\n" + n);
                        r.b("		</p>");
                        r.b("\n") }
                    r.b("		</div>");
                    r.b("\n" + n);
                    r.b("	</div>");
                    r.b("\n") });
                e.pop() }
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["feeDesc"] }(t.exports, t, e);
    e.____MODULES["41d3c48647454ed0ae3bb21191159298"] = t.exports })(this);
(function(e) {
    var t = { id: "7c3900ecda5e36d3ca07d54c04c19ff9", filename: "feeItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["feeItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<div>");
            r.b("\n" + n);
            r.b("	");
            if (r.s(r.f("needTitle", e, t, 1), e, t, 0, 21, 60, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<h2 class="tag_con_tit">');
                    n.b(n.v(n.f("title", e, t, 0)));
                    n.b("：</h2>") });
                e.pop() }
            r.b("\n" + n);
            r.b('    <div class="tag_con_main">');
            r.b("\n" + n);
            r.b("    	");
            r.b(r.t(r.f("desc", e, t, 0)));
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["feeItem"] }(t.exports, t, e);
    e.____MODULES["7c3900ecda5e36d3ca07d54c04c19ff9"] = t.exports })(this);
(function(e) {
    var t = { id: "2860372c6431109e5d4c2bdfe14138c9", filename: "feeDesc.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.feeDesc", function() {
                var e = { init: function(e) {
                        if (!this.inited) { this.initHtml();
                            this.initMenus();
                            this.inited = true } }, initHtml: function() {
                        var e = QNR.bookdata.isYoosure || false;
                        var t = window.decodeURIComponent(QNR.bookdata.feeJson && QNR.bookdata.feeJson.bookLimitation || "") || "";
                        var n = false;
                        if (QNR.bookdata.feeJson && QNR.bookdata.feeJson.prepayRuleDesc) { n = window.decodeURIComponent(QNR.bookdata.feeJson && QNR.bookdata.feeJson.prepayRuleDesc || false) }
                        var r = QNR.bookdata.securityDeposit || { isShowSecurityDeposit: false };
                        this.$w = $(QTMPL.feeDesc.render({ refundDesc: window.decodeURIComponent(QNR.bookdata.feeJson && QNR.bookdata.feeJson.refundDesc || "") || "", bookingDesc: t, isYoosure: e, prepayRuleDesc: n, securityDeposit: r })).insertBefore($("#js_p_valueAdded"));
                        this.$menuW = this.$w.find('[item="menu"]');
                        this.$menuEls = this.$w.find('[item="menu"]>[data-type]');
                        this.$feeTitle = this.$menuEls.filter('[data-type="fee"]');
                        this.$feeW = this.$w.find('[item="fee"]');
                        this.$feeShower = this.$feeW.find('[item="shower"]');
                        this.renderFromJsp() }, initMenus: function() {
                        var e = this;
                        this.$menuEls.length > 0 ? this.$menuEls.on("mouseenter click", function(t) {
                            var n = $(this),
                                r = n.data("type");
                            n.addClass("current").siblings().removeClass("current");
                            e.$w.find(".js_f_tag").hide().filter('[item="' + r + '"]').show();
                            return false }).eq(0).trigger("click") : this.$w.hide();
                        this.showCurrentMenu() }, renderFromJsp: function() {
                        if (QNR.bookdata.feeJson && (QNR.bookdata.feeJson.costIncludeDesc || QNR.bookdata.feeJson.costExcludeDesc)) { this.renderFeeDesc({ dataArr: [{ title: "费用包含", desc: window.decodeURIComponent(QNR.bookdata.feeJson.costIncludeDesc) }, { title: "费用不包含", desc: window.decodeURIComponent(QNR.bookdata.feeJson.costExcludeDesc) }] }) } }, renderFeeDesc: function(e) {
                        var t = this,
                            n = e.dataArr || [],
                            r = true;
                        if (!n || !n.length) { t.$feeW.hide();
                            t.$feeTitle.hide();
                            return }
                        t.$feeShower.html("");
                        $.each(n, function(e, i) {
                            if (!t.judgeHtml(i.desc)) { r = false;
                                return false }
                            i.needTitle = n.length > 1;
                            r && t.$feeShower.append(QTMPL.feeItem.render(i)) });
                        if (r && !!$.trim(t.$feeShower.html())) { t.$feeW.show();
                            t.$feeTitle.show();
                            t.upAndDown() } else { t.$feeW.hide();
                            t.$feeTitle.hide() }
                        t.showCurrentMenu() }, judgeHtml: function(e) {
                        if (!$.trim(e)) {
                            return false }
                        var t = /<\s*?[image|img].*?\/?>/ig.test(e);
                        t = !t ? /<\s*?table.*?\/?>/ig.test(e) : t;
                        return !t }, upAndDown: function() {
                        var e = 5,
                            t = 22,
                            n = e * t + 3;
                        var r = this.$feeShower,
                            i = r.height();
                        var s = this.$feeW.find('[item="fbtn"]');
                        if (i <= n + t) {
                            return }
                        s.show().data("show", false);
                        r.css({ overflow: "hidden", height: n });
                        s.off("click").on("click", function(e) { e.preventDefault();
                            if (s.data("show") === true) { r.animate({ height: n }, "slow", function() { s.data("show", false).text("阅读全部");
                                    r.css("overflow", "hidden") }) } else { r.animate({ height: i + 10 }, "slow", function() { s.data("show", true).text("收起全部");
                                    r.css("overflow", "auto") }) } }) }, showCurrentMenu: function() {
                        var e = this.$menuEls.filter(":visible");
                        e.length > 0 ? e.eq(0).trigger("click") : this.$w.hide() } };
                return { init: function(t) { e.init(t) }, renderFeeDesc: function(t) { e.renderFeeDesc(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["2860372c6431109e5d4c2bdfe14138c9"] = t.exports })(this);
(function(e) {
    var t = { id: "329e2f7d08974295da4fb62592e3a5b0", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["41d3c48647454ed0ae3bb21191159298"];
        e.____MODULES["7c3900ecda5e36d3ca07d54c04c19ff9"];
        e.____MODULES["2860372c6431109e5d4c2bdfe14138c9"] }(t.exports, t, e);
    e.____MODULES["329e2f7d08974295da4fb62592e3a5b0"] = t.exports })(this);
(function(e) {
    var t = { id: "ab0ab75348d0956ae4b2dbeb6af2f90b", filename: "popTop.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["popTop"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="pop_top">');
            r.b("\n" + n);
            r.b('	<a class="zx png24" href="javascript:;" item="im" style="display:none;">在线咨询</a>');
            r.b("\n" + n);
            r.b('	<a class="fk png24" href="http://help.qunar.com/feedback.html" target="_blank" item="feedback">意见反馈</a>');
            r.b("\n" + n);
            r.b('	<a class="fh png24" href="javascript:;" item="top" style="display:none;">返回顶部</a>');
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["popTop"] }(t.exports, t, e);
    e.____MODULES["ab0ab75348d0956ae4b2dbeb6af2f90b"] = t.exports })(this);
(function(e) {
    var t = { id: "af39c3f3ce8e15b54b42848f3a2fef9d", filename: "popTop.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.poptop", function() {
                var e = function() {
                    var e, t, n;
                    if (document.compatMode === "CSS1Compat") { e = document.documentElement.clientHeight;
                        t = document.documentElement.clientWidth } else { e = document.body.clientHeight;
                        t = document.body.clientWidth }
                    if (window.innerHeight) { e = window.innerHeight }
                    n = Math.max(document.documentElement.scrollTop, document.body.scrollTop);
                    return { wH: e, wW: t, sT: n } };
                var t = { init: function() {
                        if (!this.inited) { this.initHtml();
                            this.initEvent();
                            this.inited = true } }, initHtml: function() { this.$w = $(QTMPL.popTop.render()).appendTo($(document.body));
                        this.$top = this.$w.find('[item="top"]');
                        this.$bottom = this.$w.find('[item="bottom"]');
                        this.$imEl = this.$w.find('[item="im"]');
                        this.$feedback = this.$w.find('[item="feedback"]');
                        $.browser.msie && $.browser.version < 7 && this.$w.css("position", "absolute") }, initEvent: function() {
                        var e = this;
                        $(window).bind("resize", function() { e.show() });
                        $(window).bind("scroll", function() { e.show("scroll") });
                        this.$top.click(function() { window.scrollTo(0, 0) });
                        this.$bottom.click(function() { window.scrollTo(0, $(document).height()) });
                        this.$feedback.on("click", function() { e.record("feedback") }) }, show: function(t) {
                        if (e().sT >= .5 * e().wH) {
                            if (t !== "scroll") { $(document).scrollLeft(0) }
                            this.$w.css("right", 0);
                            this.$top.css("display", "block").removeClass("hide") } else { this.$top.css("display", "none") } }, record: function(e) { QNR.module.statistics && QNR.module.statistics.record({ itemType: e }) } };
                return { init: function() { t.init() } } }()) })() }(t.exports, t, e);
    e.____MODULES["af39c3f3ce8e15b54b42848f3a2fef9d"] = t.exports })(this);
(function(e) {
    var t = { id: "9258d1c277ea0ccaadf7f4e205edf3c4", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["ab0ab75348d0956ae4b2dbeb6af2f90b"];
        e.____MODULES["af39c3f3ce8e15b54b42848f3a2fef9d"] }(t.exports, t, e);
    e.____MODULES["9258d1c277ea0ccaadf7f4e205edf3c4"] = t.exports })(this);
(function(e) {
    var t = { id: "6aa83212ae96c8350e0f7f4ae61ddbd3", filename: "statistics.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() { $.namespace("QNR.module.statistics", function() {
                var e = { record: function(e) { e = $.extend({ sType: "confirmOrder", itemType: "" }, e);
                        if (!e.itemType) {
                            return }
                        var t = "/user/statistics.json?statisticsType=" + e.sType + "&itemType=" + e.itemType;
                        $.ajax({ url: t, success: function(e) {
                                if (e.ret) {} } }) } };
                return { record: function(t) { e.record(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["6aa83212ae96c8350e0f7f4ae61ddbd3"] = t.exports })(this);
(function(e) {
    var t = { id: "824cea8454e0b15d5b179b5df8b5e5af", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["6aa83212ae96c8350e0f7f4ae61ddbd3"] }(t.exports, t, e);
    e.____MODULES["824cea8454e0b15d5b179b5df8b5e5af"] = t.exports })(this);
(function(e) {
    var t = { id: "72f009124b8bf998f0965c816edbec1b", filename: "refundRegulars.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["refundRegulars"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="booking_notice">');
            r.b("\n" + n);
            r.b("	<h4>合同条款、补充条款及其他所有内容</h4>");
            r.b("\n" + n);
            r.b('	<div class="notice_detail_notheight">');
            r.b("\n" + n);
            r.b('	<div class="block">');
            r.b("\n" + n);
            r.b('	<h3 class="contract_title">违约条款</h3>');
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b('	<div class="cf">　重要提示：在行程前解除合同的，需按订单总费用扣除违约金：</div>');
            r.b("\n" + n);
            if (r.s(r.f("refundRegulars", e, t, 1), e, t, 0, 235, 375, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('	<div class="cf">　　行程前');
                    if (n.s(n.f("days_from", e, t, 1), e, t, 0, 272, 285, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b(n.v(n.f("days_from", e, t, 0))) });
                        e.pop() }
                    n.b("天");
                    if (!n.s(n.f("days_from", e, t, 1), e, t, 1, 0, 0, "")) { n.b("行程开始当天") }
                    n.b("—");
                    n.b(n.v(n.f("days_to", e, t, 0)));
                    n.b("天，收取订单总额费用的");
                    n.b(n.v(n.f("lost", e, t, 0)));
                    n.b("%。</div>");
                    n.b("\n") });
                e.pop() }
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["refundRegulars"] }(t.exports, t, e);
    e.____MODULES["72f009124b8bf998f0965c816edbec1b"] = t.exports })(this);
(function(e) {
    var t = { id: "ef10d9060cb1881baa4ea3ba31e944f4", filename: "refundRegulars.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["72f009124b8bf998f0965c816edbec1b"];
        var i = { init: function(e) {
                if (this.inited) {
                    return }
                this.dom = e;
                this.inited = true }, change: function(e) {
                if (e == "") { this.dom.html("").hide() } else { e.sort(function(e, t) {
                        return e.lost - t.lost });
                    this.dom.html(QTMPL.refundRegulars.render({ refundRegulars: e })).show();
                    QNR.module.access.choose(false) } } };
        n.exports = i }(t.exports, t, e);
    e.____MODULES["ef10d9060cb1881baa4ea3ba31e944f4"] = t.exports })(this);
(function(e) {
    var t = { id: "165d0540520d664d39c53e8d8913987a", filename: "freeCalNoTc.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["freeCalNoTc"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<div class=\"ptb cf\" item='date'>");
            r.b("\n" + n);
            r.b('  <div class="route_tit"><i class="required"></i>出行日期</div>');
            r.b("\n" + n);
            r.b('  <div class="route_con">');
            r.b("\n" + n);
            r.b('      <div class="dategroup" placeholder="datepicker">');
            r.b("\n" + n);
            r.b('          <input type="text" value="" placeholder="date" name="takeoffDate" class="input_date">');
            r.b("\n" + n);
            r.b('          <i class="dateico"></i>');
            r.b("\n" + n);
            r.b("      </div>");
            r.b("\n" + n);
            r.b("  </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b('<div class="ptb cf" item="adult">');
            r.b("\n" + n);
            r.b('  <div class="route_tit"><i class="required"></i>');
            if (r.s(r.f("isSingleTicket", e, t, 1), e, t, 0, 435, 437, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("门票") });
                e.pop() }
            if (r.s(r.f("isCourseOrFood", e, t, 1), e, t, 0, 475, 479, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("购买份数") });
                e.pop() }
            if (r.s(r.f("hasAdult", e, t, 1), e, t, 0, 511, 513, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("成人") });
                e.pop() }
            r.b("\n" + n);
            r.b("  </div>");
            r.b("\n" + n);
            r.b('  <div class="route_con">');
            r.b("\n" + n);
            r.b('      <input type="hidden" name="adultCount" placeholder="adult" value="');
            r.b(r.v(r.f("adultCount", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('      <div class="unit_price">&times; &yen;<span placeholder="per-adult-price"></span></div>');
            r.b("\n" + n);
            r.b("  </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            if (r.s(r.f("hasChild", e, t, 1), e, t, 0, 873, 1166, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" item="child">');
                    r.b("\n" + n);
                    r.b('  <div class="route_tit">儿童</div>');
                    r.b("\n" + n);
                    r.b('  <div class="route_con">');
                    r.b("\n" + n);
                    r.b('      <input type="hidden" name="childCount" placeholder="child" value="');
                    r.b(r.v(r.f("childCount", e, t, 0)));
                    r.b('">');
                    r.b("\n" + n);
                    r.b('      <div class="unit_price">&times; &yen;<span placeholder="per-child-price"></span></div>');
                    r.b("\n" + n);
                    r.b("  </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 1226, 2125, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" item="room">');
                    r.b("\n" + n);
                    r.b('  <div class="route_tit">');
                    if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 1297, 1317, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<i class="required">') });
                        e.pop() }
                    r.b("</i>房间</div>");
                    r.b("\n" + n);
                    r.b('  <div class="route_con">');
                    r.b("\n" + n);
                    r.b("  		");
                    r.b("\n" + n);
                    r.b('      	<input type="hidden" name="roomCount" placeholder="room" value="');
                    r.b(r.v(r.f("roomCount", e, t, 0)));
                    r.b('">');
                    r.b("\n" + n);
                    r.b('      	<div class="">');
                    r.b("\n" + n);
                    r.b('      		<span class="unit_text" item="roomType">');
                    r.b(r.v(r.f("roomtype", e, t, 0)));
                    r.b("人间</span>");
                    r.b("\n" + n);
                    r.b('      		<span id="pinfangw">');
                    r.b("\n" + n);
                    r.b('            <a href="javascript:;" class="tip_ada j-fc">房差&yen;');
                    r.b("\n" + n);
                    r.b('              <span placeholder="room-send-price"></span>');
                    r.b("\n" + n);
                    r.b("            </a>");
                    r.b("\n" + n);
                    r.b('            <div class="tips invisible">');
                    r.b("\n" + n);
                    r.b('              <div class="prompt text_tip js_c_r_34c w_400">');
                    r.b("\n" + n);
                    r.b('                <span class="arrow"></span>');
                    r.b("\n" + n);
                    r.b('                <div class="text">');
                    r.b("\n" + n);
                    r.b("                  <p>旅游过程中的住宿一般是标准间（两个床位），如果您的出游人数（成人）</p>");
                    r.b("\n" + n);
                    r.b("                  <p>为单人时，需要补给酒店另外一个空床位的费用, 即为房差。</p>");
                    r.b("\n" + n);
                    r.b("                </div>");
                    r.b("\n" + n);
                    r.b("              </div> ");
                    r.b("\n" + n);
                    r.b("            </div>");
                    r.b("\n" + n);
                    r.b("          </span>");
                    r.b("\n" + n);
                    r.b("  	  	</div>");
                    r.b("\n" + n);
                    r.b("  </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["freeCalNoTc"] }(t.exports, t, e);
    e.____MODULES["165d0540520d664d39c53e8d8913987a"] = t.exports })(this);
(function(e) {
    var t = { id: "8b1c83a42051f196748a36e6fff6540e", filename: "freeCalIsTc.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["freeCalIsTc"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="cf">');
            r.b("\n" + n);
            r.b('    <div class="route_tit">套餐包含</div>');
            r.b("\n" + n);
            r.b('    <div class="route_con cf">');
            r.b("\n" + n);
            r.b('        <span item="adult" class="unit_text">成人&times;');
            r.b(r.v(r.f("adultCount", e, t, 0)));
            r.b('<input type="hidden" name="adultCount" value="');
            r.b(r.v(r.f("adultCount", e, t, 0)));
            r.b('"/></span>');
            r.b("\n" + n);
            r.b('        <span item="child" class="unit_text">儿童&times;');
            r.b(r.v(r.f("childCount", e, t, 0)));
            r.b('<input type="hidden" name="childCount" value="');
            r.b(r.v(r.f("childCount", e, t, 0)));
            r.b('"/></span>');
            r.b("\n" + n);
            if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 384, 675, "{{ }}")) { r.rs(e, t, function(e, t, n) {
                    if (!n.s(n.f("isMilv", e, t, 1), e, t, 1, 0, 0, "")) { n.b('          <span item="room" class="unit_text">房间&times;');
                        n.b(n.v(n.f("roomCount", e, t, 0)));
                        n.b('<input type="hidden" name="roomCount" value="');
                        n.b(n.v(n.f("roomCount", e, t, 0)));
                        n.b('"/></span>		');
                        n.b("\n") }
                    if (n.s(n.f("isMilv", e, t, 1), e, t, 0, 587, 655, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b('        	<span item="room" class="unit_text">(无房间)</span>');
                            n.b("\n") });
                        e.pop() } });
                e.pop() }
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("<div class=\"ptb cf\" item='date'>");
            r.b("\n" + n);
            r.b('  <div class="route_tit"><i class="required"></i>出行日期</div>');
            r.b("\n" + n);
            r.b('  <div class="route_con">');
            r.b("\n" + n);
            r.b('      <div class="dategroup" placeholder="datepicker">');
            r.b("\n" + n);
            r.b('          <input type="text" value="" placeholder="date" name="takeoffDate" class="input_date">');
            r.b("\n" + n);
            r.b('          <i class="dateico"></i>');
            r.b("\n" + n);
            r.b("      </div>");
            r.b("\n" + n);
            r.b("  </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b('<div class="ptb cf" item="taocan">');
            r.b("\n" + n);
            r.b('  <div class="route_tit"><i class="required"></i>购买份数</div>');
            r.b("\n" + n);
            r.b('  <div class="route_con">');
            r.b("\n" + n);
            r.b('      <input type="hidden" name="buy_taocan_count" placeholder="taocan" value="');
            r.b(r.v(r.f("taocanCount", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            if (!r.s(r.f("idDuobaoJP", e, t, 1), e, t, 1, 0, 0, "")) { r.b('      <div class="unit_price">&times; &yen;<span placeholder="per-taocan-price"></span></div>');
                r.b("\n") }
            r.b("  </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["freeCalIsTc"] }(t.exports, t, e);
    e.____MODULES["8b1c83a42051f196748a36e6fff6540e"] = t.exports })(this);
(function(e) {
    var t = { id: "9ec9064941dba85db52e6de6c75d5752", filename: "freeCatNoTc.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["freeCatNoTc"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="ptb cf" item="type">');
            r.b("\n" + n);
            r.b('  <div class="route_tit">');
            if (!r.s(r.f("isCatSingle", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<i class="required"></i>') }
            r.b("产品类型</div>");
            r.b("\n" + n);
            r.b('  <div class="route_con">');
            r.b("\n" + n);
            if (r.s(r.f("isCatSingle", e, t, 1), e, t, 0, 171, 340, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                    if (r.s(r.f("catTypeArr", e, t, 1), e, t, 0, 192, 320, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('  				<span class="unit_text">');
                            r.b(r.v(r.f("title", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('  				<input type="hidden" value="');
                            r.b(r.v(r.f("value", e, t, 0)));
                            r.b('" placeholder="tId" name="tId">');
                            r.b("\n") });
                        e.pop() } });
                e.pop() }
            if (!r.s(r.f("isCatSingle", e, t, 1), e, t, 1, 0, 0, "")) { r.b('	      <select class="hide" placeholder="type" name="tId" style="display: none;">');
                r.b("\n" + n);
                if (r.s(r.f("catTypeArr", e, t, 1), e, t, 0, 483, 591, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("	      	<option ");
                        if (n.s(n.f("selected", e, t, 1), e, t, 0, 513, 532, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b('selected="selected"') });
                            e.pop() }
                        n.b(' value="');
                        n.b(n.v(n.f("value", e, t, 0)));
                        n.b('">');
                        n.b(n.v(n.f("title", e, t, 0)));
                        n.b("</option>");
                        n.b("\n") });
                    e.pop() }
                r.b("		  </select>");
                r.b("\n") }
            r.b("  </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('<div class="ptb cf" item="adult">');
            r.b("\n" + n);
            r.b('  <div class="route_tit"><i class="required"></i>');
            if (r.s(r.f("isSingleTicket", e, t, 1), e, t, 0, 761, 763, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("门票") });
                e.pop() }
            if (r.s(r.f("isCourseOrFood", e, t, 1), e, t, 0, 801, 805, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("购买份数") });
                e.pop() }
            if (r.s(r.f("hasAdult", e, t, 1), e, t, 0, 837, 839, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("成人") });
                e.pop() }
            r.b("\n" + n);
            r.b("  </div>");
            r.b("\n" + n);
            r.b('  <div class="route_con">');
            r.b("\n" + n);
            r.b('      <input type="hidden" name="adultCount" placeholder="adult" value="');
            r.b(r.v(r.f("adultCount", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('      <div class="unit_price">&times; &yen;<span placeholder="per-adult-price"></span></div>');
            r.b("\n" + n);
            r.b("  </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            if (r.s(r.f("hasChild", e, t, 1), e, t, 0, 1184, 1477, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" item="child">');
                    r.b("\n" + n);
                    r.b('  <div class="route_tit">儿童</div>');
                    r.b("\n" + n);
                    r.b('  <div class="route_con">');
                    r.b("\n" + n);
                    r.b('      <input type="hidden" name="childCount" placeholder="child" value="');
                    r.b(r.v(r.f("childCount", e, t, 0)));
                    r.b('">');
                    r.b("\n" + n);
                    r.b('      <div class="unit_price">&times; &yen;<span placeholder="per-child-price"></span></div>');
                    r.b("\n" + n);
                    r.b("  </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 1504, 2461, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" item="room">');
                    r.b("\n" + n);
                    r.b('  <div class="route_tit">');
                    if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 1575, 1599, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<i class="required"></i>') });
                        e.pop() }
                    r.b("房间</div>");
                    r.b("\n" + n);
                    r.b('  <div class="route_con">');
                    r.b("\n" + n);
                    if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 1662, 2400, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('      	<input type="hidden" name="roomCount" placeholder="room" value="');
                            r.b(r.v(r.f("roomCount", e, t, 0)));
                            r.b('">');
                            r.b("\n" + n);
                            r.b('      	<div class="">');
                            r.b("\n" + n);
                            r.b("      		<span item='roomType' class=\"unit_text\">");
                            r.b(r.v(r.f("roomtype", e, t, 0)));
                            r.b("人间</span>");
                            r.b("\n" + n);
                            r.b('      		<span id="pinfangw">');
                            r.b("\n" + n);
                            r.b('      			<a href="javascript:;" class="tip_ada j-fc">房差&yen;');
                            r.b("\n" + n);
                            r.b('              <span placeholder="room-send-price">0</span>');
                            r.b("\n" + n);
                            r.b("            </a>");
                            r.b("\n" + n);
                            r.b('            <div class="tips invisible">');
                            r.b("\n" + n);
                            r.b('              <div class="prompt text_tip js_c_r_34c w_400">');
                            r.b("\n" + n);
                            r.b('                <span class="arrow"></span>');
                            r.b("\n" + n);
                            r.b('                <div class="text">');
                            r.b("\n" + n);
                            r.b("                  <p>旅游过程中的住宿一般是标准间（两个床位），如果您的出游人数（成人）</p>");
                            r.b("\n" + n);
                            r.b("                  <p>为单人时，需要补给酒店另外一个空床位的费用, 即为房差。</p>");
                            r.b("\n" + n);
                            r.b("                </div>");
                            r.b("\n" + n);
                            r.b("              </div> ");
                            r.b("\n" + n);
                            r.b("            </div>");
                            r.b("\n" + n);
                            r.b("  			  </span>");
                            r.b("\n" + n);
                            r.b("  	  	</div>");
                            r.b("\n") });
                        e.pop() }
                    r.b("  	  	");
                    if (!r.s(r.f("hasRoom", e, t, 1), e, t, 1, 0, 0, "")) { r.b("无") }
                    r.b("\n" + n);
                    r.b("  </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            if (!r.s(r.f("isReserve", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<div class="ptb cf" item="acDateTip" style="display:none;">');
                r.b("\n" + n);
                r.b('	<div class="route_tit">有效日期</div>');
                r.b("\n" + n);
                r.b('	<div class="route_con">');
                r.b("\n" + n);
                r.b('		<span node="s_date"></span>');
                r.b("\n" + n);
                r.b("	</div>");
                r.b("\n" + n);
                r.b("</div>");
                r.b("\n") }
            if (r.s(r.f("isReserve", e, t, 1), e, t, 0, 2684, 3915, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" item="acDateTip">');
                    r.b("\n" + n);
                    r.b('    <div class="route_tit">有效日期</div>');
                    r.b("\n" + n);
                    r.b('    <div class="route_con" data-isReserve="start">');
                    r.b("\n" + n);
                    if (r.s(r.f("reserve_type", e, t, 1), e, t, 0, 2830, 3011, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('    	<span node="s_date"></span>&nbsp;');
                            r.b("\n" + n);
                            r.b("        <span class=\" orange\" node='reserve_date'>");
                            r.b(r.v(r.f("reserve_time", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('        <a href="#" class="btn_blue" placeholder="start">开始预约</a>');
                            r.b("\n") });
                        e.pop() }
                    if (!r.s(r.f("reserve_type", e, t, 1), e, t, 1, 0, 0, "")) { r.b('	<span node="s_date"></span>&nbsp;');
                        r.b("\n" + n);
                        if (r.s(r.f("reserve_switch", e, t, 1), e, t, 0, 3104, 3271, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("        <span class=\" orange\" node='reserve_date'>预约结束日期　<span>");
                                r.b(r.v(r.f("reserve_end_date", e, t, 0)));
                                r.b("</span></span>");
                                r.b("\n" + n);
                                r.b('        <a href="#" class="btn_blue" placeholder="start">开始预约</a>');
                                r.b("\n") });
                            e.pop() }
                        if (!r.s(r.f("reserve_switch", e, t, 1), e, t, 1, 0, 0, "")) { r.b("		<span class=\" orange\" node='reserve_date'>预约开始日期　<span>");
                            r.b(r.v(r.f("reserve_start_date", e, t, 0)));
                            r.b("</span></span>");
                            r.b("\n" + n);
                            r.b('		<a href="#" class="btn_blue" placeholder="start" style="display:none">开始预约</a>');
                            r.b("\n") } }
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b('	<input type="hidden" value="" data-date="yes" name="reserveDate">');
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n" + n);
                    r.b('<div class="ptb cf" style="display:none;"  data-isReserve="end">');
                    r.b("\n" + n);
                    r.b('    <div class="route_tit">出行日期</div>');
                    r.b("\n" + n);
                    r.b('	<div class="route_con">');
                    r.b("\n" + n);
                    r.b('    	<a class="unit_text blue pointer" placeholder="datepicker" data-date="yes" title="重新选择出行日期"></a>');
                    r.b("\n" + n);
                    r.b('        <span class="gray">[订单提交后,如需修改请电联商家。]</span>');
                    r.b("\n" + n);
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b('<div class="ptb cf" item=\'soldOutTip\' style="display:none;">');
            r.b("\n" + n);
            r.b('	<div class="route_tit">售罄提示</div>');
            r.b("\n" + n);
            r.b('	<div class="route_con">');
            r.b("\n" + n);
            r.b('		<span node="out_date"></span>');
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["freeCatNoTc"] }(t.exports, t, e);
    e.____MODULES["9ec9064941dba85db52e6de6c75d5752"] = t.exports })(this);
(function(e) {
    var t = { id: "b900004e0a5448f2555c6ef62e30f6c7", filename: "freeCatIsTc.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["freeCatIsTc"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="cf">');
            r.b("\n" + n);
            r.b('    <div class="route_tit">套餐包含</div>');
            r.b("\n" + n);
            r.b('    <div class="route_con cf">');
            r.b("\n" + n);
            r.b('        <span item="adult" class="unit_text">成人&times;');
            r.b(r.v(r.f("adultCount", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b('        <span item="child" class="unit_text">儿童&times;');
            r.b(r.v(r.f("childCount", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 258, 342, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('        <span item="room" class="unit_text">房间&times;');
                    n.b(n.v(n.f("roomCount", e, t, 0)));
                    n.b("间</span>");
                    n.b("\n") });
                e.pop() }
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('<div class="ptb cf" item="type">');
            r.b("\n" + n);
            r.b('  <div class="route_tit" style="display:none;">');
            if (!r.s(r.f("isCatSingle", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<i class="required"></i>') }
            r.b("产品类型</div>");
            r.b("\n" + n);
            r.b('  <div class="route_con">');
            r.b("\n" + n);
            if (r.s(r.f("isCatSingle", e, t, 1), e, t, 0, 545, 714, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                    if (r.s(r.f("catTypeArr", e, t, 1), e, t, 0, 566, 694, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('  				<span class="unit_text">');
                            r.b(r.v(r.f("title", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('  				<input type="hidden" value="');
                            r.b(r.v(r.f("value", e, t, 0)));
                            r.b('" placeholder="tId" name="tId">');
                            r.b("\n") });
                        e.pop() } });
                e.pop() }
            if (!r.s(r.f("isCatSingle", e, t, 1), e, t, 1, 0, 0, "")) { r.b('	      <select class="hide" placeholder="type" name="tId" style="display: none;">');
                r.b("\n" + n);
                if (r.s(r.f("catTypeArr", e, t, 1), e, t, 0, 852, 960, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("	      	<option ");
                        if (n.s(n.f("selected", e, t, 1), e, t, 0, 882, 901, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b('selected="selected"') });
                            e.pop() }
                        n.b(' value="');
                        n.b(n.v(n.f("value", e, t, 0)));
                        n.b('">');
                        n.b(n.v(n.f("title", e, t, 0)));
                        n.b("</option>");
                        n.b("\n") });
                    e.pop() }
                r.b("		  </select>");
                r.b("\n") }
            r.b("  </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            r.b('<div class="ptb cf" item="taocan">');
            r.b("\n" + n);
            r.b('  <div class="route_tit"><i class="required"></i>购买份数</div>');
            r.b("\n" + n);
            r.b('  <div class="route_con">');
            r.b("\n" + n);
            r.b('      <input type="hidden" name="buy_taocan_count" placeholder="taocan" value="');
            r.b(r.v(r.f("taocanCount", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            if (!r.s(r.f("idDuobaoJP", e, t, 1), e, t, 1, 0, 0, "")) { r.b('	  <div class="unit_price">&times; &yen;<span placeholder="per-taocan-price"></span></div>');
                r.b("\n") }
            r.b("  </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            if (!r.s(r.f("isReserve", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<div class="ptb cf" item="acDateTip" style="display:none;">');
                r.b("\n" + n);
                r.b('	<div class="route_tit">有效日期</div>');
                r.b("\n" + n);
                r.b('	<div class="route_con">');
                r.b("\n" + n);
                r.b('		<span node="s_date"></span>');
                r.b("\n" + n);
                r.b("	</div>");
                r.b("\n" + n);
                r.b("</div>");
                r.b("\n") }
            if (r.s(r.f("isReserve", e, t, 1), e, t, 0, 1603, 2834, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" item="acDateTip">');
                    r.b("\n" + n);
                    r.b('    <div class="route_tit">有效日期</div>');
                    r.b("\n" + n);
                    r.b('    <div class="route_con" data-isReserve="start">');
                    r.b("\n" + n);
                    if (r.s(r.f("reserve_type", e, t, 1), e, t, 0, 1749, 1930, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('    	<span node="s_date"></span>&nbsp;');
                            r.b("\n" + n);
                            r.b("        <span class=\" orange\" node='reserve_date'>");
                            r.b(r.v(r.f("reserve_time", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('        <a href="#" class="btn_blue" placeholder="start">开始预约</a>');
                            r.b("\n") });
                        e.pop() }
                    if (!r.s(r.f("reserve_type", e, t, 1), e, t, 1, 0, 0, "")) { r.b('	<span node="s_date"></span>&nbsp;');
                        r.b("\n" + n);
                        if (r.s(r.f("reserve_switch", e, t, 1), e, t, 0, 2023, 2190, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("        <span class=\" orange\" node='reserve_date'>预约结束日期　<span>");
                                r.b(r.v(r.f("reserve_end_date", e, t, 0)));
                                r.b("</span></span>");
                                r.b("\n" + n);
                                r.b('        <a href="#" class="btn_blue" placeholder="start">开始预约</a>');
                                r.b("\n") });
                            e.pop() }
                        if (!r.s(r.f("reserve_switch", e, t, 1), e, t, 1, 0, 0, "")) { r.b("		<span class=\" orange\" node='reserve_date'>预约开始日期　<span>");
                            r.b(r.v(r.f("reserve_start_date", e, t, 0)));
                            r.b("</span></span>");
                            r.b("\n" + n);
                            r.b('		<a href="#" class="btn_blue" placeholder="start" style="display:none">开始预约</a>');
                            r.b("\n") } }
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b('	<input type="hidden" value="" data-date="yes" name="reserveDate">');
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n" + n);
                    r.b('<div class="ptb cf" style="display:none;"  data-isReserve="end">');
                    r.b("\n" + n);
                    r.b('    <div class="route_tit">出行日期</div>');
                    r.b("\n" + n);
                    r.b('	<div class="route_con">');
                    r.b("\n" + n);
                    r.b('    	<a class="unit_text blue pointer" placeholder="datepicker" data-date="yes" title="重新选择出行日期"></a>');
                    r.b("\n" + n);
                    r.b('        <span class="gray">[订单提交后,如需修改请电联商家。]</span>');
                    r.b("\n" + n);
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            r.b('<div class="ptb cf" item=\'soldOutTip\' style="display:none;">');
            r.b("\n" + n);
            r.b('	<div class="route_tit">售罄提示</div>');
            r.b("\n" + n);
            r.b('	<div class="route_con">');
            r.b("\n" + n);
            r.b('		<span node="out_date"></span>');
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["freeCatIsTc"] }(t.exports, t, e);
    e.____MODULES["b900004e0a5448f2555c6ef62e30f6c7"] = t.exports })(this);
(function(e) {
    var t = { id: "0a20a0f1717afd62eab900c10ada2c83", filename: "groupCalNoTc.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["groupCalNoTc"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            if (!r.s(r.f("isReserve", e, t, 1), e, t, 1, 0, 0, "")) { r.b("<div class=\"ptb cf\" item='date'>");
                r.b("\n" + n);
                r.b('  <div class="route_tit"><i class="required"></i>出行日期</div>');
                r.b("\n" + n);
                r.b('  <div class="route_con">');
                r.b("\n" + n);
                r.b('      <div class="dategroup" placeholder="datepicker">');
                r.b("\n" + n);
                r.b('          <input type="text" value="" placeholder="date" name="takeoffDate" class="input_date">');
                r.b("\n" + n);
                r.b('          <i class="dateico"></i>');
                r.b("\n" + n);
                r.b("      </div>");
                r.b("\n" + n);
                if (r.s(r.f("isCTripMode", e, t, 1), e, t, 0, 354, 666, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('      <div class="ctrip_box">');
                        r.b("\n" + n);
                        r.b('        <span class="pr_loading hide">');
                        r.b("\n" + n);
                        r.b('          <img width="24" height="24" class="loading-icon" src="http://source.qunarzz.com/zhuanti/20130828/m_loading.gif" alt="loading">');
                        r.b("\n" + n);
                        r.b("        </span>");
                        r.b("\n" + n);
                        r.b('        <div id="ctrip-stock-msg" class="stock_msg hide"></div>');
                        r.b("\n" + n);
                        r.b("      </div>      ");
                        r.b("\n") });
                    e.pop() }
                r.b("  </div>");
                r.b("\n" + n);
                r.b("</div>");
                r.b("\n") }
            if (r.s(r.f("isReserve", e, t, 1), e, t, 0, 728, 1418, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" item="type">');
                    r.b("\n" + n);
                    r.b('  <div class="route_tit">');
                    if (!r.s(r.f("isCatSingle", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<i class="required"></i>') }
                    r.b("产品类型</div>");
                    r.b("\n" + n);
                    r.b('  <div class="route_con">');
                    r.b("\n" + n);
                    if (r.s(r.f("isCatSingle", e, t, 1), e, t, 0, 902, 1087, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                            if (r.s(r.f("catTypeArr", e, t, 1), e, t, 0, 926, 1065, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('          <span class="unit_text">');
                                    r.b(r.v(r.f("title", e, t, 0)));
                                    r.b("</span>");
                                    r.b("\n" + n);
                                    r.b('          <input type="hidden" value="');
                                    r.b(r.v(r.f("value", e, t, 0)));
                                    r.b('" placeholder="tId" name="tId">');
                                    r.b("\n") });
                                e.pop() } });
                        e.pop() }
                    if (!r.s(r.f("isCatSingle", e, t, 1), e, t, 1, 0, 0, "")) { r.b('        <select class="hide" placeholder="type" name="tId" style="display: none;">');
                        r.b("\n" + n);
                        if (r.s(r.f("catTypeArr", e, t, 1), e, t, 0, 1235, 1347, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("          <option ");
                                if (n.s(n.f("selected", e, t, 1), e, t, 0, 1267, 1286, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b('selected="selected"') });
                                    e.pop() }
                                n.b(' value="');
                                n.b(n.v(n.f("value", e, t, 0)));
                                n.b('">');
                                n.b(n.v(n.f("title", e, t, 0)));
                                n.b("</option>");
                                n.b("\n") });
                            e.pop() }
                        r.b("      </select>");
                        r.b("\n") }
                    r.b("  </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b('<div class="ptb cf" item="adult" style="display:none;">');
            r.b("\n" + n);
            r.b('  <div class="route_tit" style="display:none;"><i class="required"></i>');
            if (r.s(r.f("isSingleTicket", e, t, 1), e, t, 0, 1535, 1537, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("门票") });
                e.pop() }
            if (r.s(r.f("isCourseOrFood", e, t, 1), e, t, 0, 1575, 1579, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("购买份数") });
                e.pop() }
            if (r.s(r.f("hasAdult", e, t, 1), e, t, 0, 1611, 1613, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("成人") });
                e.pop() }
            r.b("\n" + n);
            r.b("  </div>");
            r.b("\n" + n);
            r.b('  <div class="route_con">');
            r.b("\n" + n);
            r.b('      <input type="hidden" name="adultCount" placeholder="adult" value="');
            r.b(r.v(r.f("adultCount", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('      <div class="unit_price">&times; &yen;<span placeholder="per-adult-price"></span></div>');
            r.b("\n" + n);
            if (r.s(r.f("isCTripMode", e, t, 1), e, t, 0, 1866, 2059, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('      <span class="pr_loading hide">');
                    r.b("\n" + n);
                    r.b('        <img width="24" height="24" class="loading-icon" src="http://source.qunarzz.com/zhuanti/20130828/m_loading.gif" alt="loading">');
                    r.b("\n" + n);
                    r.b("      </span>");
                    r.b("\n") });
                e.pop() }
            r.b("  </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b("\n" + n);
            if (r.s(r.f("hasChild", e, t, 1), e, t, 0, 2190, 2715, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" style="display:none;" item="child">');
                    r.b("\n" + n);
                    r.b('  <div class="route_tit">儿童</div>');
                    r.b("\n" + n);
                    r.b('  <div class="route_con">');
                    r.b("\n" + n);
                    r.b('      <input type="hidden" name="childCount" placeholder="child" value="');
                    r.b(r.v(r.f("childCount", e, t, 0)));
                    r.b('">');
                    r.b("\n" + n);
                    r.b('      <div class="unit_price">&times; &yen;<span placeholder="per-child-price"></span></div>');
                    r.b("\n" + n);
                    if (r.s(r.f("isCTripMode", e, t, 1), e, t, 0, 2489, 2682, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('      <span class="pr_loading hide">');
                            r.b("\n" + n);
                            r.b('        <img width="24" height="24" class="loading-icon" src="http://source.qunarzz.com/zhuanti/20130828/m_loading.gif" alt="loading">');
                            r.b("\n" + n);
                            r.b("      </span>");
                            r.b("\n") });
                        e.pop() }
                    r.b("  </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 2775, 6183, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                    if (r.s(r.f("isCTripMode", e, t, 1), e, t, 0, 2792, 3165, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" item="room" id="ctripSend">');
                            r.b("\n" + n);
                            r.b('  <div class="route_tit">房差</div>');
                            r.b("\n" + n);
                            r.b('  <div class="route_con">');
                            r.b("\n" + n);
                            r.b('    <div class="valuecomb">');
                            r.b("\n" + n);
                            r.b('      <select name="sendPriceCount" id="ctrip_send" class="hide"></select>');
                            r.b("\n" + n);
                            r.b("    </div>");
                            r.b("\n" + n);
                            r.b('    <div class="unit_price">&times; &yen;<span class="per-send-price" placeholder="per-send-price"></span></div>');
                            r.b("\n" + n);
                            r.b("  </div>");
                            r.b("\n" + n);
                            r.b("</div>");
                            r.b("\n") });
                        e.pop() }
                    r.b("\n" + n);
                    r.b('<div class="ptb cf ');
                    if (r.s(r.f("isCTripMode", e, t, 1), e, t, 0, 3242, 3246, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("hide") });
                        e.pop() }
                    r.b('" item="room">');
                    r.b("\n" + n);
                    r.b('  <div class="route_tit">');
                    if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 3314, 3338, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<i class="required"></i>') });
                        e.pop() }
                    r.b("房间</div>");
                    r.b("\n" + n);
                    r.b('  <div class="route_con">');
                    r.b("\n" + n);
                    if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 3403, 3496, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('      <input type="hidden" name="roomCount" placeholder="room" value="');
                            n.b(n.v(n.f("roomCount", e, t, 0)));
                            n.b('">');
                            n.b("\n") });
                        e.pop() }
                    r.b("      ");
                    r.b("\n" + n);
                    if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 3534, 4233, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('        <div item=\'readonlyRoomNum\' class="valuecomb" style="display:none;">');
                            r.b("\n" + n);
                            r.b('          <span style="display:none" class="hint">');
                            r.b("\n" + n);
                            r.b('            <span class="arrow"></span>');
                            r.b("\n" + n);
                            r.b('            <span class="hintContent"></span>');
                            r.b("\n" + n);
                            r.b("          </span>");
                            r.b("\n" + n);
                            r.b('          <span class="decrease valuecomb_disable" style="-moz-user-select:none;" onselectstart="return false;"></span>');
                            r.b("\n" + n);
                            r.b('          <span class="ct">');
                            r.b("\n" + n);
                            r.b('            <input type="text" class="textbox" autocomplete="false" value="" placeholder="group-room-readonly" disabled="disabled">');
                            r.b("\n" + n);
                            r.b("          </span>");
                            r.b("\n" + n);
                            r.b('          <span class="increase valuecomb_disable" style="-moz-user-select:none;" onselectstart="return false;"></span>');
                            r.b("\n" + n);
                            r.b("        </div>");
                            r.b("\n") });
                        e.pop() }
                    r.b("      ");
                    r.b("\n" + n);
                    if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 4271, 6153, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("      <div>");
                            r.b("\n" + n);
                            r.b("        <span id='roomType' class=\"unit_text\">(");
                            r.b(r.v(r.f("roomtype", e, t, 0)));
                            r.b("人间)</span>");
                            r.b("\n" + n);
                            if (!r.s(r.f("isMilv", e, t, 1), e, t, 1, 0, 0, "")) { r.b('        <div id="pinfangw" class="pinfang" style=\'display:none;\'>');
                                r.b("\n" + n);
                                r.b("          <span>");
                                r.b("\n" + n);
                                r.b('            <span class="radio js_p_gbd_rd" data-value="agree">');
                                r.b("\n" + n);
                                r.b('              <i class="icon active"></i>同意拼房');
                                r.b("\n" + n);
                                r.b("            </span>");
                                r.b("\n" + n);
                                r.b('            <div class="tips invisible">');
                                r.b("\n" + n);
                                r.b('              <p class="j-tipIcon icon js_c_r_34t"></p>');
                                r.b("\n" + n);
                                r.b('              <div class="prompt e_text_icon js_c_r_34c w_220">');
                                r.b("\n" + n);
                                r.b('                <span class="arrow"></span>');
                                r.b("\n" + n);
                                r.b('                <div class="text">');
                                r.b("\n" + n);
                                r.b("                  <p>尽可能安排您与同性团友拼房，如拼房不</p>");
                                r.b("\n" + n);
                                r.b("                  <p>成功，还请补交单房差。</p>");
                                r.b("\n" + n);
                                r.b("                </div>");
                                r.b("\n" + n);
                                r.b("              </div> ");
                                r.b("\n" + n);
                                r.b("            </div>");
                                r.b("\n" + n);
                                r.b("          </span>");
                                r.b("\n" + n);
                                r.b("          <span>");
                                r.b("\n" + n);
                                r.b('            <span class="radio js_p_gbd_rd j-fc" data-value="disagree">');
                                r.b("\n" + n);
                                r.b('              <i class="icon"></i>不同意拼房，愿意支付');
                                r.b("\n" + n);
                                r.b('              <strong>房差费用&yen;<font placeholder="room-virtualSend-price"></font></strong>');
                                r.b("\n" + n);
                                r.b("            </span>");
                                r.b("\n" + n);
                                if (r.s(r.f("isCTripMode", e, t, 1), e, t, 0, 5430, 5647, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('            <span class="pr_loading hide">');
                                        r.b("\n" + n);
                                        r.b('              <img width="24" height="24" class="loading-icon" src="http://source.qunarzz.com/zhuanti/20130828/m_loading.gif" alt="loading">');
                                        r.b("\n" + n);
                                        r.b("            </span>");
                                        r.b("\n") });
                                    e.pop() }
                                r.b('            <div class="tips invisible">');
                                r.b("\n" + n);
                                r.b('              <div class="prompt text_tip js_c_r_34c w_400">');
                                r.b("\n" + n);
                                r.b('                <span class="arrow"></span>');
                                r.b("\n" + n);
                                r.b('                <div class="text">');
                                r.b("\n" + n);
                                r.b("                  <p>旅游过程中的住宿一般是标准间（两个床位），如果您的出游人</p>");
                                r.b("\n" + n);
                                r.b("                  <p>数（成人）为单人时，需要补给酒店另外一个空床位的费用, 即为房差。</p>");
                                r.b("\n" + n);
                                r.b("                </div>");
                                r.b("\n" + n);
                                r.b("              </div> ");
                                r.b("\n" + n);
                                r.b("            </div>");
                                r.b("\n" + n);
                                r.b("          </span>");
                                r.b("\n" + n);
                                r.b('        <input type="hidden" value="true" name="isSpellRoom"/>');
                                r.b("\n" + n);
                                r.b("      </div>");
                                r.b("\n") }
                            r.b("      </div>");
                            r.b("\n") });
                        e.pop() }
                    r.b("  </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n" + n);
                    r.b("\n") });
                e.pop() }
            r.b("\n" + n);
            if (r.s(r.f("isReserve", e, t, 1), e, t, 0, 6211, 7463, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" item="acDateTip">');
                    r.b("\n" + n);
                    r.b('    <div class="route_tit">有效日期</div>');
                    r.b("\n" + n);
                    r.b('    <div class="route_con" data-isReserve="start">');
                    r.b("\n" + n);
                    if (r.s(r.f("reserve_type", e, t, 1), e, t, 0, 6358, 6541, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('      <span node="s_date"></span>&nbsp;');
                            r.b("\n" + n);
                            r.b("        <span class=\" orange\" node='reserve_date'>");
                            r.b(r.v(r.f("reserve_time", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('        <a href="#" class="btn_blue" placeholder="start">开始预约</a>');
                            r.b("\n") });
                        e.pop() }
                    if (!r.s(r.f("reserve_type", e, t, 1), e, t, 1, 0, 0, "")) { r.b('  <span node="s_date"></span>&nbsp;');
                        r.b("\n" + n);
                        if (r.s(r.f("reserve_switch", e, t, 1), e, t, 0, 6638, 6807, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("        <span class=\" orange\" node='reserve_date'>预约结束日期　<span>");
                                r.b(r.v(r.f("reserve_end_date", e, t, 0)));
                                r.b("</span></span>");
                                r.b("\n" + n);
                                r.b('        <a href="#" class="btn_blue" placeholder="start">开始预约</a>');
                                r.b("\n") });
                            e.pop() }
                        if (!r.s(r.f("reserve_switch", e, t, 1), e, t, 1, 0, 0, "")) { r.b("    <span class=\" orange\" node='reserve_date'>预约开始日期　<span>");
                            r.b(r.v(r.f("reserve_start_date", e, t, 0)));
                            r.b("</span></span>");
                            r.b("\n" + n);
                            r.b('    <a href="#" class="btn_blue" placeholder="start" style="display:none">开始预约</a>');
                            r.b("\n") } }
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b('  <input type="hidden" value="" data-date="yes" name="reserveDate">');
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n" + n);
                    r.b('<div class="ptb cf" style="display:none;"  data-isReserve="end">');
                    r.b("\n" + n);
                    r.b('    <div class="route_tit">出行日期</div>');
                    r.b("\n" + n);
                    r.b('  <div class="route_con">');
                    r.b("\n" + n);
                    r.b('      <a class="unit_text blue pointer" placeholder="datepicker" data-date="yes" title="重新选择出行日期"></a>');
                    r.b("\n" + n);
                    r.b('        <span class="gray">[订单提交后,如需修改请电联商家。]</span>');
                    r.b("\n" + n);
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            if (r.s(r.f("isCTripMode", e, t, 1), e, t, 0, 7494, 7520, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('<div class="mask"></div>');
                    n.b("\n") });
                e.pop() }
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["groupCalNoTc"] }(t.exports, t, e);
    e.____MODULES["0a20a0f1717afd62eab900c10ada2c83"] = t.exports })(this);
(function(e) {
    var t = { id: "07d6db7ceb1e85e7ef0254d408a28e7b", filename: "groupCalIsTc.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["groupCalIsTc"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="cf">');
            r.b("\n" + n);
            r.b('    <div class="route_tit" style="display:none;">套餐包含</div>');
            r.b("\n" + n);
            r.b('    <div class="route_con cf"> style="display:none;"');
            r.b("\n" + n);
            r.b('        <span item="adult" class="unit_text">成人&times;');
            r.b(r.v(r.f("adultCount", e, t, 0)));
            r.b('<input type="hidden" name="adultCount" value="');
            r.b(r.v(r.f("adultCount", e, t, 0)));
            r.b('"/></span>');
            r.b("\n" + n);
            r.b('        <span item="child" class="unit_text">儿童&times;');
            r.b(r.v(r.f("childCount", e, t, 0)));
            r.b('<input type="hidden" name="childCount" value="');
            r.b(r.v(r.f("childCount", e, t, 0)));
            r.b('"/></span>');
            r.b("\n" + n);
            if (r.s(r.f("hasRoom", e, t, 1), e, t, 0, 428, 724, "{{ }}")) { r.rs(e, t, function(e, t, n) {
                    if (!n.s(n.f("isMilv", e, t, 1), e, t, 1, 0, 0, "")) { n.b('          <span item="room" class="unit_text">房间&times;');
                        n.b(n.v(n.f("roomCount", e, t, 0)));
                        n.b('<input type="hidden" name="roomCount" value="');
                        n.b(n.v(n.f("roomCount", e, t, 0)));
                        n.b('"/></span>		');
                        n.b("\n") }
                    if (n.s(n.f("isMilv", e, t, 1), e, t, 0, 633, 704, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b('          <span item="room" class="unit_text">(无房间)</span>	');
                            n.b("\n") });
                        e.pop() } });
                e.pop() }
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            if (!r.s(r.f("isReserve", e, t, 1), e, t, 1, 0, 0, "")) { r.b("<div class=\"ptb cf\" item='date'>");
                r.b("\n" + n);
                r.b('  <div class="route_tit"><i class="required"></i>出行日期</div>');
                r.b("\n" + n);
                r.b('  <div class="route_con">');
                r.b("\n" + n);
                r.b('      <div class="dategroup" placeholder="datepicker">');
                r.b("\n" + n);
                r.b('          <input type="text" value="" placeholder="date" name="takeoffDate" class="input_date">');
                r.b("\n" + n);
                r.b('          <i class="dateico"></i>');
                r.b("\n" + n);
                r.b("      </div>");
                r.b("\n" + n);
                r.b("  </div>");
                r.b("\n" + n);
                r.b("</div>");
                r.b("\n") }
            if (r.s(r.f("isReserve", e, t, 1), e, t, 0, 1132, 1791, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" item="type">');
                    r.b("\n" + n);
                    r.b('  <div class="route_tit">');
                    if (!r.s(r.f("isCatSingle", e, t, 1), e, t, 1, 0, 0, "")) { r.b('<i class="required"></i>') }
                    r.b("产品类型</div>");
                    r.b("\n" + n);
                    r.b('  <div class="route_con">');
                    r.b("\n" + n);
                    if (r.s(r.f("isCatSingle", e, t, 1), e, t, 0, 1304, 1473, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                            if (r.s(r.f("catTypeArr", e, t, 1), e, t, 0, 1325, 1453, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('  				<span class="unit_text">');
                                    r.b(r.v(r.f("title", e, t, 0)));
                                    r.b("</span>");
                                    r.b("\n" + n);
                                    r.b('  				<input type="hidden" value="');
                                    r.b(r.v(r.f("value", e, t, 0)));
                                    r.b('" placeholder="tId" name="tId">');
                                    r.b("\n") });
                                e.pop() } });
                        e.pop() }
                    if (!r.s(r.f("isCatSingle", e, t, 1), e, t, 1, 0, 0, "")) { r.b('	      <select class="hide" placeholder="type" name="tId" style="display: none;">');
                        r.b("\n" + n);
                        if (r.s(r.f("catTypeArr", e, t, 1), e, t, 0, 1616, 1724, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("	      	<option ");
                                if (n.s(n.f("selected", e, t, 1), e, t, 0, 1646, 1665, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b('selected="selected"') });
                                    e.pop() }
                                n.b(' value="');
                                n.b(n.v(n.f("value", e, t, 0)));
                                n.b('">');
                                n.b(n.v(n.f("title", e, t, 0)));
                                n.b("</option>");
                                n.b("\n") });
                            e.pop() }
                        r.b("		  </select>");
                        r.b("\n") }
                    r.b("  </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            r.b('<div class="ptb cf" item="taocan">');
            r.b("\n" + n);
            r.b('  <div class="route_tit"><i class="required"></i>购买份数</div>');
            r.b("\n" + n);
            r.b('  <div class="route_con">');
            r.b("\n" + n);
            r.b('      <input type="hidden" name="buy_taocan_count" placeholder="taocan" value="');
            r.b(r.v(r.f("taocanCount", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            if (!r.s(r.f("idDuobaoJP", e, t, 1), e, t, 1, 0, 0, "")) { r.b('	  <div class="unit_price">&times; &yen;<span placeholder="per-taocan-price"></span></div>');
                r.b("\n") }
            r.b("  </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            if (r.s(r.f("isReserve", e, t, 1), e, t, 0, 2187, 3418, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('<div class="ptb cf" item="acDateTip">');
                    r.b("\n" + n);
                    r.b('    <div class="route_tit" style="display:none;">有效日期</div>');
                    r.b("\n" + n);
                    r.b('    <div class="route_con" data-isReserve="start">');
                    r.b("\n" + n);
                    if (r.s(r.f("reserve_type", e, t, 1), e, t, 0, 2333, 2514, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('    	<span node="s_date"></span>&nbsp;');
                            r.b("\n" + n);
                            r.b("        <span class=\" orange\" node='reserve_date'>");
                            r.b(r.v(r.f("reserve_time", e, t, 0)));
                            r.b("</span>");
                            r.b("\n" + n);
                            r.b('        <a href="#" class="btn_blue" placeholder="start">开始预约</a>');
                            r.b("\n") });
                        e.pop() }
                    if (!r.s(r.f("reserve_type", e, t, 1), e, t, 1, 0, 0, "")) { r.b('	<span node="s_date"></span>&nbsp;');
                        r.b("\n" + n);
                        if (r.s(r.f("reserve_switch", e, t, 1), e, t, 0, 2607, 2774, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("        <span class=\" orange\" node='reserve_date'>预约结束日期　<span>");
                                r.b(r.v(r.f("reserve_end_date", e, t, 0)));
                                r.b("</span></span>");
                                r.b("\n" + n);
                                r.b('        <a href="#" class="btn_blue" placeholder="start">开始预约</a>');
                                r.b("\n") });
                            e.pop() }
                        if (!r.s(r.f("reserve_switch", e, t, 1), e, t, 1, 0, 0, "")) { r.b("		<span class=\" orange\" node='reserve_date'>预约开始日期　<span>");
                            r.b(r.v(r.f("reserve_start_date", e, t, 0)));
                            r.b("</span></span>");
                            r.b("\n" + n);
                            r.b('		<a href="#" class="btn_blue" placeholder="start" style="display:none">开始预约</a>');
                            r.b("\n") } }
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b('	<input type="hidden" value="" data-date="yes" name="reserveDate">');
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n" + n);
                    r.b('<div class="ptb cf" style="display:none;"  data-isReserve="end">');
                    r.b("\n" + n);
                    r.b('    <div class="route_tit">出行日期</div>');
                    r.b("\n" + n);
                    r.b('	<div class="route_con">');
                    r.b("\n" + n);
                    r.b('    	<a class="unit_text blue pointer" placeholder="datepicker" data-date="yes" title="重新选择出行日期"></a>');
                    r.b("\n" + n);
                    r.b('        <span class="gray">[订单提交后,如需修改请电联商家。]</span>');
                    r.b("\n" + n);
                    r.b("    </div>");
                    r.b("\n" + n);
                    r.b("</div>");
                    r.b("\n") });
                e.pop() }
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["groupCalIsTc"] }(t.exports, t, e);
    e.____MODULES["07d6db7ceb1e85e7ef0254d408a28e7b"] = t.exports })(this);
(function(e) {
    var t = { id: "fe3bd61b8b2dc6fc6b2ef2a22611d128", filename: "custom.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["custom"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="ptb cf" item="adult">');
            r.b("\n" + n);
            r.b('  <div class="route_tit">购买份数</div>');
            r.b("\n" + n);
            r.b('  <div class="route_con">');
            r.b("\n" + n);
            r.b('      <input type="hidden" name="adultCount" placeholder="adultCount" value="');
            r.b(r.v(r.f("num", e, t, 0)));
            r.b('">');
            r.b("\n" + n);
            r.b('      <div class="unit_price">&times; &yen;<span placeholder="per-price"></span></div>');
            r.b("\n" + n);
            r.b("  </div>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["custom"] }(t.exports, t, e);
    e.____MODULES["fe3bd61b8b2dc6fc6b2ef2a22611d128"] = t.exports })(this);
(function(e) {
    var t = { id: "09329ab0ea28f7bbecc299c46e5bff59", filename: "pinfang.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = e.____MODULES["720c7020768210e59950fb75248b3369"];
        var s = { init: function(e) {
                if (QNR.bookdata.hasRoom === false) {
                    return }
                if (!this.inited) { this.$w = e;
                    this.$radios = this.$w.find(".js_p_gbd_rd");
                    this.$isSpellRoomEl = this.$w.find('[name="isSpellRoom"]');
                    this.activeClass = "active";
                    this._initEvents();
                    this._showOrHideCheckbox(QNR.bookdata.price.send);
                    this.initRoomShare();
                    this.inited = true } }, _getMinRoomCount: function() {
                var e = QNR.bookdata;
                var t = e.count;
                var n = e.roomtype;
                return parseInt((t.adult + (e.isYoosure ? t.child : 0) + n - 1) / n, 10) }, initRoomShare: function() {
                var e = this.$w;
                if (e.length > 0 && e.is(":visible")) {
                    var t = QNR.bookdata;
                    if (t && t.type === "group") {
                        if (t.count && t.roomtype) {
                            var n = t.count;
                            var r = n.room;
                            if (r) {
                                var i = this._getMinRoomCount();
                                var s = e.find(".js_p_gbd_rd");
                                var o;
                                if (r > i) { o = s.filter(function() {
                                        return $(this).data("value") === "disagree" }) } else { o = s.filter(function() {
                                        return $(this).data("value") === "agree" }) }
                                setTimeout(function() { "use strict";
                                    o && o.length && o.click() }, 10) } } } } }, _initEvents: function() {
                var e = this;
                QNR.event.bind("top.calendarOrTypeChange calendarOrTypeChange", function(t, n) { e._showOrHideCheckbox(n) });
                if (this.$radios.length === 0) {
                    return }
                QNR.module.tools.renderRadios({ $radios: this.$radios, clickFunc: function(t) {
                        var n = t.data("value");
                        var r = n != "agree";
                        var s = i.formEl;
                        var o = s.find('[placeholder="group-room-readonly"]');
                        if (!r) { o.val(e._getMinRoomCount()).show();
                            s.find('[item="roomDiff"]').hide();
                            s.find('[item="readonlyRoomNum"]').show();
                            e.$isSpellRoomEl.val("true") } else { o.hide();
                            s.find('[item="roomDiff"]').show();
                            s.find('[item="readonlyRoomNum"]').hide();
                            e.$isSpellRoomEl.val("false") }
                        e.isSelectAgreePinFang = n;
                        QNR.event.trigger("booking.updatePrice", [r]) } }) }, _showOrHideCheckbox: function(e) {
                var t = this;
                if (!window.isCTripMode) { window.setTimeout(function() { t.$radios.filter('[data-value="agree"]').trigger("click") }, 0) }
                if (e > 0) { this.$w.show() } else { this.$w.hide() } } };
        var o = { init: function(e) {
                if (QNR.bookdata.hasRoom === false) {
                    return }
                if (this.inited) {
                    return }
                e.find(".j-tipIcon").hover(function() { $(this).parent().removeClass("invisible") }, function() { $(this).parent().addClass("invisible") });
                e.find(".j-fc").hover(function() { $(this).siblings(".tips").removeClass("invisible") }, function() { $(this).siblings(".tips").addClass("invisible") });
                this.inited = true } };
        n.exports = { init: function(e) {
                if (e && e.length > 0) { s.init(e);
                    o.init(e) } }, isSelectAgreePinFang: function() {
                return s.isSelectAgreePinFang } } }(t.exports, t, e);
    e.____MODULES["09329ab0ea28f7bbecc299c46e5bff59"] = t.exports })(this);
(function(e) {
    var t = { id: "8440fc9abdf95dfe3c8aa9ba78462b59", filename: "switcher.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["165d0540520d664d39c53e8d8913987a"];
        e.____MODULES["8b1c83a42051f196748a36e6fff6540e"];
        e.____MODULES["9ec9064941dba85db52e6de6c75d5752"];
        e.____MODULES["b900004e0a5448f2555c6ef62e30f6c7"];
        e.____MODULES["0a20a0f1717afd62eab900c10ada2c83"];
        e.____MODULES["07d6db7ceb1e85e7ef0254d408a28e7b"];
        e.____MODULES["fe3bd61b8b2dc6fc6b2ef2a22611d128"];
        var i = e.____MODULES["09329ab0ea28f7bbecc299c46e5bff59"];
        var s = e.____MODULES["988df799fdd4cab32774b3e9f130cbb5"];
        var o = { init: function(e) { this.prefixData();
                this.$panel = e && e.length ? e : $("#js_p_booking");
                this.isTaocan = !!QNR.bookdata.is_taocan;
                this.type = QNR.bookdata.type;
                var t = QNR.bookdata.hasRoom;
                var n = QNR.bookdata.isMilv;
                var r = QNR.bookdata.count,
                    o = r.adult,
                    u = r.child,
                    a = r.room,
                    f = r.taocan,
                    l = r.num;
                var c = QNR.bookdata.cateTypeArr || [],
                    h = c.length <= 1;
                var p = QNR.bookdata.isReserve,
                    d = QNR.bookdata.tele;
                if (QNR.bookdata.validDate) {
                    var v = QNR.bookdata.validDate[0],
                        m = QNR.bookdata.validDate[1] }
                if (p) {
                    var g = QNR.bookdata.reserve_type == 1 ? true : false;
                    var y = QNR.bookdata.reserve_advance_day ? "建议至少在出行前" + QNR.bookdata.reserve_advance_day + "天的" + QNR.bookdata.reserve_advance_time + "前预约" : "";
                    var b = DateUtil.parse(QNR.bookdata.today) - 0 < DateUtil.parse(QNR.bookdata.reserve_start_date) - 0 ? false : true;
                    var w = QNR.bookdata.reserve_start_date;
                    var E = QNR.bookdata.reserve_end_date }
                if (this.isTaocan) { taocanCnt = QNR.bookdata.taocanCnt;
                    o = taocanCnt.adultCount;
                    u = taocanCnt.childCount;
                    a = taocanCnt.roomCount }
                var S = s.isSingleTicket,
                    x = s.isCourseOrFood,
                    T = s.isSinglePrd,
                    N = !T,
                    C = !T;
                if (T) { t = false }
                if ((this.type == "freetrip-calendar" || this.type == "flight") && !this.isTaocan) { this.$panel.html(QTMPL.freeCalNoTc.render({ idDuobaoJP: !!window.isCustomActivitiesPrize, roomtype: QNR.bookdata.roomtype, adultCount: o, childCount: u, roomCount: a, hasRoom: t, isReserve: p, reserve_type: g, reserve_time: y, reserve_start_date: w, reserve_end_date: E, reserve_switch: b, tele: d, validDateStart: v, validDateEnd: m, isSingleTicket: S, isCourseOrFood: x, hasChild: C, hasAdult: N })) }
                if (this.type == "freetrip-calendar" && this.isTaocan) { this.$panel.html(QTMPL.freeCalIsTc.render({ idDuobaoJP: !!window.isCustomActivitiesPrize, childCount: u, adultCount: o, roomCount: a, hasRoom: t, taocanCount: r.taocan, isMilv: n, isReserve: p, reserve_type: g, reserve_time: y, reserve_start_date: w, reserve_end_date: E, reserve_switch: b, tele: d, validDateStart: v, validDateEnd: m })) }
                if ((this.type == "freetrip-catalog" || this.type == "flight") && !this.isTaocan) { this.$panel.html(QTMPL.freeCatNoTc.render({ idDuobaoJP: !!window.isCustomActivitiesPrize, isCatSingle: h, catTypeArr: c, roomtype: QNR.bookdata.roomtype, adultCount: o, childCount: u, roomCount: a, hasRoom: t, isReserve: p, reserve_type: g, reserve_time: y, reserve_start_date: w, reserve_end_date: E, reserve_switch: b, tele: d, validDateStart: v, validDateEnd: m, isSingleTicket: S, isCourseOrFood: x, hasAdult: N, hasChild: C })) }
                if (this.type == "freetrip-catalog" && this.isTaocan) {
                    var r = QNR.bookdata.count;
                    this.$panel.html(QTMPL.freeCatIsTc.render({ idDuobaoJP: !!window.isCustomActivitiesPrize, isCatSingle: h, catTypeArr: c, childCount: u, adultCount: o, roomCount: a, hasRoom: t, taocanCount: f, isReserve: p, reserve_type: g, reserve_time: y, reserve_start_date: w, reserve_end_date: E, reserve_switch: b, tele: d, validDateStart: v, validDateEnd: m })) }
                if (this.type == "group" && !this.isTaocan) { this.$panel.html(QTMPL.groupCalNoTc.render({ idDuobaoJP: !!window.isCustomActivitiesPrize, roomtype: QNR.bookdata.roomtype, adultCount: o, childCount: u, roomCount: a, hasRoom: t, isMilv: n, isCatSingle: h, catTypeArr: c, isReserve: p, reserve_type: g, reserve_time: y, reserve_start_date: w, reserve_end_date: E, reserve_switch: b, tele: d, validDateStart: v, validDateEnd: m, isCTripMode: window.isCTripMode, isSingleTicket: S, isCourseOrFood: x, hasAdult: N, hasChild: C })) }
                if (this.type == "group" && this.isTaocan) {
                    var r = QNR.bookdata.count;
                    this.$panel.html(QTMPL.groupCalIsTc.render({ idDuobaoJP: !!window.isCustomActivitiesPrize, childCount: u, adultCount: o, roomCount: a, hasRoom: t, taocanCount: f, isMilv: n, isCatSingle: h, catTypeArr: c, isReserve: p, reserve_type: g, reserve_time: y, reserve_start_date: w, reserve_end_date: E, reserve_switch: b, tele: d, validDateStart: v, validDateEnd: m })) }
                if (this.type == "custom") { this.$panel.html(QTMPL.custom.render({ num: l || 1 })) }
                if (QNR.bookdata.hasRoom) { i.init(this.$panel.find("#pinfangw")) } }, prefixData: function() {
                if (QNR.bookdata.min_buy > QNR.bookdata.count.taocan) { QNR.bookdata.count.taocan = QNR.bookdata.min_buy } } };
        n.exports = o }(t.exports, t, e);
    e.____MODULES["8440fc9abdf95dfe3c8aa9ba78462b59"] = t.exports })(this);
(function(e) {
    var t = { id: "f1d8917875779682ebb5082da65fb03e", filename: "b-common-normal.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = e.____MODULES["61a7a37477b42b43ab9bf1ea30ce70f6"];
        var s = e.____MODULES["988df799fdd4cab32774b3e9f130cbb5"];
        var o = { initCommon: function() { this.args = $.extend({ adult: 2, child: 0, room: 1 }, QNR.bookdata.count);
                this.initParams();
                this.initPage();
                this.initCommonEvents();
                this.commonParse(QNR.bookdata);
                this.hasRoom && this.initRoomVal(true) }, initParams: function() { this.isIncludeRoomPrice = QNR.bookdata.hasRoom && (QNR.bookdata.prdType === "free" ? true : false);
                this.hasRoom = QNR.bookdata.hasRoom;
                this.tId = this.dom.find('[name="tId"]');
                this.items = { adult: this.dom.find('[item="adult"]'), child: this.dom.find('[item="child"]'), room: this.dom.find('[item="room"]') };
                this.price = { adult: this.dom.find('[placeholder="adult-price"]'), child: this.dom.find('[placeholder="child-price"]'), room: this.dom.find('[placeholder="room-price"]'), perAdult: this.dom.find('[placeholder="per-adult-price"]'), perChild: this.dom.find('[placeholder="per-child-price"]'), roomSendPrice: this.dom.find('[placeholder="room-send-price"]'), roomVSendPrice: this.dom.find('[placeholder="room-virtualSend-price"]'), roomDiffNum: this.dom.find('[placeholder="room-diff-num"]'), reduce: this.dom.find('[item="reduce"]'), original: this.dom.find('[item="original"]'), total: this.dom.find('[item="total"]'), prepayTotal: this.dom.find('[item="prepayTotal"]'), insurance: this.dom.find('[item="insurance"]') };
                if ($("#use-desc").length) { this.items.usedesc = $("#use-desc");
                    this.items.feedesc = $("#fee-desc");
                    this.items.usetext = this.items.usedesc.find('[placeholder="content"]');
                    this.items.feetext = this.items.feedesc.find('[placeholder="content"]') }
                this.$ticketGetType = $("#getTicketMethod");
                this.$roomType = this.dom.find('[item="roomType"]');
                if (window.isCTripMode) { this.$stockMsg = this.dom.find(".stock_msg") } }, initPage: function() {
                var e = this,
                    t = this.args;
                var n = 1,
                    r = 0;
                this.isYoosure = QNR.bookdata.isYoosure || false;
                if (this.isYoosure) { n = 0;
                    r = QNR.bookdata.min_buy || 1 }
                var i = this.dom.find('[placeholder="adult"]');
                i.val(t.adult);
                this.adult = new QNR.SimpleCalculator(i, { zIndex: 3, defaultValue: t.adult, minValue: n, descSchemes: "two", unitStr: "人", onChange: function(t) {
                        if (e.isYoosure) { e.changeMaxValue() }
                        i.val(e.adult.getValue());
                        e.updatingData(t);
                        if (QNR.bookdata.isReserve) {
                            var n = $('[placeholder="start"]');
                            n.eq(0).show();
                            $("[data-isReserve=end]").hide();
                            $("input[name=reserveDate]").val("") } } });
                var s = this.dom.find('[placeholder="child"]');
                s.val(t.child);
                this.child = new QNR.SimpleCalculator(s, { zIndex: 2, defaultValue: t.child, minValue: r, descSchemes: "two", unitStr: "人", onChange: function(t) {
                        if (e.isYoosure) { e.changeMaxValue() }
                        s.val(e.child.getValue());
                        e.updatingData(t) } });
                var o = this.$roomInput = this.dom.find('[placeholder="room"]');
                if (!o.length) { this.hasRoom = false }
                if (this.hasRoom) { t.room = t.room || 1;
                    o.val(t.room);
                    this.room = new QNR.SimpleCalculator(o, { zIndex: 1, defaultValue: t.room, minValue: 1, maxValue: t.adult, descSchemes: "two", unitStr: "间", onChange: function(t) { o.val(e.room.getValue());
                            e.dom.find('[placeholder="group-room-readonly"]').val(e.room.getValue());
                            e.updatingData(t) } }) }
                var u, a;
                if (window.isCTripMode) { u = $("#ctripSend");
                    a = $("#pinfangw").find('[name="isSpellRoom"]');
                    this.$ctripSendSelect = u.find("select");
                    this.$ctripSendPerPrice = u.find(".per-send-price");
                    this.ctripFCNum = 0;
                    this.$ctripSendSelect.on("change", function(t, n) { e.ctripFCNum = n !== undefined ? n - 0 : e.ctripFCNum;
                        a.val(e.ctripFCNum > 0 ? "false" : "true");
                        var r = { skipUpdate: true, ctripFCNum: e.ctripFCNum };
                        e.updatePrice(null, r) }) } }, changeMaxValue: function() {
                var e = this.child.getValue();
                var t = this.adult.getValue();
                this.adult.setMaxValueOfOptions(this.max - e);
                this.child.setMaxValueOfOptions(this.max - t) }, initCommonEvents: function() {
                var e = this;
                var t;
                if (window.isCTripMode) { t = $("#pinfangw").find('[name="isSpellRoom"]') }
                this.submitBtn.on("click", function(t) {
                    var n = e.adult.getValue();
                    var r = e.child.getValue();
                    var i = n + r;
                    if (i < e.minPurchaseNum || i > e.max) { QNR.module.dlg.show({ ptext: "本产品最少起订人数为" + e.minPurchaseNum + "人，最多为" + e.max + "人，<br/>请输入正确购买人数。" });
                        t.stopImmediatePropagation() } });
                QNR.event.bind("booking.updatePrice", function(t, n) { e.isIncludeRoomPrice = n;
                    e.room ? n ? e.room.show() : e.room.hide() : "";
                    e.updatePrice() });
                QNR.event.bind("activity-change", function(t, n) { e.activity = n;
                    e.updatingData("activity-change") });
                QNR.event.bind("insurance-change", $.proxy(function(e, t) { this._localcache.insurance = t;
                    this.updatingData("insurance-change") }, this));
                QNR.event.bind("valueAdded-change", $.proxy(function(e, t) { this._localcache.valueAdded = t.data;
                    this.updatingData("valueAdded-change") }, this));
                QNR.event.bind("feright-change", $.proxy(function(e, t) { this.updatingData("feright-change") }, this));
                i.initPassengerInfo("array");
                QNR.event.bind("tie-in-change", $.proxy(function(e, t) { this._localcache.tieIn = t.list;
                    this._localcache.tieInLength = t.list.length;
                    this.updatingData("tie-in-change") }, this));
                QNR.event.bind("packedFlight-change", function() { e.updatingData("packedFlight-change") });
                QNR.event.bind("ctrip-check-done", function(n, r) {
                    var i = 0;
                    if (r.hasStock) { i = r.arg.limit }
                    if (i !== 0) { e.preCtripMaxLimit = i } else { i = e.preCtripMaxLimit || i }
                    e.adult.setMaxValueOfOptions(i);
                    e.child.setMaxValueOfOptions(i);
                    e._localcache.adult = r.arg.price.adult;
                    e._localcache.child = r.arg.price.child;
                    e._localcache.send = r.arg.price.send;
                    if (e._localcache.child > 0) { e._localcache.is_child_price = true;
                        e.items.child.show();
                        if (!e.checked) { e.child.setValue(QNR.bookdata.count.child, false, {}) }
                        e.hasCtripChildPrice = true }
                    e.$ctripSendPerPrice.text(r.arg.price.send);
                    var s = r.arg.fcData;
                    var o = s && s.options || [0],
                        u = [],
                        a = e.$ctripSendSelect[0].selectedIndex || 0;
                    e.isCtripChildTakeRoom = s && s.isCtripChildTakeRoom || false;
                    for (var f = 0; f < o.length; f++) {
                        if (f === 0) { e.ctripFCNum = o[f] }
                        u.push('<option value="' + o[f] + '">' + o[f] + "</option>") }
                    e.$ctripSendSelect.html(u.join(""));
                    e.$ctripSendSelect.prop("selectedIndex", 0);
                    e.virtualSendPrice = e.virtualSendPrice || e.$ctripSendSelect.csSelect({ tpl: QTMPL.csSelect.render(), cls: "ctrip_send_price" });
                    e.virtualSendPrice.data("csSelect").update().change(0);
                    e.ctripFCNum = r.arg.ctripFCNum !== undefined ? r.arg.ctripFCNum - 0 : e.ctripFCNum;
                    t.val(e.ctripFCNum > 0 ? "false" : "true");
                    e.checked = true }) }, updatingData: function(e) {
                var t = this;
                window.clearTimeout(this.timer);
                this.timer = setTimeout(function() { t.commonUpdate(e) }, 0) }, updateCtripRoomCount: function() {
                var e = this.adult.getValue(),
                    t = this.child.getValue(),
                    n = this.isCtripChildTakeRoom,
                    r = this.ctripFCNum;
                var i = (e + (n ? t : 0) + r) / 2;
                i = Math.ceil(i);
                this.$roomInput.val(i);
                return i }, commonUpdate: function(e) {
                var t = "all";
                if (e) {
                    if (e.target == this.adult) { t = "adult" } else if (e.target == this.child) { t = "child" } else if (e.target == this.room) { t = "room" } }
                var n = this.adult.getValue();
                var r = this.child.getValue();
                if (this.isYoosure) {
                    if (this.hasRoom && (t === "adult" || t === "child")) { this.initRoomVal(false) } } else {
                    if (this.hasRoom && t === "adult") { this.initRoomVal(false) } }
                this.updatePrice(e);
                if (e == "insurance-change") {
                    return this }
                if (e == "valueAdded-change") {
                    return this }
                if (e == "tie-in-change") {
                    return this }
                if (e == "feright-change") {
                    return this }
                if (!e || e != "activity-change") { QNR.event.trigger("numChange", [{ adult: n, child: r, room: this.hasRoom ? this.room.getValue() : 0 }]) } }, updatePrice: function(e, t) {
                var n = this;
                var r = this.getPrice();
                if (QNR.bookdata.prdType === "group" && !this.isIncludeRoomPrice) { r = $.extend({}, r, { send: 0, virtualSend: r.send }) }
                var i = this.adult.getValue();
                var o = this.child.getValue();
                var u;
                if (window.isCTripMode) { u = this.updateCtripRoomCount() } else { u = this.hasRoom ? this.room.getValue() : 0 }
                if (QNR.bookdata.pre_author_promotion == "true") {
                    var a = QNR.bookdata.preAuthorAmount || 0;
                    r = $.extend({}, r, { preAuthorAmount: a }) }
                if (s.isSinglePrd) {
                    var f = this.$ticketGetType.val();
                    r.feright = QNR.singlePrd.pick_way == "2" && f == "1" && QNR.singlePrd.baoyou != "true" ? 10 : 0 }
                var l;
                if (window.isCTripMode) { l = "CTripGroup";
                    t = t || { skipUpdate: typeof e === "undefined", ctripFCNum: this.ctripFCNum } } else { l = "freetrip" }
                QNR.module.priceManager.get(l, { adult: i, child: o, room: u, count: this._localcache.roomtype, limit: this._localcache.limit, price: r, activity: this.activity, activityRules: QNR.bookdata.activityRules || {}, isYoosure: this.isYoosure, ctripArgs: t }, $.proxy(function(e) { i = this.adult.getValue();
                    o = this.child.getValue();
                    this.price.perAdult.html(r.adult);
                    this.price.perChild.html(r.child);
                    this.price.adult.html(e.adult);
                    this.price.child.html(e.child);
                    if (this.hasRoom) { this.price.room.text(e.room);
                        this.price.roomSendPrice.text(e.roomSend);
                        this.price.roomVSendPrice.text(e.roomVSend) }
                    this.price.roomDiffNum.html(e.roomDiffNum);
                    this.price.original.html(e.original);
                    this.price.reduce.html(e.reduce);
                    this.price.total.html(e.total);
                    this.price.prepayTotal.html(e.preAuthorAmountTotal);
                    if (QNR.bookdata.hasInsurance) { this.price.insurance.html(e.insurance) }
                    var t = true;
                    if (window.isCTripMode) {
                        if (e.ctripXList && e.ctripXList < 0) { t = false;
                            e.ctripXList = Math.abs(e.ctripXList) } }
                    var n = { adultAmount: i, childAmount: o, perAdultPrice: r.adult, perChildPrice: r.child, totalAdultPrice: e.adult, totalChildPrice: e.child, hasRoom: this.hasRoom, hasChild: !!r.is_child_price, roomAmount: u, originalPrice: e.original, reducePrice: e.reduce, valueAddedObj: r.valueAdded, valueAddedTotalPrice: e.valueAdded, hasInsurance: QNR.bookdata.hasInsurance, insuranceObj: r.insurance, insuranceTotalPrice: e.insurance, isTieIn: r.tieInLength || 0, tieIn: r.tieIn || [], totalPrice: e.total, preAuthorAmountTotal: e.preAuthorAmountTotal || null, showFeright: r.feright && r.feright > 0, feright: r.feright || 0, isCTripMode: window.isCTripMode || false, ctripXList: e.ctripXList || false, ctripInsurance: e.ctripInsurance || false, ctripXResourceTotal: e.ctripXResourceTotal || 0, isPlus: t, hasPackedFlight: QNR.hasPackedFlight, packedFlightPrice: QNR.packedFlightPrice };
                    if (window.isCTripMode) { n.needShowRoomDiff = this.ctripFCNum > 0;
                        n.roomDiffNum = this.ctripFCNum;
                        n.roomDiffPrice = r.send;
                        n.totalRoomPrice = this.ctripFCNum * r.send } else { n.needShowRoomDiff = !!this.isIncludeRoomPrice;
                        n.roomDiffNum = e.roomDiffNum;
                        n.roomDiffPrice = r.send;
                        n.totalRoomPrice = e.roomSend }
                    QNR.module.sidebar.renderPrice("normal", n) }, this)) }, getPrice: function() {
                return this._localcache }, max: 0, minPurchaseNum: 1, commonParse: function(e) {
                if (e.tId) { this.tId.val(e.tId) }
                this._localcache = { limit: parseInt(e.limit, 10), adult: parseInt(e.price.adult, 10), child: parseInt(e.price.child, 10), send: parseInt(e.price.send, 10), is_child_price: e.price.is_child_price, reduce: { type: QNR.bookdata.price.reduceType, num: QNR.bookdata.price.reducePrice, peopleNum: QNR.bookdata.price.peopleNum }, roomtype: parseInt(e.roomtype) || 2, insurance: [], valueAdded: [], prepayPercent: QNR.bookdata.prepayPercent || null };
                if (QNR.bookdata.prdType === "free") {
                    if (this._localcache.send) { this.price.room.closest("dd").show();
                        this.price.roomSendPrice.text(this._localcache.send) } else { this.price.room.closest("dd").hide();
                        this.price.roomSendPrice.text(0) } }
                if (e.desc && typeof e.desc.use != "undefined" && this.items.usedesc) {
                    if (e.desc.use) { this.items.usetext.html("<p>" + e.desc.use + "</p>").show() } else { this.items.usedesc.hide() }
                    if (e.desc.fee) { this.items.feetext.html("<p>" + e.desc.fee + "</p>").show() } else { this.items.feedesc.hide() } }(e.roomtype || e.roomType) && this.$roomType.length && this.$roomType.text((e.roomtype || e.roomType) + "人间");
                var t = parseInt(e.limit, 10);
                var n = parseInt(e.left, 10);
                var r = parseInt(e.min_buy, 10);
                this.max = t && t < n ? t : n;
                this.minPurchaseNum = r ? r < n ? r : n : 1;
                if (!this._localcache.is_child_price && !this.hasCtripChildPrice) { this.child.setValue(0, true);
                    this.items.child.hide();
                    this.adult.setMinValueOfOptions(this.minPurchaseNum).setMaxValueOfOptions(this.max);
                    var i = this.adult.getValue();
                    if (i < this.minPurchaseNum) { this.adult.setValue(this.minPurchaseNum) }
                    if (i > this.max) { this.adult.setValue(this.max) } } else { this.items.child.show();
                    this.adult.setMinValueOfOptions(1);
                    if (this.isYoosure) { this.adult.setMinValueOfOptions(0);
                        this.child.setMinValueOfOptions(1) } }
                this.adult.setMaxValueOfOptions(this.max);
                this.child.setMaxValueOfOptions(this.max);
                this.hasRoom && this.initRoomVal(true);
                this.updatingData() }, initRoomVal: function(e) {
                if (this.hasRoom) {
                    var t = 0;
                    if (this.isYoosure) { t = this.child.getValue() }
                    var n = this.adult.getValue();
                    var r = this.room.getValue();
                    var i = this._localcache.roomtype || 2;
                    var s = parseInt((n + t + i - 1) / i, 10),
                        o = n + t;
                    if (r < s || r > o) { r = s }
                    this.room.setMinValueOfOptions(s).setMaxValueOfOptions(o).setValue(r, e) } } };
        n.exports = o }(t.exports, t, e);
    e.____MODULES["f1d8917875779682ebb5082da65fb03e"] = t.exports })(this);
(function(e) {
    var t = { id: "a4827978ba0863689a4c66cd4d469633", filename: "b-common-taocan.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = e.____MODULES["61a7a37477b42b43ab9bf1ea30ce70f6"];
        var s = { isDuoBao: window.isCustomActivitiesPrize === true, isDuoBaoPrd: window.isCustomActivitiesStageProduct === true };
        if (s.isDuoBao) { QNR.bookdata.count.taocan = 1;
            QNR.bookdata.left = 1;
            QNR.bookdata.limit = 1 }
        var o = { activity: {}, initCommon: function() { this.price = { perTaocan: this.dom.find('[placeholder="per-taocan-price"]'), original: this.dom.find("[item='original']"), reduce: this.dom.find("[item='reduce']"), total: this.dom.find("[item='total']"), prepayTotal: this.dom.find('[item="prepayTotal"]'), insurance: this.dom.find("[item='insurance']") };
                this.tId = this.dom.find("[name='tId']");
                this.type = this.dom.find("[placeholder='type']");
                var e = $.extend({ taocan: 1 }, QNR.bookdata.count);
                var t = this;
                var n = this.dom.find('[placeholder="taocan"]');
                n.val(e.taocan);
                this.count = new QNR.SimpleCalculator(n, { defaultValue: e.taocan, minValue: 1, isTaocan: true, descSchemes: "two", unitStr: "份", onChange: function(e) { n.val(t.count.getValue());
                        t.updatingData(e);
                        if (QNR.bookdata.isReserve) {
                            var r = $('[placeholder="start"]');
                            r.eq(0).show();
                            $("[data-isReserve=end]").hide();
                            $("input[name=reserveDate]").val("") } } });
                this.commonParse(QNR.bookdata);
                QNR.event.bind("activity-change", $.proxy(function(e, t) { this.activity = t;
                    this.updatingData("activity-change") }, this));
                QNR.event.bind("valueAdded-change", $.proxy(function(e, t) { this.local.valueAdded = t.data;
                    this.updatingData("valueAdded-change") }, this));
                QNR.event.bind("insurance-change", $.proxy(function(e, t) { this.local.insurance = t;
                    this.updatingData("insurance-change") }, this));
                i.initPassengerInfo("array");
                QNR.event.bind("tie-in-change", $.proxy(function(e, t) { this.local.tieIn = t.list;
                    this.local.tieInLength = t.list.length;
                    this.updatingData("tie-in-change") }, this));
                QNR.event.bind("packedFlight-change", function() { t.updatingData("packedFlight-change") }) }, updatingData: function(e) {
                var t = this;
                this.commonUpdate(e) }, commonUpdate: function(e) {
                var t = this.count.getValue();
                var n = $("input[name='adultCount']");
                var r = n.val();
                var i = $("input[name='childCount']");
                var s = i.val();
                var o = $("input[name='roomCount']");
                i.val(QNR.bookdata.taoCanChild || QNR.bookdata.taocanCnt.childCount * t);
                n.val(t * QNR.bookdata.taocanCnt.adultCount);
                o.val(t * QNR.bookdata.taocanCnt.roomCount);
                var u = o.length ? o.val() : 0;
                var a = this.local.price;
                if (QNR.bookdata.pre_author_promotion == "true") {
                    var f = QNR.bookdata.preAuthorAmount || 0;
                    this.local = $.extend({}, this.local, { preAuthorAmount: f }) }
                if (QNR.bookdata.isPrepay) {
                    var l = QNR.bookdata.prepayPercent || null;
                    this.local = $.extend({}, this.local, { prepayPercent: l }) }
                QNR.module.priceManager.get("common", { count: t, prices: this.local, activity: this.activity, activityRules: QNR.bookdata.activityRules || {} }, $.proxy(function(e) { this.price.perTaocan.html(e.taocan);
                    this.price.original.html(e.original);
                    this.price.reduce.html(e.reduce);
                    this.price.total.html(e.total);
                    this.price.prepayTotal.html(e.preAuthorAmountTotal);
                    QNR.bookdata.hasInsurance && this.price.insurance.html(e.insurance);
                    QNR.module.sidebar.renderPrice("taocan", { taocanCount: t, taocanPrice: a, adultAmount: r, childAmount: s, roomAmount: u, originalPrice: e.original, reducePrice: e.reduce, valueAddedObj: this.local.valueAdded, valueAddedTotalPrice: e.valueAdded, insuranceObj: this.local.insurance, insuranceTotalPrice: e.insurance, isTieIn: this.local.tieInLength || [], tieIn: this.local.tieIn || [], totalPrice: e.total, preAuthorAmountTotal: e.preAuthorAmountTotal || null, hasPackedFlight: QNR.hasPackedFlight, packedFlightPrice: QNR.packedFlightPrice }) }, this));
                if (e == "insurance-change") {
                    return this }
                if (e == "valueAdded-change") {
                    return this }
                if (e == "tie-in-change") {
                    return this }
                var c = t * QNR.bookdata.taocanCnt.adultCount,
                    h = QNR.bookdata.taocanCnt.childCount * t;
                if (!e || e != "activity-change") { QNR.event.trigger("numChange", [{ adult: c, child: h, taocanNum: t }]) } }, commonParse: function(e) {
                if (e) { this.local = { price: e.price.taocan, insurance: [], valueAdded: [] } }
                if (e.choosen) { this.tId.val(e.choosen) } else if (this.type.length) { this.tId.val() } else if (e.tId) { this.tId.val(e.tId) }
                var t = e.limit;
                if (QNR.bookdata.activityRules && QNR.bookdata.activityRules["OO"]) { t = 1 }
                if (s.isDuoBao) { t = 1 }
                var n = parseInt(t, 10);
                var r = parseInt(e.left, 10);
                var i = parseInt(e.min_buy, 10);
                n = this.max = n && n < r ? n : r;
                i = this.minPurchaseNum = i ? i < r ? i : r : 1;
                this.count.setMinValueOfOptions(i).setMaxValueOfOptions(n);
                if (this.count.getValue() < i) { this.count.setValue(i) }
                if (this.count.getValue() > n) { this.count.setValue(n) }
                this.commonUpdate() } };
        n.exports = o }(t.exports, t, e);
    e.____MODULES["a4827978ba0863689a4c66cd4d469633"] = t.exports })(this);
(function(e) {
    var t = { id: "c1dbb09e91b37f6253b305c517f5729c", filename: "b-calendar.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = e.____MODULES["ef10d9060cb1881baa4ea3ba31e944f4"];
        var s = QNR.bookdata.fpid ? "?fpid=" + QNR.bookdata.fpid : "";
        var o = e.____MODULES["f1d8917875779682ebb5082da65fb03e"];
        var u = e.____MODULES["a4827978ba0863689a4c66cd4d469633"];
        var a = QNR.bookdata.is_taocan ? u : o;
        var f = $.extend({}, a, { init: function(e) { this.dom = e.parent;
                this.submitBtn = e.submitBtn;
                this.ac_date = this.dom.find('[item="acDateTip"]');
                this.sold_date = this.dom.find('[item="soldOutTip"]');
                this.$roomType = this.dom.find('[item="roomType"]');
                this.initCommon();
                this.initCalendar();
                this.initSelfEvents() }, initCalendar: function() {
                if (QNR.bookdata.isReserve) {
                    var e = this;
                    var t = this.dom.find('[placeholder="date"],[data-date="yes"]').val(QNR.bookdata.date);
                    this.dom.find("[data-date=yes]").val("");
                    this.dom.find("[data-date=yes]").html("");
                    var n = this.dom.find('[placeholder="start"]');
                    var r = this.dom.find('[placeholder="datepicker"]');
                    var s = this.dom.find('[placeholder="type"]');
                    if (s.length) {
                        var e = this;
                        var o = new $.csSelect(s, { cls: "select_package", tpl: QTMPL.csSelect.render() });
                        o.val(QNR.bookdata.choosen);
                        s.on("change", function() { e.changeType($(this).val()) }).trigger("change") } else { this.changeType($.trim(this.dom.find('[placeholder="tId"]').val())) }
                    n.bind("click", function(i) { i.preventDefault();
                        QNR.module.calendar.init({ $dateEl: t, $handler: r, handlerFunc: function(t) { e.dealDesc(t);
                                n.eq(0).hide();
                                e.dom.find("[data-isReserve=end]").show() } }) }) } else {
                    var e = this;
                    var t = this.dom.find('[placeholder="date"]').val(QNR.bookdata.date);
                    var r = this.dom.find('[placeholder="datepicker"]');
                    QNR.module.calendar.init({ $dateEl: t, $handler: r, handlerFunc: function(t) { e.commonParse(t);
                            e.dealDesc(t);
                            QNR.event.trigger("change-date", t);
                            QNR.event.trigger("tieInDateChange", t);
                            i.change(t.refundRegulars || "") } }) } }, cache: {}, changeType: function(e) {
                if (!e) {
                    return }
                var t = this,
                    n = e;
                if (QNR.bookdata.isReserve) {
                    var r = this.dom.find('[placeholder="start"]');
                    var i = this.dom.find('[placeholder="datepicker"]');
                    r.eq(0).show();
                    t.dom.find("[data-isReserve=end]").hide();
                    t.dom.find("[name=reserveDate]").val("") }
                this.loading && this.loading.abort();
                if (this.cache[n]) { t.modifyMinMaxDay(this.cache[n]);
                    t.modifyTip(n);
                    t.$roomType.text(this.cache[n].roomType + "人间");
                    this.commonParse(this.cache[n]);
                    QNR.event.trigger("calendarOrTypeChange", [this.cache[n].price.send, this.cache[n].roomType]);
                    return }
                var s = QNR.bookdata.fpid ? "?fpid=" + QNR.bookdata.fpid : "";
                this.loading = $.ajax({ url: "/ticketPrice.do" + s, data: { price_id: n, product_id: QNR.bookdata.pId }, dataType: "json", success: $.proxy(function(e) {
                        if (e.ret) {
                            var r = e.data;
                            this.cache[n] = window.Oldversion.fixFreetripCatalog(r);
                            $.extend(QNR.bookdata.price, this.cache[n]);
                            QNR.bookdata.choosen = n;
                            this.tId.val(n);
                            $("#tId").val(n);
                            t.$roomType.text(this.cache[n].roomType + "人间");
                            this.commonParse(this.cache[n]);
                            t.modifyMinMaxDay(this.cache[n]);
                            t.modifyTip(n);
                            QNR.event.trigger("calendarOrTypeChange", [this.cache[n].price.send, this.cache[n].roomType]) } }, this), complete: $.proxy(function() { this.loading = false }, this) }) }, modifyMinMaxDay: function(e) { QNR.bookdata.minDay = e.display_begin_date;
                QNR.bookdata.maxDay = e.display_end_date;
                QNR.bookdata.insuranceDate = QNR.bookdata.maxDay;
                QNR.module.insurance.setDate(QNR.bookdata.insuranceDate) }, modifyTip: function(e) {
                var t = e,
                    n = this.cache[t] || {};
                var r = "";
                if (n.ac_date.begin != "" || n.ac_date.end != "") { r += n.ac_date.begin + "至" + n.ac_date.end }
                if (n.ac_date.week) { r += r != "" ? "," : "";
                    r += n.ac_date.week }
                if (r != "") { this.ac_date.show().find("[node='s_date']").text(r) } else { this.ac_date.hide() }
                if (QNR.bookdata.reserve_type == 2) {
                    if (n.reserveStartDate || n.reserveEndDate) {
                        var i = DateUtil.parse(QNR.bookdata.today) - 0 < DateUtil.parse(n.reserveStartDate) - 0 ? false : true;
                        if (i) { this.ac_date.show().find("[node='reserve_date']").text("预约结束日期　" + n.reserveEndDate);
                            this.ac_date.find("[placeholder=start]").show() } else { this.ac_date.show().find("[node='reserve_date']").text("预约开始日期　" + n.reserveStartDate);
                            this.ac_date.find("[placeholder=start]").hide() } } }
                if (QNR.bookdata.reserve_type == 1) {
                    if (n.leastAdvancedReserveDay) {
                        var s = n.leastAdvancedReserveDay ? n.leastAdvancedReserveDay : "";
                        var o = n.advancedReserveTime ? n.advancedReserveTime : "";
                        var u = "建议至少在出行前" + s + "天的" + o + "前预订";
                        this.ac_date.show().find("[node='reserve_date']").text(u) } }
                if (n.ac_date.soldout) { this.sold_date.removeClass("hide");
                    this.sold_date.find("[node='out_date']").text(n.ac_date.soldout + "已售完") } else { this.sold_date.addClass("hide") }
                if (typeof QNR.detail.tip != "undefined") { QNR.detail.tip.initSoldOutTip({ $wrapper: this.sold_date.find("[node='out_date']"), maxWrapSize: 60 }) }
                QNR.module.feeDesc && QNR.module.feeDesc.renderFeeDesc({ dataArr: [{ title: "费用说明", desc: n.feeDesc }] }) }, initSelfEvents: function() {
                var e = this;
                QNR.event.listen("qnr-calendar-rendered", function(t) {
                    if (!t) {
                        return }
                    var n = t.totalData,
                        r = t.currentDate,
                        i = n[r];
                    e.dealDesc(i) }) }, dealDesc: function(e) {
                if (this.items) {
                    var t = e && e.prices && e.prices.child_price_desc || "";
                    var n = e && e.feeDesc || "";
                    this.items.adult.attr("title", n);
                    this.items.child.attr("title", t) } } });
        n.exports = f }(t.exports, t, e);
    e.____MODULES["c1dbb09e91b37f6253b305c517f5729c"] = t.exports })(this);
(function(e) {
    var t = { id: "160340e917dd73ab44a2a4ec730b2284", filename: "b-catalog.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = e.____MODULES["f1d8917875779682ebb5082da65fb03e"];
        var s = e.____MODULES["a4827978ba0863689a4c66cd4d469633"];
        var o = QNR.bookdata.is_taocan ? s : i;
        var u = $.extend({}, o, { init: function(e) { this.dom = $(e.parent);
                this.submitBtn = e.submitBtn;
                this.ac_date = this.dom.find('[item="acDateTip"]');
                this.sold_date = this.dom.find('[item="soldOutTip"]');
                this.$roomType = this.dom.find('[item="roomType"]');
                this.initTypePage();
                this.initCalendar();
                this.initCommon() }, initCalendar: function() {
                var e = this;
                var t = this.dom.find('[placeholder="date"],[data-date="yes"]').val(QNR.bookdata.date);
                this.dom.find("[data-date=yes]").val("");
                this.dom.find("[data-date=yes]").html("");
                var n = this.dom.find('[placeholder="start"]');
                var r = this.dom.find('[placeholder="datepicker"]');
                n.bind("click", function(i) { i.preventDefault();
                    QNR.module.calendar.init({ $dateEl: t, $handler: r, handlerFunc: function(t) { e.dealDesc(t);
                            n.eq(0).hide();
                            e.dom.find("[data-isReserve=end]").show() } }) }) }, dealDesc: function(e) {
                if (this.items) {
                    var t = e && e.prices && e.prices.child_price_desc || "";
                    var n = e && e.feeDesc || "";
                    this.items.adult.attr("title", n);
                    this.items.child.attr("title", t) } }, initTypePage: function() {
                var e = this.dom.find('[placeholder="type"]');
                if (e.length) {
                    var t = this;
                    var n = new $.csSelect(e, { cls: "select_package", tpl: QTMPL.csSelect.render() });
                    n.val(QNR.bookdata.choosen);
                    e.on("change", function() { t.changeType($(this).val());
                        QNR.event.trigger("change-type") }).trigger("change") } else { this.changeType($.trim(this.dom.find('[placeholder="tId"]').val())) } }, cache: {}, changeType: function(e) {
                if (!e) {
                    return }
                var t = this,
                    n = e;
                if (QNR.bookdata.isReserve) {
                    var r = this.dom.find('[placeholder="start"]');
                    var i = this.dom.find('[placeholder="datepicker"]');
                    r.eq(0).show();
                    t.dom.find("[data-isReserve=end]").hide();
                    t.dom.find("[name=reserveDate]").val("") }
                this.loading && this.loading.abort();
                if (this.cache[n]) { t.modifyMinMaxDay(this.cache[n]);
                    t.modifyTip(n);
                    t.$roomType.text(this.cache[n].roomType + "人间");
                    this.commonParse(this.cache[n]);
                    QNR.event.trigger("calendarOrTypeChange", [this.cache[n].price.send, this.cache[n].roomType]);
                    return }
                var s = QNR.bookdata.fpid ? "?fpid=" + QNR.bookdata.fpid : "";
                this.loading = $.ajax({ url: "/ticketPrice.do" + s, data: { price_id: n }, dataType: "json", success: $.proxy(function(e) {
                        if (e.ret) {
                            var r = e.data;
                            this.cache[n] = window.Oldversion.fixFreetripCatalog(r);
                            $.extend(QNR.bookdata.price, this.cache[n]);
                            QNR.bookdata.choosen = n;
                            this.tId.val(n);
                            $("#tId").val(n);
                            t.$roomType.text(this.cache[n].roomType + "人间");
                            this.commonParse(this.cache[n]);
                            t.modifyMinMaxDay(this.cache[n]);
                            t.modifyTip(n);
                            QNR.event.trigger("calendarOrTypeChange", [this.cache[n].price.send, this.cache[n].roomType]) } }, this), complete: $.proxy(function() { this.loading = false }, this) }) }, modifyMinMaxDay: function(e) { QNR.bookdata.minDay = e.display_begin_date;
                QNR.bookdata.maxDay = e.display_end_date;
                QNR.bookdata.insuranceDate = QNR.bookdata.maxDay;
                QNR.module.insurance.setDate(QNR.bookdata.insuranceDate) }, modifyTip: function(e) {
                var t = e,
                    n = this.cache[t] || {};
                var r = "";
                if (n.ac_date.begin != "" || n.ac_date.end != "") { r += n.ac_date.begin + "至" + n.ac_date.end }
                if (n.ac_date.week != "") { r += r != "" ? "," : "";
                    r += n.ac_date.week }
                if (r != "") { this.ac_date.show().find("[node='s_date']").text(r) } else { this.ac_date.hide() }
                if (QNR.bookdata.reserve_type == 2) {
                    if (n.reserveStartDate || n.reserveEndDate) {
                        var i = DateUtil.parse(QNR.bookdata.today) - 0 < DateUtil.parse(n.reserveStartDate) - 0 ? false : true;
                        if (i) { this.ac_date.show().find("[node='reserve_date']").text("预约结束日期　" + n.reserveEndDate);
                            this.ac_date.find("[placeholder=start]").show() } else { this.ac_date.show().find("[node='reserve_date']").text("预约开始日期　" + n.reserveStartDate);
                            this.ac_date.find("[placeholder=start]").hide() } } }
                if (QNR.bookdata.reserve_type == 1) {
                    if (n.leastAdvancedReserveDay) {
                        var s = n.leastAdvancedReserveDay ? n.leastAdvancedReserveDay : "";
                        var o = n.advancedReserveTime ? n.advancedReserveTime : "";
                        var u = "建议至少在出行前" + s + "天的" + o + "前预订";
                        this.ac_date.show().find("[node='reserve_date']").text(u) } }
                if (n.ac_date.soldout) { this.sold_date.removeClass("hide");
                    this.sold_date.find("[node='out_date']").text(n.ac_date.soldout + "已售完") } else { this.sold_date.addClass("hide") }
                if (typeof QNR.detail.tip != "undefined") { QNR.detail.tip.initSoldOutTip({ $wrapper: this.sold_date.find("[node='out_date']"), maxWrapSize: 60 }) }
                QNR.module.feeDesc && QNR.module.feeDesc.renderFeeDesc({ dataArr: [{ title: "费用说明", desc: n.feeDesc }] }) } });
        n.exports = u }(t.exports, t, e);
    e.____MODULES["160340e917dd73ab44a2a4ec730b2284"] = t.exports })(this);
(function(e) {
    var t = { id: "35e02fa7071a72ac72a422a2c97880a4", filename: "custom.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        var r = $.extend({}, { activity: {}, init: function(e) { this.args = e;
                this.dom = e.parent;
                this.submitBtn = e.submitBtn;
                this.initParams();
                this.initPage() }, initParams: function() { this.items = { adult: this.dom.find('[item="num"]') };
                this.price = { price: this.dom.find('[placeholder="per-price"]'), reduce: this.dom.find('[item="reduce"]'), original: this.dom.find('[item="original"]'), total: this.dom.find('[item="total"]'), prepayTotal: this.dom.find('[item="prepayTotal"]'), insurance: this.dom.find('[item="insurance"]') } }, initPage: function() { QNR.event.bind("activity-change", $.proxy(function(e, t) { this.activity = t;
                    this.commonUpdate("activity-change") }, this));
                QNR.event.bind("numChange", $.proxy(function(e, t) { this.activity = t;
                    this.commonUpdate("numChange") }, this));
                var e = this,
                    t = this.args;
                t.num = QNR.bookdata.count.num || 1;
                var n = this.dom.find('[placeholder="adultCount"]');
                n.val(t.num);
                this.num = new QNR.SimpleCalculator(n, { zIndex: 3, defaultValue: t.num, minValue: 1, maxValue: QNR.bookdata.left == undefined ? Infinity : QNR.bookdata.left, onChange: function(e, t) { n.val(t);
                        QNR.event.trigger("numChange", { count: ~~t }) } });
                var r = QNR.bookdata.price.price;
                this.price.price.html(r);
                this.commonUpdate() }, commonUpdate: function(e) {
                var t = QNR.bookdata.price.price || 0;
                var n = this.num.getValue() || this.args.num || 1;
                var r = this.activity;
                var i = n * t;
                reducePrice = r.price || 0;
                var s = i - reducePrice;
                QNR.module.priceManager.get("custom", { prices: { price: t }, count: n, activity: this.activity, activityRules: QNR.bookdata.activityRules || {} }, $.proxy(function(e) { QNR.module.sidebar.renderPrice("custom", { amount: n, perPrice: t, reducePrice: e.reduce, totalPrice: e.total });
                    this.price.reduce.text(e.reduce);
                    this.price.original.text(i);
                    this.price.total.text(e.total) }, this)) } });
        t.exports = r }(t.exports, t, e);
    e.____MODULES["35e02fa7071a72ac72a422a2c97880a4"] = t.exports })(this);
(function(e) {
    var t = { id: "dd99bbad42edabecca6b06a4ec6190d3", filename: "booking.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = e.____MODULES["c1dbb09e91b37f6253b305c517f5729c"];
        var s = e.____MODULES["160340e917dd73ab44a2a4ec730b2284"];
        var o = e.____MODULES["35e02fa7071a72ac72a422a2c97880a4"];
        var u = { init: function(e) {
                switch (QNR.bookdata.type) {
                    case "freetrip-catalog":
                        s.init(e);
                        break;
                    case "freetrip-calendar":
                    case "flight":
                        i.init(e);
                        break;
                    case "group":
                        i.init(e);
                        break;
                    case "custom":
                        o.init(e);
                        break } } };
        n.exports = u }(t.exports, t, e);
    e.____MODULES["dd99bbad42edabecca6b06a4ec6190d3"] = t.exports })(this);
(function(e) {
    var t = { id: "27e207bfdc5967ccca50426755a909f6", filename: "DateTimeUtil.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        function r() {}
        r.prototype = { dayMap: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"], addZeroPrefix: function(e) {
                if (typeof e === "string") {
                    if (e.charAt(0) === "0") {
                        return e } else {
                        if (e.length === 2) {
                            return e } else {
                            return "0" + e } } } else if (typeof e === "number") {
                    if (e < 10) {
                        return "0" + e } else {
                        return e } } else {
                    return e } }, invalidDate: "--", _getDateObj: function(e) {
                var t;
                if (!(e instanceof Date)) {
                    if (typeof e === "string") { t = new Date(e);
                        if (isNaN(t)) { e = e.replace(/-/g, "/");
                            var n = e.split("/");
                            if (n.length >= 2) {
                                var r = +n[1];
                                if (isNaN(r)) {
                                    return null } else {
                                    if (r > 0) { n[1] = r - 1 } }
                                if (n.length === 2) { n.push(1) }
                                t = new Date(n[0], n[1], n[2]) } else {
                                return null } } } else if (typeof e === "number") { t = new Date(e) } else {
                        return null } } else { t = e }
                return t }, getDateObj: function(e) {
                var t = this._getDateObj(e);
                if (!t) { t = new Date }
                return t }, getDateString: function(e) {
                var t = this._getDateObj(e);
                if (!t) {
                    return this.invalidDate }
                return [t.getFullYear(), this.addZeroPrefix(t.getMonth() + 1), this.addZeroPrefix(t.getDate())].join("-") }, getDateTimeString: function(e) {
                var t = this._getDateObj(e);
                if (!t) {
                    return this.invalidDate }
                return [t.getFullYear(), "-", this.addZeroPrefix(t.getMonth() + 1), "-", this.addZeroPrefix(t.getDate()), " ", this.addZeroPrefix(t.getHours()), ":", this.addZeroPrefix(t.getMinutes()), ":", this.addZeroPrefix(t.getSeconds())].join("") }, getDateTimeInfo: function(e) {
                var t = this._getDateObj(e);
                if (!t) {
                    return this.invalidDate }
                return { dateString: [t.getFullYear(), this.addZeroPrefix(t.getMonth() + 1), this.addZeroPrefix(t.getDate())].join("-"), timeString: [this.addZeroPrefix(t.getHours()), this.addZeroPrefix(t.getMinutes()), this.addZeroPrefix(t.getSeconds())].join(":") } }, getFirstDayofMonth: function(e) {
                var t = this._getDateObj(e);
                if (!t) {
                    return this.invalidDate }
                var n = t.getFullYear();
                var r = t.getMonth();
                return this.getDateString(new Date(n, r, 1)) }, getLastDayOfMonth: function(e) {
                var t = this._getDateObj(e);
                if (!t) {
                    return this.invalidDate }
                var n = t.getFullYear();
                var r = t.getMonth();
                return this.getDateString(new Date(n, r + 1, 0)) }, getMonthString: function(e) {
                var t = this._getDateObj(e);
                if (t) {
                    return [t.getFullYear(), this.addZeroPrefix(t.getMonth() + 1)].join("-") } else {
                    return this.invalidDate } }, getMonthLocale: function(e) {
                var t = this._getDateObj(e);
                if (t) {
                    return [t.getFullYear(), "年", this.addZeroPrefix(t.getMonth() + 1), "月"].join("") } else {
                    return this.invalidDate } }, getDayString: function(e) {
                var t = this._getDateObj(e);
                var n = t.getDay();
                return this.dayMap[n] } };
        t.exports = new r }(t.exports, t, e);
    e.____MODULES["27e207bfdc5967ccca50426755a909f6"] = t.exports })(this);
(function(e) {
    var t = { id: "7e4f36f5dd723015608ce7d4612ecad1", filename: "calendar.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["fb7fc4d30d41136c3aae939e2346e4b5"];
        var i = e.____MODULES["27e207bfdc5967ccca50426755a909f6"];
        (function() { $.namespace("QNR.module.smallCalendar", function() {
                function e(e) { this.opts = $.extend({ SHOW_OTHER_MONTH: false, DAYS_HEADER: [1, 2, 3, 4, 5, 6, 0], currentDay: DateUtil.today(), minDay: DateUtil.today(), exceptDate: null, maxDay: false, useDatesList: false, datesList: [], maxRange: false, SHOW_OTHER_MONTH_TITLE: false, container: $(document.body), handler: function() {} }, e);
                    if (typeof this.opts.maxRange == "number") { this.opts.maxDay = new Date(this.opts.currentDay.getFullYear(), this.opts.currentDay.getMonth() + this.opts.maxRange, this.opts.currentDay.getDate()) }
                    this.init() }
                e.prototype = { init: function() { this.result = this._getTabel();
                        this._format();
                        this.draw() }, draw: function() {
                        var e = [];
                        e.push(this._drawHeader());
                        e.push(this._drawBody());
                        this.opts.container.html(e.join(""));!this.hasBind && this.bindEvents() }, _drawHeader: function() {
                        var e = this.getMonth(),
                            t = this.opts.currentDay.getFullYear(),
                            n = nextClass = "";
                        if (this.opts.minDay.getTime() >= this.opts.currentDay.getTime()) { n = "cld_p_dis" }
                        if (this.opts.maxDay.getMonth && this.opts.maxDay.getMonth() <= this.opts.currentDay.getMonth() && t >= this.opts.maxDay.getFullYear()) { nextClass = "cld_n_dis" }
                        return QTMPL.inCaHeader.render({ prevClass: n, nextClass: nextClass, year: t, month: e }) }, _drawBody: function() { $.each(this.result, function(e, t) { $.each(t, function(e, t) { t.formatDate = DateUtil.format(t.date);
                                t.dayStr = t.date.getDate();
                                t.itemClass = t.disable ? "disable" : "normal" }) });
                        return QTMPL.inCaBody.render({ data: this.result }) }, bindEvents: function() {
                        var e = this;
                        this.opts.container.on("click", ".next", function(t) {
                            if (this.className.indexOf("cld_n_dis") != -1) {
                                return }
                            e.next();
                            t.stopPropagation() });
                        this.opts.container.on("click", ".prev", function(t) {
                            if (this.className.indexOf("cld_p_dis") != -1) {
                                return }
                            e.prev();
                            t.stopPropagation() });
                        this.opts.container.on("click", "td[date]", function() {
                            if ($(this).children().hasClass("disable")) {
                                return true }
                            e.opts.container.find("td[date]").children().removeClass("active");
                            $(this).children().eq(0).addClass("active");
                            e.opts.handler && e.opts.handler.call(this, this.getAttribute("date")) });
                        this.hasBind = true }, getMonth: function(e) {
                        var t;
                        if (e) { t = e } else { t = this.opts.currentDay }
                        var n = DateUtil.format(t);
                        n = n.substring(5, 7);
                        return parseInt(n, 10) }, prev: function() {
                        var e = this.opts.currentDay;
                        this.opts.currentDay = new Date(e.getFullYear(), e.getMonth() - 1, 1);
                        this.init() }, next: function() {
                        var e = this.opts.currentDay;
                        this.opts.currentDay = new Date(e.getFullYear(), e.getMonth() + 1, 1);
                        this.init() }, _format: function() {
                        var e = this.opts;
                        var t = this,
                            n = this.result,
                            r = e.useDatesList,
                            s = e.datesList;
                        var o = e.currentDay,
                            u = e.minDay,
                            a = e.maxDay,
                            f = e.SHOW_OTHER_MONTH,
                            l = {};
                        if (e.exceptDate) { l = this._format_except_date() }
                        $.each(n, function(e, n) { $.each(n, function(e, n) {
                                var o = n.date;
                                var c = t.getMonth(o);
                                var h = t.getMonth();
                                n.disable = false;
                                if (c !== h) { n.other_month = true }
                                if (r) {
                                    var p = i.getDateString(o);
                                    if (s.indexOf(p) === -1) { n.disable = true } } else {
                                    if (!f && n.other_month || o.getTime() < u.getTime() || l[o.getTime()] || a instanceof Date && o.getTime() > a.getTime()) { n.disable = true } } }) }) }, _format_except_date: function() {
                        var e = {},
                            t;
                        var n = this.opts.exceptDate;
                        if (!(n instanceof Array)) { n = [n] }
                        for (var r = 0, i = n.length; r < i; r++) { t = n[r];
                            if (typeof n[r] === "string") { t = DateUtil.parse(n[r]) }
                            e[t.getTime()] = true }
                        return e }, _getTabel: function() {
                        var e = this.opts;
                        var t = [];
                        var n = new CalendarCore({ currentDay: e.currentDay, DAYS_HEADER: e.DAYS_HEADER });
                        $(n).one("refreshed", function(e, n) { t = n });
                        n.refresh();
                        return t } };
                return { init: function(t) {
                        return new e(t) } } }()) })() }(t.exports, t, e);
    e.____MODULES["7e4f36f5dd723015608ce7d4612ecad1"] = t.exports })(this);
(function(e) {
    var t = { id: "6ab2ea777d848f43b692fabd8dac174f", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["59dbec81350a7d19c31949ea6f11c971"];
        e.____MODULES["7c737be741b21b999e170d4c2c2c32fb"];
        e.____MODULES["7e4f36f5dd723015608ce7d4612ecad1"] }(t.exports, t, e);
    e.____MODULES["6ab2ea777d848f43b692fabd8dac174f"] = t.exports })(this);
(function(e) {
    var t = { id: "d684b52079d87f6ca772b421fed28035", filename: "packedFlight.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["packedFlight"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div class="route_item cf packed-flight js-pack-flight-dates">');
            r.b("\n" + n);
            r.b('    <div class="block-item">');
            r.b("\n" + n);
            r.b('        <i class="flight-ico"></i>');
            r.b("\n" + n);
            r.b("        <strong>");
            r.b("\n" + n);
            r.b('            <span class="blue">机票</span>');
            r.b("\n" + n);
            r.b('            <span class="black">');
            r.b(r.v(r.f("placeRange", e, t, 0)));
            r.b("</span>");
            r.b("\n" + n);
            r.b("        </strong>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b('    <div class="block-item">');
            r.b("\n" + n);
            r.b('        <div class="dategroup">');
            r.b("\n" + n);
            r.b('            <div class="dateshow js-pack-flight-calendar-btn js-btn-go">');
            r.b("\n" + n);
            r.b('                <input type="text" placeholder="去程日期" class="input_date js-pack-flight-go" value="">');
            r.b("\n" + n);
            r.b('                <i class="dateico"></i>');
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b('            <div class="calendar_sm js-calendar-container" style="display:none"></div>');
            r.b("\n" + n);
            r.b("        </div>");
            r.b("\n" + n);
            r.b('        <div class="dategroup">');
            r.b("\n" + n);
            r.b('            <div class="dateshow js-pack-flight-calendar-btn js-btn-back">');
            r.b("\n" + n);
            r.b('                <input type="text" placeholder="回程日期" class="input_date js-pack-flight-back" value="">');
            r.b("\n" + n);
            r.b('                <i class="dateico"></i>');
            r.b("\n" + n);
            r.b("            </div>");
            r.b("\n" + n);
            r.b('            <div class="calendar_sm js-calendar-container" style="display:none"></div>');
            r.b("\n" + n);
            r.b("        </div>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            r.b("\n" + n);
            r.b('<div class="route_item cf packed-flight js-pack-flight-show">');
            r.b("\n" + n);
            if (r.s(r.f("flightInfo", e, t, 1), e, t, 0, 1130, 5880, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                    if (r.s(r.f("go", e, t, 1), e, t, 0, 1142, 3495, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('        <div class="flight-info">');
                            r.b("\n" + n);
                            r.b('            <div class="block-item">');
                            r.b("\n" + n);
                            r.b('                <div class="tag">去程</div>');
                            r.b("\n" + n);
                            r.b("            </div>");
                            r.b("\n" + n);
                            r.b('            <div class="detail-container">');
                            r.b("\n" + n);
                            r.b('                <div class="block-item width-160">');
                            r.b("\n" + n);
                            r.b('                    <div class="highlight-info">');
                            r.b("\n" + n);
                            r.b('                        <i class="airline-ico" style="background-image:url(//simg1.qunarzz.com/site/images/airlines/');
                            r.b(r.v(r.f("airlineCode", e, t, 0)));
                            r.b('.gif)"></i>');
                            r.b("\n" + n);
                            r.b("                        ");
                            r.b(r.v(r.f("airline", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("flightNo", e, t, 0)));
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b('                    <div class="desc-info">');
                            r.b("\n" + n);
                            r.b("                        ");
                            r.b(r.v(r.f("planeType", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("cabin", e, t, 0)));
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b("                </div>");
                            r.b("\n" + n);
                            r.b('                <div class="block-item width-160">');
                            r.b("\n" + n);
                            r.b('                    <div class="detail-info">');
                            r.b("\n" + n);
                            r.b("                        ");
                            r.b(r.v(r.f("depTimeHM", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("depCity", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("depAirport", e, t, 0)));
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b('                    <div class="detail-info">');
                            r.b("\n" + n);
                            r.b("                        ");
                            r.b(r.v(r.f("arrTimeHM", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("arrCity", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("arrAirport", e, t, 0)));
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b("                </div>");
                            r.b("\n" + n);
                            r.b('                <div class="block-item width-115">');
                            r.b("\n" + n);
                            r.b('                    <div class="hover-info">');
                            r.b("\n" + n);
                            r.b('                        <span class="target target-2">');
                            r.b("\n" + n);
                            r.b("                            经停");
                            r.b("\n" + n);
                            if (r.s(r.f("stopComment", e, t, 1), e, t, 0, 2355, 2602, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('                            <span class="desc-info hover-detail">');
                                    r.b("\n" + n);
                                    r.b('                                <i class="ico-up"></i>');
                                    r.b("\n" + n);
                                    r.b("                                <span>");
                                    r.b(r.v(r.f("stopComment", e, t, 0)));
                                    r.b("</span>");
                                    r.b("\n" + n);
                                    r.b("                            </span>");
                                    r.b("\n") });
                                e.pop() }
                            r.b("                        </span>");
                            r.b("\n" + n);
                            r.b('                        <div class="desc-info">');
                            r.b("\n" + n);
                            r.b("                            ");
                            r.b(r.v(r.f("duration", e, t, 0)));
                            r.b("\n" + n);
                            r.b("                        </div>");
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b("                </div>");
                            r.b("\n" + n);
                            r.b('                <div class="block-item width-60">');
                            r.b("\n" + n);
                            r.b('                    <div class="hover-info">');
                            r.b("\n" + n);
                            r.b('                        <span class="target">');
                            r.b("\n" + n);
                            r.b("                            退改签");
                            r.b("\n" + n);
                            r.b('                            <span class="desc-info hover-detail">');
                            r.b("\n" + n);
                            r.b('                                <i class="ico-up"></i>');
                            r.b("\n" + n);
                            if (r.s(r.f("notes", e, t, 1), e, t, 0, 3157, 3328, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("                                    <ul>");
                                    r.b("\n" + n);
                                    r.b("                                        <li>");
                                    r.b(r.v(r.d(".", e, t, 0)));
                                    r.b("</li>");
                                    r.b("\n" + n);
                                    r.b("                                    </ul>");
                                    r.b("\n") });
                                e.pop() }
                            r.b("                            </span>");
                            r.b("\n" + n);
                            r.b("                        </span>");
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b("                </div>");
                            r.b("\n" + n);
                            r.b("            </div>");
                            r.b("\n" + n);
                            r.b("        </div>");
                            r.b("\n") });
                        e.pop() }
                    if (r.s(r.f("back", e, t, 1), e, t, 0, 3516, 5870, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('        <div class="flight-info">');
                            r.b("\n" + n);
                            r.b('            <div class="block-item">');
                            r.b("\n" + n);
                            r.b('                <div class="tag">回程</div>');
                            r.b("\n" + n);
                            r.b("            </div>");
                            r.b("\n" + n);
                            r.b('            <div class="detail-container">');
                            r.b("\n" + n);
                            r.b('                <div class="block-item width-160">');
                            r.b("\n" + n);
                            r.b('                    <div class="highlight-info">');
                            r.b("\n" + n);
                            r.b('                        <i class="airline-ico" style="background-image:url(//simg1.qunarzz.com/site/images/airlines/');
                            r.b(r.v(r.f("airlineCode", e, t, 0)));
                            r.b('.gif)"></i>');
                            r.b("\n" + n);
                            r.b("                        ");
                            r.b(r.v(r.f("airline", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("flightNo", e, t, 0)));
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b('                    <div class="desc-info">');
                            r.b("\n" + n);
                            r.b("                        ");
                            r.b(r.v(r.f("planeType", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("cabin", e, t, 0)));
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b("                </div>");
                            r.b("\n" + n);
                            r.b('                <div class="block-item width-160">');
                            r.b("\n" + n);
                            r.b('                    <div class="detail-info">');
                            r.b("\n" + n);
                            r.b("                        ");
                            r.b(r.v(r.f("depTimeHM", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("depCity", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("depAirport", e, t, 0)));
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b('                    <div class="detail-info">');
                            r.b("\n" + n);
                            r.b("                        ");
                            r.b(r.v(r.f("arrTimeHM", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("arrCity", e, t, 0)));
                            r.b(" ");
                            r.b(r.v(r.f("arrAirport", e, t, 0)));
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b("                </div>");
                            r.b("\n" + n);
                            r.b('                <div class="block-item width-115">');
                            r.b("\n" + n);
                            r.b('                    <div class="hover-info">');
                            r.b("\n" + n);
                            r.b('                        <span class="target target-2">');
                            r.b("\n" + n);
                            r.b("                            经停");
                            r.b("\n" + n);
                            if (r.s(r.f("stopComment", e, t, 1), e, t, 0, 4729, 4976, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('                            <span class="desc-info hover-detail">');
                                    r.b("\n" + n);
                                    r.b('                                <i class="ico-up"></i>');
                                    r.b("\n" + n);
                                    r.b("                                <span>");
                                    r.b(r.v(r.f("stopComment", e, t, 0)));
                                    r.b("</span>");
                                    r.b("\n" + n);
                                    r.b("                            </span>");
                                    r.b("\n") });
                                e.pop() }
                            r.b("                        </span>");
                            r.b("\n" + n);
                            r.b('                        <div class="desc-info">');
                            r.b("\n" + n);
                            r.b("                            ");
                            r.b(r.v(r.f("duration", e, t, 0)));
                            r.b("\n" + n);
                            r.b("                        </div>");
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b("                </div>");
                            r.b("\n" + n);
                            r.b('                <div class="block-item width-60">');
                            r.b("\n" + n);
                            r.b('                    <div class="hover-info">');
                            r.b("\n" + n);
                            r.b('                        <span class="target">');
                            r.b("\n" + n);
                            r.b("                            退改签");
                            r.b("\n" + n);
                            r.b('                            <span class="desc-info hover-detail">');
                            r.b("\n" + n);
                            r.b('                                <i class="ico-up"></i>');
                            r.b("\n" + n);
                            if (r.s(r.f("notes", e, t, 1), e, t, 0, 5531, 5702, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("                                    <ul>");
                                    r.b("\n" + n);
                                    r.b("                                        <li>");
                                    r.b(r.v(r.d(".", e, t, 0)));
                                    r.b("</li>");
                                    r.b("\n" + n);
                                    r.b("                                    </ul>");
                                    r.b("\n") });
                                e.pop() }
                            r.b("                            </span>");
                            r.b("\n" + n);
                            r.b("                        </span>");
                            r.b("\n" + n);
                            r.b("                    </div>");
                            r.b("\n" + n);
                            r.b("\n" + n);
                            r.b("                </div>");
                            r.b("\n" + n);
                            r.b("            </div>");
                            r.b("\n" + n);
                            r.b("        </div>");
                            r.b("\n") });
                        e.pop() } });
                e.pop() }
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["packedFlight"] }(t.exports, t, e);
    e.____MODULES["d684b52079d87f6ca772b421fed28035"] = t.exports })(this);
(function(e) {
    var t = { id: "dff2ada44b70d7659ff3bd0505459c37", filename: "packedFlight.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["6ab2ea777d848f43b692fabd8dac174f"];
        e.____MODULES["d684b52079d87f6ca772b421fed28035"];
        $.namespace("QNR.module.packedFlight", function() {
            function e(e) { this.calendarData = { goDates: [], dataMap: {} };
                this.packedFlight = window.QNR && QNR.bookdata && QNR.bookdata.packedFlight;
                this.init(e) }
            e.prototype = { constructor: e, init: function(e) { this.initElements();
                    this.initData(e);
                    this.initEvents() }, initElements: function() { this.$prevEl = $("#js_p_booking");
                    this.$container = $("#js_p_packed_flight");
                    if (this.$container.length === 0) { this.$container = $('<div id="js_p_packed_flight"/>');
                        this.$prevEl.after(this.$container) } }, initData: function() {
                    var e = this;
                    var t = this.getAdaptedData({ flightInfo: e.packedFlight });
                    this.$container.append(QTMPL.packedFlight.render(t));
                    this.$goDate = this.$container.find(".js-pack-flight-go");
                    this.$backDate = this.$container.find(".js-pack-flight-back");
                    $(function() { e.getFlightParams() }) }, initEvents: function() {
                    var e = this;
                    this.$container.on("click", ".js-pack-flight-calendar-btn", function(t) {
                        var n = e.calendarData,
                            r = [],
                            i = 0,
                            s;
                        t.stopPropagation();
                        var o = $(this);
                        var u = o.next(".js-calendar-container");
                        if (u.is(":visible")) { u.hide();
                            o.removeClass("dateshow_active") } else { e.hideAllCalender();
                            u.show();
                            o.addClass("dateshow_active");
                            i = e.getNeedNum();
                            if (o.hasClass("js-btn-go")) { r = n.goDates.filter(function(e) { s = n.dataMap[e];
                                    return s && s.stock >= i });
                                e.renderCalendar(u, r, function(t) {
                                    var r = n.dataMap[t];
                                    QNR.packedFlightTeamId = r.teamId;
                                    QNR.packedFlightPrice = r.price;
                                    var i = r.backDate;
                                    if (i && i.length > 0) { e.$backDate.val(i[0]) }
                                    QNR.event.trigger("packedFlight-change") }) } else {
                                var a = e.$goDate.val();
                                s = n.dataMap[a];
                                r = s && s.stock >= i ? s.backDate : [];
                                e.renderCalendar(u, r || []) } } });
                    $(document).on("click", function() { e.hideAllCalender() });
                    QNR.event.bind("change-date change-type", function() { e.getFlightParams() }) }, hideAllCalender: function() { $(".js-calendar-container").hide();
                    $(".js-pack-flight-calendar-btn").removeClass("dateshow_active") }, renderCalendar: function(e, t, n) {
                    var r = this;
                    var i = QNR.bookdata.currentDate;
                    if (i) { i = DateUtil.parse(i) } else { i = new Date }
                    var s = QNR.module.smallCalendar.init({ container: e, minDay: i, maxDay: false, useDatesList: true, datesList: t, currentDay: i, showOtherMonth: false, handler: function(t) { e.closest(".dategroup").find(".input_date").val(t);
                            n && typeof n === "function" && n(t) } }) }, getAdaptedData: function(e) {
                    var t = typeof e;
                    var n = {};
                    if (t === "object") { n = e } else if (t === "string") {
                        try { n = JSON.parse(e) } catch (r) {} } else {}
                    if (n.flightInfo) {
                        var i = e.flightInfo;
                        if (i.flightId) {
                            var s = i.go;
                            n.placeRange = [s.depCity, s.arrCity].join("-");
                            this._adapteFlightInfo(s);
                            this._adapteFlightInfo(i.back) } }
                    return n }, _adapteFlightInfo: function(e) {
                    if (e) { e.depTimeHM = this._adapteTime(e.depTime);
                        e.arrTimeHM = this._adapteTime(e.arrTime);
                        var t = e.flightNo.match(/^([a-zA-Z]+)\d+/);
                        if (t && t.length >= 2) { e.airlineCode = t[1] }
                        if (typeof e.notes === "string") { e.notes = [e.notes] } } else {
                        return e } }, _adapteTime: function(e) { e = e + "";
                    return e }, getNeedNum: function() {
                    var e = QNR.bookdata,
                        t = 0;
                    if (e.is_taocan) {
                        var n = e.taocanCnt;
                        t = (n.adultCount + n.childCount) * parseInt($("[name=buy_taocan_count]").val()) } else { t = parseInt($("[name=adultCount]").val()) + parseInt($("[name=childCount]").val()) }
                    return t }, getFlightParams: function() {
                    var e = this;
                    $(function() {
                        var t = { pId: $("#pId").val(), tId: $("#tId").val(), fId: e.packedFlight.flightId };
                        $.ajax({ type: "POST", url: "/user/product/bundle/flight/price.json", data: t, success: function(t) {
                                if (t && t.ret) { e.parseCalendarData(t.data) } }, fail: function() { QNR.hasPackedFlight = false } }) }) }, parseCalendarData: function(e) { e = e || [];
                    var t = [],
                        n = {},
                        r, i;
                    for (var s = 0, o = e.length; s < o; s++) { r = e[s];
                        t.push(r.goDate);
                        n[r.goDate] = r }
                    this.calendarData = { goDates: t, dataMap: n };
                    if (t.length > 0) { this.$goDate.val(t[0]);
                        r = n[t[0]];
                        i = r && r.backDate;
                        if (i && i.length > 0) { this.$backDate.val(i[0]) }
                        QNR.packedFlightTeamId = r.teamId;
                        QNR.packedFlightPrice = r.price;
                        QNR.hasPackedFlight = true;
                        QNR.event.trigger("packedFlight-change") } else { QNR.hasPackedFlight = false } } };
            return { init: function(t) {
                    return new e(t) } } }()) }(t.exports, t, e);
    e.____MODULES["dff2ada44b70d7659ff3bd0505459c37"] = t.exports })(this);
(function(e) {
    var t = { id: "b46ce354b3957ae64219cbad1c716b51", filename: "combineTransportcityItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["combineTransportcityItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<li class="cf" data-node="CT_blk">');
            r.b("\n" + n);
            r.b('	<input id="CT_cityCode" type="hidden" value="');
            r.b(r.v(r.f("departureCode", e, t, 0)));
            r.b('" name="cityCode">');
            r.b("\n" + n);
            r.b('	<input id="CT_cityName" type="hidden" value="');
            r.b(r.v(r.f("departure", e, t, 0)));
            r.b('" name="cityName">');
            r.b("\n" + n);
            r.b('	<input id="CT_tuId" type="hidden" value="');
            r.b(r.v(r.f("tuId", e, t, 0)));
            r.b('" name="tuId">');
            r.b("\n" + n);
            r.b('	<div class="li_hd cf">');
            r.b("\n" + n);
            r.b('		<div class="safe_type">城市联运</div>');
            r.b("\n" + n);
            r.b('		<div class="serve-name"><a href="javascript:void(0)" class="blue" data-op="CT_showDetails"><span data-node="CT_departure">');
            r.b(r.v(r.f("departure", e, t, 0)));
            r.b("<span>-");
            r.b(r.v(r.f("transfer", e, t, 0)));
            r.b("</a></div>");
            r.b("\n" + n);
            r.b('		<div class="serve-date">-</div>');
            r.b("\n" + n);
            r.b('		<div class="serve-addprice">');
            r.b("\n" + n);
            r.b('			<span class="orange claw">');
            r.b("\n" + n);
            r.b('				&yen; <font class="js_a_qunarPrice">');
            r.b(r.v(r.f("price", e, t, 0)));
            r.b("</font>");
            r.b("\n" + n);
            r.b("			</span>");
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            r.b('		<div class="serve-num">');
            r.b("\n" + n);
            r.b('			<select class="js_i_n_sel"></select>');
            r.b(r.v(r.f("unit", e, t, 0)));
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            r.b('		<div class="serve-toa">');
            r.b("\n" + n);
            r.b('			<span class="orange claw">');
            r.b("\n" + n);
            r.b('				&yen; <font class="js_i_t_price"></font>');
            r.b("\n" + n);
            r.b("			</span>");
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            if (r.s(r.f("hasMore", e, t, 1), e, t, 0, 877, 999, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('		<div class="serve-more"><a href="javascript:void(0)" class="blue fr" data-op="CT_ShowToggleCityPop">更换联运城市</a></div>');
                    n.b("\n") });
                e.pop() }
            r.b("	</div>");
            r.b("\n" + n);
            r.b("	");
            r.b("\n" + n);
            r.b('	<div class="b_hidelist common-item" data-node="CT_details">');
            r.b("\n" + n);
            r.b('		<div class="e_hidelist_ct cf"> <i class="close" data-op="CT_closeDetails"></i>');
            r.b("\n" + n);
            r.b('			<div class="common-notice">');
            r.b("\n" + n);
            r.b('				<div class="normal-title">城市联运说明</div>');
            r.b("\n" + n);
            r.b('				<div class="common-txt">');
            r.b("\n" + n);
            r.b('					<table width="100%" border="0" cellpadding="0" cellspacing="0">');
            r.b("\n" + n);
            r.b("						<tbody>");
            r.b("\n" + n);
            r.b("							<tr>");
            r.b("\n" + n);
            r.b('								<th width="9%">区号</th>');
            r.b("\n" + n);
            r.b('								<th width="10%">交通</th>');
            r.b("\n" + n);
            r.b('								<th width="65%">出发城市</th>');
            r.b("\n" + n);
            r.b('								<th width="16%">需加价</th>');
            r.b("\n" + n);
            r.b("							</tr>");
            r.b("\n" + n);
            r.b("							<tr>");
            r.b("\n" + n);
            r.b('								<td align="center">');
            r.b(r.v(r.f("combineGroup", e, t, 0)));
            r.b("</td>");
            r.b("\n" + n);
            r.b('								<td align="center">');
            r.b(r.v(r.f("transportTypeCn", e, t, 0)));
            r.b("</td>");
            r.b("\n" + n);
            r.b('								<td><span class="place-name">');
            r.b("\n" + n);
            r.b("									");
            if (r.s(r.f("cityList", e, t, 1), e, t, 0, 1678, 1696, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("&nbsp;");
                    n.b(n.v(n.f("cityName", e, t, 0))) });
                e.pop() }
            r.b("\n" + n);
            r.b("								</span></td>");
            r.b("\n" + n);
            r.b('								<td align="center"><span class="orange">&yen; ');
            r.b(r.v(r.f("price", e, t, 0)));
            r.b("</span></td>");
            r.b("\n" + n);
            r.b("							</tr>");
            r.b("\n" + n);
            r.b("						</tbody>");
            r.b("\n" + n);
            r.b("					</table>");
            r.b("\n" + n);
            r.b("				</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b('			<div class="common-notice">');
            r.b("\n" + n);
            r.b('				<div class="normal-title">服务须知</div>');
            r.b("\n" + n);
            r.b('				<div class="common-txt">');
            r.b(r.t(r.f("serviceNote", e, t, 0)));
            r.b("</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["combineTransportcityItem"] }(t.exports, t, e);
    e.____MODULES["b46ce354b3957ae64219cbad1c716b51"] = t.exports })(this);
(function(e) {
    var t = { id: "6436a54fd202105e99e0d01e7625688b", filename: "change_combineTransportCity.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["change_combineTransportCity"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div data-node="CT_pop_blk" >');
            r.b("\n" + n);
            r.b('	<div class="popup_tit cf">');
            r.b("\n" + n);
            r.b('    	<span class="popup_name">选择联运城市</span>');
            r.b("\n" + n);
            r.b('        <a class="popup_close" href="javascript:void(0);" data-op="CT_closePop"></a>');
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b('    <div class="popup_con">');
            r.b("\n" + n);
            r.b('        <div class="serve-layer">');
            r.b("\n" + n);
            r.b('            <table width="100%" border="0" cellspacing="0" cellpadding="0">');
            r.b("\n" + n);
            r.b("                <tbody><tr>");
            r.b("\n" + n);
            r.b('                    <th width="9%" align="center">区号</th>');
            r.b("\n" + n);
            r.b('                    <th width="80%" align="left">出发城市</th>');
            r.b("\n" + n);
            r.b('                    <th width="11%" align="right">需加价</th>');
            r.b("\n" + n);
            r.b("                </tr>");
            r.b("\n" + n);
            if (r.s(r.f("list", e, t, 1), e, t, 0, 575, 1024, "{{ }}")) { r.rs(e, t, function(e, t, r) {
                    if (r.s(r.f("combineGroup", e, t, 1), e, t, 0, 597, 1002, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b("                <tr>");
                            r.b("\n" + n);
                            r.b('                    <td align="center">');
                            r.b(r.v(r.f("combineGroup", e, t, 0)));
                            r.b("</td>");
                            r.b("\n" + n);
                            r.b("                    <td>");
                            r.b("\n" + n);
                            if (r.s(r.f("cityList", e, t, 1), e, t, 0, 723, 878, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('					<a href="javascript:void(0)" data-op="CT_toggleCity" data-departure=');
                                    n.b(n.v(n.f("cityName", e, t, 0)));
                                    n.b(' data-code="');
                                    n.b(n.v(n.f("cityCode", e, t, 0)));
                                    n.b('" data-index=');
                                    n.b(n.v(n.f("index", e, t, 0)));
                                    n.b(">");
                                    n.b(n.v(n.f("cityName", e, t, 0)));
                                    n.b("</a>");
                                    n.b("\n") });
                                e.pop() }
                            r.b("					</td>");
                            r.b("\n" + n);
                            r.b('                    <td align="right" class="orange">&yen;');
                            r.b(r.v(r.f("price", e, t, 0)));
                            r.b("</td>");
                            r.b("\n" + n);
                            r.b("                </tr>");
                            r.b("\n") });
                        e.pop() } });
                e.pop() }
            r.b("            </tbody></table>");
            r.b("\n" + n);
            r.b("        </div>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["change_combineTransportCity"] }(t.exports, t, e);
    e.____MODULES["6436a54fd202105e99e0d01e7625688b"] = t.exports })(this);
(function(e) {
    var t = { id: "2dbd69027de33c8eb20e5dc2ebc505a5", filename: "change_combineTransportCity.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["6436a54fd202105e99e0d01e7625688b"];
        var i = { init: function(e, t, n) { this.cache = t;
                $.each(this.cache, function(e, t) { t.index = e });
                this.upper = n;
                this.$handle = e;
                this.$mask = QNR.module.mask;
                this.$popup = $('<div  class="popup" style="display:none; position: absolute; top: 784px; left:50%; margin:0; width:718px; z-index: 1001;"></div>').appendTo($("body"));
                this.$popup.html(QTMPL.change_combineTransportCity.render({ list: this.cache }));
                this.initEvents();
                this.inited = true;
                this.show() }, reload: function(e) { this.cache = e;
                $.each(this.cache, function(e, t) { t.index = e });
                this.$popup.html(QTMPL.change_combineTransportCity.render({ list: this.cache }));
                this.show() }, show: function() {
                var e = this.$popup.width(),
                    t = this.$handle.height(),
                    n = this.$handle.offset().top,
                    r = $(window).width();
                this.$popup.css({ position: "absolute", top: n + t, left: (r - e) / 2, zIndex: "1001" }).show();
                this.$mask.show() }, initEvents: function() {
                var e = this;
                this.$popup.on("click", "[data-op='CT_toggleCity']", function() {
                    var t = $(this);
                    var n = t.data("code");
                    var r = t.data("departure");
                    var i = t.data("index");
                    var s = e.cache[i];
                    s.departureCode = n;
                    s.departure = r;
                    s.transfer = s.transfer;
                    s.serviceNote = e.upper._DATA.serviceNotes;
                    s.tuId = e.upper._DATA.tuId;
                    e.upper.renderCombine(s);
                    e.$popup.hide();
                    e.$mask.hide() });
                this.$popup.on("click", "[data-op=CT_closePop]", function() { e.$popup.hide();
                    e.$mask.hide() }) } };
        n.exports = function(e, t, n) {
            if (!i.inited) { i.init(e, t, n) } else { i.$handle = e;
                i.reload(t) } } }(t.exports, t, e);
    e.____MODULES["2dbd69027de33c8eb20e5dc2ebc505a5"] = t.exports })(this);
(function(e) {
    var t = { id: "dbc17a84d8ee43d3d3d9d55c7a89c463", filename: "combineTransport.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["b46ce354b3957ae64219cbad1c716b51"];
        var i = { combineTransport: "联运城市", getCombineCity: "/order/getAdditionalService.json" };
        var s = e.____MODULES["2dbd69027de33c8eb20e5dc2ebc505a5"];
        var o = { init: function(e, t) { this._DATA = e;
                if (this.inited == true) {
                    if (!t) { this.hasData = false;
                        this.total = 0;
                        this.renderCombine();
                        return }
                    this.hasData = true;
                    this.initHtml(t) } else {
                    if (!t) { this.hasData = false;
                        return }
                    this.hasData = true;
                    if (this._DATA.$node && this._DATA.$node.length) { this.initHtml(t);
                        this.initEvents();
                        this.inited = true } } }, initHtml: function(e) { this.cache = e;
                this.renderCombine() }, findCurrentCT: function() {
                var e = this;
                if (!this.cache || !this.cache.length) {
                    return null }
                var t;
                $.each(e.cache, function(n, r) { $.each(r.cityList, function(r, i) {
                        if (i.cityName == e._DATA.departure) { e.cache[n].departureCode = i.cityCode;
                            e.cache[n].departure = i.cityName;
                            t = e.cache[n];
                            return false } });
                    if (t) {
                        return false } });
                if (!t) { t = e.cache[0];
                    t.tuId = "";
                    t.departure = e._DATA.departure;
                    t.departureCode = "" } else { t.tuId = e._DATA.tuId }
                t.serviceNote = e._DATA.serviceNotes;
                return t }, renderCombine: function(e) {
                var t = this,
                    n = t._DATA.$node;
                if (e) {} else { e = this.findCurrentCT() }
                if (!e) {
                    return }
                e.hasMore = this.cache.length > 1;
                e.unit = t._DATA.isTaocan ? "份" : "人";
                if (t.isLoadString) { n.find('[data-node="CT_blk"]').replaceWith(QTMPL.combineTransportcityItem.render(e)) } else { n.append(QTMPL.combineTransportcityItem.render(e));
                    t.isLoadString = true }
                $item = n.find('[data-node="CT_blk"]');
                $item.data("data", e);
                t.setDefaultTotal();
                t.renderSel();
                var r = t._DATA.$node.find('[data-node="CT_blk"] .js_i_n_sel'),
                    i = r.data("csSelect");
                i.bind("change", $.proxy(function(e) { this.renderPrice();
                    QNR.module.ac.coupon.getList() }, this));
                if (!this.hasData) { i.val(0) } else { i.val(r.find("option:last").val()) }
                t.renderPrice();
                t.renderCity = true;
                $(".js_pre_city").html("[" + e.departure + "出发(" + e.transfer + "中转)]") }, renderPrice: function() {
                var e = [],
                    t = this;
                this._DATA.$node.find('[data-node="CT_blk"] .js_i_n_sel').each(function(n, r) {
                    var i = $(r).val(),
                        s = $(r).closest('[data-node="CT_blk"]'),
                        o = s.data("data"),
                        u = o.price || 0;
                    s.find(".js_i_t_price").text(u * i);
                    if (~~i > 0) { e.push({ type: "联运", price: u, count: ~~i }) }
                    if (~~i === 0) { $("#CT_tuId").val("") } else { $("#CT_tuId").val(t._DATA.tuId) }
                    t._DATA.parent.changePrice("CT", e) }) }, setDefaultTotal: function() {
                var e = !!QNR.bookdata.is_taocan;
                if (e) { this.one = 1;
                    this.total = this.one * ($('[name="buy_taocan_count"]').val() - 0 || QNR.bookdata.count.taocan) } else { this.one = ($('[name="adultCount"]').val() - 0 || QNR.bookdata.count.adult) + ($('[name="childCount"]').val() - 0 || QNR.bookdata.count.child);
                    this.total = this.one }
                if (!this.hasData) { this.total = 0 } }, getTmpl: function() { this.total = window.isNaN(this.total) ? 0 : this.total;
                var e = [];
                e.push('<option value="0">0</option>');
                this.total > 0 && e.push('<option value="', this.total, '">', this.total, "</option>");
                return e.join("") }, renderSel: function() {
                var e = this;
                this._DATA.$node.find('[data-node="CT_blk"] .js_i_n_sel').each(function() {
                    var t = $(this),
                        n = t.data("csSelect");
                    t.empty().append(e.getTmpl());
                    n ? n.update() : t.csSelect({ tpl: $(QTMPL.csSelect.render()).addClass("select_sm").addClass("w50_sel").addClass("select_no") }) }) }, initEvents: function() {
                var e = this;
                QNR.event.bind("numChange", $.proxy(function(e, t) { this.change(t) }, this));
                e._DATA.$node.on("click", '[data-op="CT_ShowToggleCityPop"]', function() { s($(this), e.cache, e) });
                e._DATA.$node.on("click", "[data-op=CT_showDetails]", function(t) {
                    var n = e._DATA.$node.find("[data-node=CT_details]");
                    if (n.css("display") == "none") { n.show("normal") } else { n.hide() } });
                e._DATA.$node.on("click", "[data-op=CT_closeDetails]", function(t) {
                    var n = e._DATA.$node.find("[data-node=CT_details]");
                    n.hide() }) }, change: function(e) {
                if (e.taocanNum) {
                    var t = e.removeChild || this.removeChild,
                        n = e.taocanNum * QNR.bookdata.count.child;
                    t = t > n ? n : t;
                    this.removeChild = t;
                    this.total = e.taocanNum * this.one - (t || 0) } else { this.total = e.adult + e.child }
                if (!!QNR.bookdata.is_taocan) { QNR.event.trigger("booking.updatePrice") }
                if (!this.hasData) { this.total = 0 }
                this.renderSel();
                this.renderPrice() } };
        n.exports = o }(t.exports, t, e);
    e.____MODULES["dbc17a84d8ee43d3d3d9d55c7a89c463"] = t.exports })(this);
(function(e) {
    var t = { id: "1f292460343b682ef7ee748d821b8982", filename: "roomUpgradeItem.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["roomUpgradeItem"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<li class="cf" data-node="RU_blk">');
            r.b("\n" + n);
            r.b('	<input type="hidden" value="');
            r.b(r.v(r.f("enRoomUpgradeId", e, t, 0)));
            r.b('" name="enRoomUpgradeId">');
            r.b("\n" + n);
            r.b('	<input id="RU_count" type="hidden" value="0" name="roomUpgradeCount">');
            r.b("\n" + n);
            r.b('	<div class="li_hd cf">');
            r.b("\n" + n);
            r.b('		<div class="safe_type">房型升级</div>');
            r.b("\n" + n);
            r.b('		<div class="serve-name"><a href="javascript:void(0)" class="blue" data-op="RU_showDetails">');
            r.b(r.v(r.f("topic", e, t, 0)));
            r.b("</a></div>");
            r.b("\n" + n);
            r.b('		<div class="serve-date">-</div>');
            r.b("\n" + n);
            r.b('		<div class="serve-addprice">');
            r.b("\n" + n);
            r.b('			<span class="orange claw">');
            r.b("\n" + n);
            r.b('				&yen; <font class="js_a_qunarPrice">');
            r.b(r.v(r.f("addPrice", e, t, 0)));
            r.b("</font>");
            r.b("\n" + n);
            r.b("			</span>");
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            r.b('		<div class="serve-num">');
            r.b("\n" + n);
            r.b('			<select class="js_i_n_sel"></select>');
            r.b("\n" + n);
            r.b("			");
            if (r.s(r.f("isTaocan", e, t, 1), e, t, 0, 610, 611, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("份") });
                e.pop() }
            if (!r.s(r.f("isTaocan", e, t, 1), e, t, 1, 0, 0, "")) { r.b("间") }
            r.b("\n" + n);
            r.b("			");
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            r.b('		<div class="serve-toa">');
            r.b("\n" + n);
            r.b('			<span class="orange claw">');
            r.b("\n" + n);
            r.b('				&yen; <font class="js_i_t_price"></font>');
            r.b("\n" + n);
            r.b("			</span>");
            r.b("\n" + n);
            r.b('			<div class="cu_route_item" data-node="RU_singleRoomCharge">');
            r.b("\n" + n);
            r.b('			<div class="tips invisible">');
            r.b("\n" + n);
            r.b('						  <p class="j-tipIcon icon js_c_r_34t"></p>');
            r.b("\n" + n);
            r.b('						  <div class="prompt e_text_icon js_c_r_34c">');
            r.b("\n" + n);
            r.b('							<span class="arrow"></span>');
            r.b("\n" + n);
            r.b('							<div class="text">');
            r.b("\n" + n);
            r.b('							  <p>含升级后产生的房差加价&yen;<span  data-node="RU_singleRoomChargeTotal">1</span>元</p>');
            r.b("\n" + n);
            r.b("							</div>");
            r.b("\n" + n);
            r.b("						  </div> ");
            r.b("\n" + n);
            r.b("						</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            if (r.s(r.f("hasMore", e, t, 1), e, t, 0, 1197, 1317, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('		<div class="serve-more"><a href="javascript:void(0)" class="blue fr" data-op="RU_ShowToggleRoomPop">更换房型</a></div>');
                    n.b("\n") });
                e.pop() }
            r.b("	</div>");
            r.b("\n" + n);
            r.b("	");
            r.b("\n" + n);
            r.b('	<div class="b_hidelist common-item" data-node="RU_details">');
            r.b("\n" + n);
            r.b('		<div class="e_hidelist_ct cf"> <i class="close" data-op="RU_closeDetails"></i>');
            r.b("\n" + n);
            r.b('		<div class="serve-tabimg cf">');
            r.b("\n" + n);
            r.b('                                            <div class="hot"><a href="javascript:void(0)"><img data-node="RU_hotImage" src="');
            r.b(r.v(r.f("hotImage", e, t, 0)));
            r.b('"></a><em class="hot-page" data-node="RU_hotImageDesc">');
            r.b(r.v(r.f("hotImageDesc", e, t, 0)));
            r.b("</em></div>");
            r.b("\n" + n);
            r.b('                                            <div class="hotlist">');
            r.b("\n" + n);
            r.b('                                                <ul class="clearfix">');
            r.b("\n" + n);
            if (r.s(r.f("imageDesc", e, t, 1), e, t, 0, 1895, 2145, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('                                                    <li><a href="javascript:void(0);" data-op="RU_changeImage"');
                    if (n.s(n.f("first", e, t, 1), e, t, 0, 2016, 2031, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b(' class="active"') });
                        e.pop() }
                    n.b(' data-image="');
                    n.b(n.v(n.f("image", e, t, 0)));
                    n.b('" data-desc="');
                    n.b(n.v(n.f("desc", e, t, 0)));
                    n.b('"><img src="');
                    n.b(n.v(n.f("image", e, t, 0)));
                    n.b('"><em><i></i></em></a></li>');
                    n.b("\n") });
                e.pop() }
            r.b("                                                </ul>");
            r.b("\n" + n);
            r.b("                                            </div>");
            r.b("\n" + n);
            r.b("                                        </div>");
            r.b("\n" + n);
            r.b("										");
            r.b("\n" + n);
            r.b('			<div class="common-notice">');
            r.b("\n" + n);
            r.b('				<div class="normal-title">升级包含</div>');
            r.b("\n" + n);
            r.b('				<div class="common-txt">');
            r.b("\n" + n);
            if (r.s(r.f("nightDetail", e, t, 1), e, t, 0, 2445, 2504, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("						");
                    if (n.s(n.f("selected", e, t, 1), e, t, 0, 2465, 2485, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b(n.v(n.f("name", e, t, 0)));
                            n.b("&nbsp;&nbsp;") });
                        e.pop() }
                    n.b("\n") });
                e.pop() }
            r.b("				</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b('			<div class="common-notice">');
            r.b("\n" + n);
            r.b('				<div class="normal-title">房型介绍</div>');
            r.b("\n" + n);
            r.b('				<div class="common-txt">');
            r.b(r.v(r.f("description", e, t, 0)));
            r.b("</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b('			<div class="common-notice">');
            r.b("\n" + n);
            r.b('				<div class="normal-title">服务须知</div>');
            r.b("\n" + n);
            r.b('				<div class="common-txt">');
            r.b(r.t(r.f("serviceNote", e, t, 0)));
            r.b("</div>");
            r.b("\n" + n);
            r.b("			</div>");
            r.b("\n" + n);
            r.b("		</div>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</li>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["roomUpgradeItem"] }(t.exports, t, e);
    e.____MODULES["1f292460343b682ef7ee748d821b8982"] = t.exports })(this);
(function(e) {
    var t = { id: "31c3e0da3f68eb628c6202b25ccac634", filename: "change_roomUpgrade.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["change_roomUpgrade"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b('<div data-node="RU_pop_blk" >');
            r.b("\n" + n);
            r.b('	<div class="popup_tit cf">');
            r.b("\n" + n);
            r.b('    	<span class="popup_name">选择房型</span>');
            r.b("\n" + n);
            r.b('        <a class="popup_close" href="javascript:void(0);" data-op="RU_closePop"></a>');
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b('    <div class="popup_con">');
            r.b("\n" + n);
            r.b('		<div class="b_choicelist">');
            r.b("\n" + n);
            r.b('			<ul class="choicelist">');
            r.b("\n" + n);
            r.b('                <li class="box box_hd cf">');
            r.b("\n" + n);
            r.b('                    <div class="d_t">名称</div>');
            r.b("\n" + n);
            r.b('                    <div class="d_pr">加价</div>');
            r.b("\n" + n);
            r.b("                </li>");
            r.b("\n" + n);
            if (r.s(r.f("list", e, t, 1), e, t, 0, 451, 2297, "{{ }}")) { r.rs(e, t, function(e, t, r) { r.b('				<li class="box box_bd" data-node="item" style="display: list-item;">');
                    r.b("\n" + n);
                    r.b('					<div class="li_hd cf">');
                    r.b("\n" + n);
                    r.b('						<div class="d_t">');
                    r.b("\n" + n);
                    r.b('							<p class="t"><a href="javascript:void(0)" class="blue" data-op="RU_showDetails">');
                    r.b(r.v(r.f("topic", e, t, 0)));
                    r.b('<i class="arrow"></i></a></p>');
                    r.b("\n" + n);
                    r.b("						</div>");
                    r.b("\n" + n);
                    r.b('						<div class="d_pr"><span>&yen;');
                    r.b(r.v(r.f("addPrice", e, t, 0)));
                    r.b("</span></div>");
                    r.b("\n" + n);
                    r.b('						<div class="d_btn"><a class="btn_b" href="javascript:void(0);" data-op="RU_toggleRoom" data-index=');
                    r.b(r.v(r.f("index", e, t, 0)));
                    r.b(">选择</a></div>");
                    r.b("\n" + n);
                    r.b("					</div>");
                    r.b("\n" + n);
                    r.b('					<div class="b_hidelist common-item" data-node="RU_details">');
                    r.b("\n" + n);
                    r.b('						<div class="e_hidelist_ct cf"> <i class="close" data-op="RU_closeDetails"></i>');
                    r.b("\n" + n);
                    r.b('						<div class="serve-tabimg cf">');
                    r.b("\n" + n);
                    r.b('															<div class="hot"><a href="javascript:void(0)"><img data-node="RU_hotImage" src="');
                    r.b(r.v(r.f("hotImage", e, t, 0)));
                    r.b('"></a><em class="hot-page" data-node="RU_hotImageDesc">');
                    r.b(r.v(r.f("hotImageDesc", e, t, 0)));
                    r.b("</em></div>");
                    r.b("\n" + n);
                    r.b('															<div class="hotlist">');
                    r.b("\n" + n);
                    r.b('																<ul class="clearfix">');
                    r.b("\n" + n);
                    if (r.s(r.f("imageDesc", e, t, 1), e, t, 0, 1397, 1616, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b('																	<li><a href="javascript:void(0);" data-op="RU_changeImage"');
                            if (n.s(n.f("first", e, t, 1), e, t, 0, 1483, 1498, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b(' class="active"') });
                                e.pop() }
                            n.b(' data-image="');
                            n.b(n.v(n.f("image", e, t, 0)));
                            n.b('" data-desc="');
                            n.b(n.v(n.f("desc", e, t, 0)));
                            n.b('"><img src="');
                            n.b(n.v(n.f("image", e, t, 0)));
                            n.b('"><em><i></i></em></a></li>');
                            n.b("\n") });
                        e.pop() }
                    r.b("																</ul>");
                    r.b("\n" + n);
                    r.b("															</div>");
                    r.b("\n" + n);
                    r.b("														</div>");
                    r.b("\n" + n);
                    r.b("														");
                    r.b("\n" + n);
                    r.b('							<div class="common-notice">');
                    r.b("\n" + n);
                    r.b('								<div class="normal-title">升级包含</div>');
                    r.b("\n" + n);
                    r.b('								<div class="common-txt">');
                    r.b("\n" + n);
                    if (r.s(r.f("nightDetail", e, t, 1), e, t, 0, 1849, 1916, "{{ }}")) { r.rs(e, t, function(e, t, n) { n.b("										");
                            if (n.s(n.f("selected", e, t, 1), e, t, 0, 1873, 1893, "{{ }}")) { n.rs(e, t, function(e, t, n) { n.b(n.v(n.f("name", e, t, 0)));
                                    n.b("&nbsp;&nbsp;") });
                                e.pop() }
                            n.b("\n") });
                        e.pop() }
                    r.b("								</div>");
                    r.b("\n" + n);
                    r.b("							</div>");
                    r.b("\n" + n);
                    r.b('							<div class="common-notice">');
                    r.b("\n" + n);
                    r.b('								<div class="normal-title">房型介绍</div>');
                    r.b("\n" + n);
                    r.b('								<div class="common-txt">');
                    r.b(r.v(r.f("description", e, t, 0)));
                    r.b("</div>");
                    r.b("\n" + n);
                    r.b("							</div>");
                    r.b("\n" + n);
                    r.b('							<div class="common-notice">');
                    r.b("\n" + n);
                    r.b('								<div class="normal-title">服务须知</div>');
                    r.b("\n" + n);
                    r.b('								<div class="common-txt">');
                    r.b(r.v(r.f("serviceNote", e, t, 0)));
                    r.b("</div>");
                    r.b("\n" + n);
                    r.b("							</div>");
                    r.b("\n" + n);
                    r.b("						</div>");
                    r.b("\n" + n);
                    r.b("					</div>");
                    r.b("\n" + n);
                    r.b("				</li>");
                    r.b("\n") });
                e.pop() }
            r.b("		</div>");
            r.b("\n" + n);
            r.b("    </div>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["change_roomUpgrade"] }(t.exports, t, e);
    e.____MODULES["31c3e0da3f68eb628c6202b25ccac634"] = t.exports })(this);
(function(e) {
    var t = { id: "f3078b743853e1182afbd421301cd00e", filename: "change_roomUpgrade.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["31c3e0da3f68eb628c6202b25ccac634"];
        var i = { init: function(e, t, n) { this.cache = t;
                $.each(this.cache, function(e, t) { t.index = e;
                    t.hotImage = t.imageDesc[0].image;
                    t.hotImageDesc = t.imageDesc[0].desc;
                    t.imageDesc[0].first = true });
                this.upper = n;
                this.$handle = e;
                this.$mask = QNR.module.mask;
                this.$popup = $('<div  class="popup" style="display:none; position: absolute; top: 784px; left:50%; margin:0; width:758px; z-index: 1001;"></div>').appendTo($("body"));
                this.$popup.html(QTMPL.change_roomUpgrade.render({ list: this.cache }));
                this.initEvents();
                this.inited = true;
                this.show() }, reload: function(e) { this.cache = e;
                this.$popup.html(QTMPL.change_roomUpgrade.render({ list: this.cache }));
                this.show() }, show: function() {
                var e = this.$popup.width(),
                    t = this.$handle.height(),
                    n = this.$handle.offset().top,
                    r = $(window).width();
                this.$popup.css({ position: "absolute", top: n + t, left: (r - e) / 2, zIndex: "1001" }).show();
                this.$mask.show() }, initEvents: function() {
                var e = this;
                this.$popup.on("click", "[data-op='RU_toggleRoom']", function() {
                    var t = $(this);
                    var n = t.data("index");
                    var r = e.cache[n];
                    e.upper.renderRoom(r);
                    e.$popup.hide();
                    e.$mask.hide() });
                this.$popup.on("click", "[data-op=RU_closePop]", function() { e.$popup.hide();
                    e.$mask.hide() });
                this.$popup.on("click", "[data-op=RU_showDetails]", function(e) {
                    var t = $(this).closest("[data-node=item]").find("[data-node=RU_details]");
                    if (t.css("display") == "none") { t.show("normal") } else { t.hide() } });
                this.$popup.on("click", "[data-op=RU_closeDetails]", function() { $(this).closest("[data-node=item]").find("[data-node=RU_details]").hide() }) } };
        n.exports = function(e, t, n) {
            if (!i.inited) { i.init(e, t, n) } else { i.$handle = e;
                i.reload(t) } } }(t.exports, t, e);
    e.____MODULES["f3078b743853e1182afbd421301cd00e"] = t.exports })(this);
(function(e) {
    var t = { id: "eb5019e6993299b1ab7586f59f3b59f5", filename: "roomUpgrade.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["1f292460343b682ef7ee748d821b8982"];
        var i = e.____MODULES["09329ab0ea28f7bbecc299c46e5bff59"];
        var s = e.____MODULES["f3078b743853e1182afbd421301cd00e"];
        var o = { init: function(e, t) { this._DATA = e;
                if (this.inited == true) {
                    if (!t) { this.hasData = false;
                        this.total = 0;
                        this.renderSel();
                        this.renderPrice();
                        return }
                    this.hasData = true;
                    this.initHtml(t) } else {
                    if (!t) { this.hasData = false;
                        return }
                    this.hasData = true;
                    if (this._DATA.$node && this._DATA.$node.length) { this.initHtml(t);
                        this.initEvents();
                        this.inited = true } } }, initHtml: function(e) { this.cache = e;
                this.cache.serviceNote = this._DATA.serviceNotes;
                this.renderRoom() }, renderRoom: function(e) {
                var t = this,
                    n = t._DATA.$node;
                if (e) {} else { e = this.cache[0] }
                if (!e) {
                    return }
                e.hasMore = this.cache.length > 1;
                e.serviceNote = this._DATA.serviceNotes;
                e.hotImage = e.imageDesc[0].image;
                e.hotImageDesc = e.imageDesc[0].desc;
                e.imageDesc[0].first = true;
                e.isTaocan = this._DATA.isTaocan;
                this.currentCache = e;
                if (t.isLoadString) { n.find('[data-node="RU_blk"]').replaceWith(QTMPL.roomUpgradeItem.render(e)) } else { n.append(QTMPL.roomUpgradeItem.render(e));
                    t.isLoadString = true }
                $item = n.find('[data-node="RU_blk"]');
                $item.data("data", e);
                t.setDefaultTotal();
                t.renderSel();
                var r = t._DATA.$node.find('[data-node="RU_blk"] .js_i_n_sel'),
                    i = r.data("csSelect");
                i.bind("change", $.proxy(function(e) { this.renderPrice();
                    QNR.module.ac.coupon.getList() }, this));
                i.val(r.find("option:first").val());
                t.renderPrice();
                t.renderCity = true }, renderPrice: function() {
                var e = [],
                    t = this;
                this._DATA.$node.find('[data-node="RU_blk"] .js_i_n_sel').each(function(n, r) {
                    var s = $(r).val(),
                        o = $(r).closest('[data-node="RU_blk"]'),
                        u = o.data("data"),
                        a = 0,
                        f = u.addPrice || 0,
                        l = o.find('[data-node="RU_singleRoomCharge"]');
                    $("#RU_count").val(s);
                    if (~~s > 0) { e.push({ type: "房型升级", price: f, count: ~~s });
                        var c = false;
                        if (QNR.bookdata.prdType == "group" && !t._DATA.isTaocan && i.isSelectAgreePinFang() == "disagree") { c = true }
                        if (QNR.bookdata.prdType == "free" && !t._DATA.isTaocan) { c = true }
                        if (c) {
                            var h = t._DATA.roomType,
                                p = s,
                                d = $('[placeholder="adult"]').val(),
                                v = Math.max(h * p - d, 0);
                            a = t.currentCache.roomSentPrice * v;
                            e.push({ type: "房差", price: t.currentCache.roomSentPrice, count: v }) }
                        if (a) { o.find('[data-node="RU_singleRoomChargeTotal"]').html(a);
                            l.show() } else { l.hide() } } else { l.hide() }
                    o.find(".js_i_t_price").text(f * s + a);
                    t._DATA.parent.changePrice("RU", e) }) }, setDefaultTotal: function() {
                var e = !!QNR.bookdata.is_taocan;
                if (e) { this.one = 1;
                    this.total = this.one * ($('[name="buy_taocan_count"]').val() - 0 || QNR.bookdata.count.taocan) } else { this.one = $('[name="roomCount"]').val() - 0 || QNR.bookdata.count.room;
                    this.total = this.one }
                if (this.total > this.currentCache.stock) { this.total = 0 } else { this.total = Math.min(this.total, this.currentCache.stock) }
                if (!this.hasData) { this.total = 0 } }, getTmpl: function() { this.total = window.isNaN(this.total) ? 0 : this.total;
                var e = [];
                e.push('<option value="0">0</option>');
                this.total > 0 && e.push('<option value="', this.total, '">', this.total, "</option>");
                return e.join("") }, renderSel: function() {
                var e = this;
                this._DATA.$node.find('[data-node="RU_blk"] .js_i_n_sel').each(function() {
                    var t = $(this),
                        n = t.data("csSelect");
                    t.empty().append(e.getTmpl());
                    n ? n.update() : t.csSelect({ tpl: $(QTMPL.csSelect.render()).addClass("select_sm").addClass("w50_sel").addClass("select_no") });
                    n && n.val(0) }) }, initEvents: function() {
                var e = this;
                QNR.event.bind("booking.updatePrice", $.proxy(function(e, t) { this.renderPrice() }, this));
                QNR.event.bind("numChange", $.proxy(function(e, t) { this.change(t) }, this));
                e._DATA.$node.on("click", '[data-op="RU_ShowToggleRoomPop"]', function() { s($(this), e.cache, e) });
                e._DATA.$node.on("click", "[data-op=RU_showDetails]", function(t) {
                    var n = e._DATA.$node.find("[data-node=RU_details]");
                    if (n.css("display") == "none") { n.show("normal") } else { n.hide() } });
                e._DATA.$node.on("mouseover mouseout", ".j-tipIcon", function(e) {
                    if (e.type == "mouseover") { $(this).parent().removeClass("invisible") }
                    if (e.type == "mouseout") { $(this).parent().addClass("invisible") } });
                e._DATA.$node.on("click", "[data-op=RU_closeDetails]", function(t) {
                    var n = e._DATA.$node.find("[data-node=RU_details]");
                    n.hide() });
                e._DATA.$node.on("click", "[data-op=RU_changeImage]", function(t) {
                    var n = e._DATA.$node.find("[data-op=RU_changeImage]").removeClass("active");
                    var r = $(this);
                    r.addClass("active");
                    e._DATA.$node.find("[data-node=RU_hotImage]").attr("src", r.data("image"));
                    e._DATA.$node.find("[data-node=RU_hotImageDesc]").html(r.data("desc")) }) }, change: function(e) {
                if (e.taocanNum) {
                    var t = e.removeChild || this.removeChild,
                        n = e.taocanNum * QNR.bookdata.count.child;
                    t = t > n ? n : t;
                    this.removeChild = t;
                    this.total = e.taocanNum * this.one - (t || 0) } else { this.total = e.room }
                if (this.total > this.currentCache.stock) { this.total = 0 } else { this.total = Math.min(this.total, this.currentCache.stock) }
                if (!this.hasData) { this.total = 0 }
                if (!!QNR.bookdata.is_taocan) { QNR.event.trigger("booking.updatePrice") }
                this.renderSel();
                this.renderPrice() } };
        n.exports = o }(t.exports, t, e);
    e.____MODULES["eb5019e6993299b1ab7586f59f3b59f5"] = t.exports })(this);
(function(e) {
    var t = { id: "23c6cee012bad538058b42f0dfef9aac", filename: "valueAddedBlk.mustache", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        if (typeof window.QTMPL === "undefined") window.QTMPL = {};
        window.QTMPL["valueAddedBlk"] = new window.Hogan.Template(function(e, t, n) {
            var r = this;
            r.b(n = n || "");
            r.b("<div>");
            r.b("\n" + n);
            r.b('	<h1 class="title cf">');
            r.b("\n" + n);
            r.b('		<div class="tit_name">增值服务</div>');
            r.b("\n" + n);
            r.b('		<div class="titsafetip"></div>');
            r.b("\n" + n);
            r.b("	</h1>");
            r.b("\n" + n);
            r.b('	<div class="main_safe">');
            r.b("\n" + n);
            r.b('		<ul data-node="value_added_blk">');
            r.b("\n" + n);
            r.b('			<li class="safe_tit cf">');
            r.b("\n" + n);
            r.b('				<div class="safe_type">类型</div>');
            r.b("\n" + n);
            r.b('				<div class="serve-name">名称</div>');
            r.b("\n" + n);
            r.b('				<div class="serve-date">使用日期</div>');
            r.b("\n" + n);
            r.b('				<div class="serve-addprice">需加价</div>');
            r.b("\n" + n);
            r.b('				<div class="serve-num">数量</div>');
            r.b("\n" + n);
            r.b('				<div class="serve-toa">小计</div>');
            r.b("\n" + n);
            r.b("			</li>");
            r.b("\n" + n);
            r.b("		</ul>");
            r.b("\n" + n);
            r.b("	</div>");
            r.b("\n" + n);
            r.b("</div>");
            return r.fl(); });
        if (typeof t !== "undefined") t.exports = window.QTMPL["valueAddedBlk"] }(t.exports, t, e);
    e.____MODULES["23c6cee012bad538058b42f0dfef9aac"] = t.exports })(this);
(function(e) {
    var t = { id: "53319ab77dd30b838eeb86b74d74fb3c", filename: "valueAdded.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = { pId: $("#pId").val(), listUrl: "/user/additional/getAdditionalData.json", cDate: QNR.bookdata.currentDate, tuId: QNR.bookdata.tuId, transfer: QNR.bookdata.transfer, departure: QNR.bookdata.departure, CT_serviceNotes: QNR.bookdata.combineTransport ? QNR.bookdata.combineTransport.serviceNotes : "", RU_serviceNotes: QNR.bookdata.roomUpgrade ? QNR.bookdata.roomUpgrade.serviceNotes : "", isTaocan: !!QNR.bookdata.is_taocan || false, roomType: QNR.bookdata.roomtype };
        var s = { COMBINE_TRANSPORT: e.____MODULES["dbc17a84d8ee43d3d3d9d55c7a89c463"], ROOM_UPGRADE: e.____MODULES["eb5019e6993299b1ab7586f59f3b59f5"], todo: false };
        e.____MODULES["23c6cee012bad538058b42f0dfef9aac"];
        var o = { init: function(e) {
                var t = this;
                if (QNR.bookdata.prdType != "group" && QNR.bookdata.prdType != "free") {
                    return }
                this.$w = e || $("#js_p_valueAdded");
                if (!this.$w.length) {
                    return }
                this.$w.hide();
                this.$w.html(QTMPL.valueAddedBlk.render());
                this.$node = this.$w.find("[data-node=value_added_blk]");
                this.getValueAddedData(this.dateToYM(i.cDate), true);
                QNR.event.listen("qnr-calendar-change-month", function(e) { t.getValueAddedData(t.dateToYM(e.currentDate), false) });
                QNR.event.bind("change-date", function(e, n) { t.reloadChilds(n.dateStr) }) }, dateToYM: function(e) {
                var t = DateUtil.parse(e);
                var n = t.getFullYear();
                var r = t.getMonth() + 1;
                r = r <= 9 ? "0" + r : r;
                return n + "-" + r }, getValueAddedData: function(e, t) {
                var n = this;
                $.ajax({ url: i.listUrl, type: "GET", data: { enProductId: i.pId, ym: e }, cache: false, dataType: "json" }).done(function(e) {
                    if (e.ret && e.data) { n.mergeCache(e.data);
                        t && n.initChilds() } }) }, cache_CT: {}, cache_RU: {}, cache_VISA: {}, mergeCache: function(e) {
                if (e.COMBINE_TRANSPORT) { $.extend(this.cache_CT, e.COMBINE_TRANSPORT) }
                if (e.ROOM_UPGRADE) { $.extend(this.cache_RU, e.ROOM_UPGRADE) } }, changePrice: function(e, t) { this.priceCache[e] = t;
                var n = [];
                if (this.priceCache.CT) { n = n.concat(this.priceCache.CT) }
                if (this.priceCache.RU) { n = n.concat(this.priceCache.RU) }
                QNR.event.trigger("valueAdded-change", { data: n }) }, reloadChilds: function(e) { i.cDate = e;
                this.initChilds() }, priceCache: { CT: null, VISA: null, RU: null }, initChilds: function() {
                if (!$.isEmptyObject(this.cache_CT) && i.tuId) { s.COMBINE_TRANSPORT.init({ parent: this, $node: this.$node, departure: i.departure, tuId: i.tuId, isTaocan: i.isTaocan, serviceNotes: i.CT_serviceNotes }, this.cache_CT[i.cDate]);
                    if (this.cache_CT[i.cDate]) { this.$w.show() } }
                if (!$.isEmptyObject(this.cache_RU) && QNR.bookdata.hasRoom) { s.ROOM_UPGRADE.init({ parent: this, $node: this.$node, serviceNotes: i.RU_serviceNotes, roomType: i.roomType, isTaocan: i.isTaocan }, this.cache_RU[i.cDate]);
                    if (this.cache_RU[i.cDate]) { this.$w.show() } } } };
        n.exports = o }(t.exports, t, e);
    e.____MODULES["53319ab77dd30b838eeb86b74d74fb3c"] = t.exports })(this);
(function(e) {
    var t = { id: "e1152492d9659d05feae013b3038b828", filename: "confirmOrder.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) {
        var i = { isDuoBao: window.isCustomActivitiesPrize === true, isDuoBaoPrd: window.isCustomActivitiesStageProduct === true };
        if (i.isDuoBao) { QNR.bookdata.left = 1 }
        var s = e.____MODULES["ef10d9060cb1881baa4ea3ba31e944f4"];
        var o = e.____MODULES["61a7a37477b42b43ab9bf1ea30ce70f6"];
        var u = e.____MODULES["8440fc9abdf95dfe3c8aa9ba78462b59"];
        var a = e.____MODULES["dd99bbad42edabecca6b06a4ec6190d3"];
        var f = e.____MODULES["720c7020768210e59950fb75248b3369"];
        var l = e.____MODULES["e255b49756b78d382db609857cb01051"].ctripWrapper;
        var c = e.____MODULES["988df799fdd4cab32774b3e9f130cbb5"];
        var h = e.____MODULES["dff2ada44b70d7659ff3bd0505459c37"];
        o.init();
        var p = e.____MODULES["53319ab77dd30b838eeb86b74d74fb3c"];
        var d = { init: function(e) { this.initSwitcher();
                this.initPackedFlight();!i.isDuoBao && this.initSidebar();
                this.initMobileUser(!o.isValid());
                this.initAccounts();
                this.initForm();!i.isDuoBao && this.initValueAdded();!i.isDuoBao && this.initInsurance();
                this.initPassenger();
                this.initInternationl();
                this.initBooking();!i.isDuoBao && !i.isDuoBaoPrd && this.initActivities();
                this.initLogin();
                this.initAccess();
                this.initHash();
                this.initSpecial();
                this.initRefundRegulars();
                this.initPlaceHolder();
                this.initUseDesc();
                this.initPopTop();
                this.loadBeacon();!i.isDuoBao && this.initTieIn();
                this.initCtripWrapper() }, initSwitcher: function() { u.init($("#js_p_booking")) }, initPackedFlight: function() {
                var e = window.QNR && QNR.bookdata && QNR.bookdata.packedFlight;
                if (e && typeof e === "object" && e.flightId) { QNR.module.packedFlight.init({}) } }, initSidebar: function() { QNR.module.sidebar.init($("#js_p_sidebar")) }, initAccounts: function() { QNR.module.accounts.init($("#js_p_accounts")) }, initValueAdded: function() { p.init() }, initInsurance: function() { QNR.bookdata.hasInsurance && QNR.module.insurance.init($("#js_p_insurance")) }, initTieIn: function() {
                if (QNR.bookdata && !QNR.bookdata.isPrepay) { QNR.module.tieIn.init($("#js_p_tie_in")) } }, initMobileUser: function(e) { QNR.module.mobileUser.init($("#js_p_contacter"), e) }, initInternationl: function() { QNR.module.internationl.init() }, initForm: function() { f.init() }, initBooking: function() {
                var e = f.formEl;
                a.init({ parent: e, submitBtn: e.find(".js_s_btn") }) }, initActivities: function() {
                if (QNR.bookdata && !QNR.bookdata.isPrepay) { QNR.module.activities.init($("#js_p_activity")) } }, initRefundRegulars: function() {
                var e = $("#refund_notice");
                if (!e.length) {
                    return }
                s.init(e);
                s.change(QNR.bookdata.refund_regulars ? JSON.parse(QNR.bookdata.refund_regulars) : "") }, initSpecial: function() {
                if (QNR.bookdata.type === "custom") {
                    return }
                QNR.module.venue.init({ $wrapper: $("#js_p_venue"), tId: QNR.bookdata.tId });
                QNR.module.sight.init($("#js_p_sight")) }, initAccess: function() { QNR.module.access.init() }, initPlaceHolder: function() { QNR.module.tools.renderPlaceholder($("[name='userMessage']")) }, initPassenger: function() {
                if (QNR.bookdata.type == "custom" || c.isSinglePrd === true) {
                    return }
                var e = $("#js_p_passenger"),
                    t = QNR.bookdata;
                e.html(QTMPL.pgWrapper.render());
                QNR.module.passenger.init({ $w: e, type: t.prdType, isTaocan: t.is_taocan, adult: t.count.adult, child: t.count.child, other: t.count.other, taocanNum: t.count.taocan, needPassengerName: t.needPassengerName, needPassengerCardId: t.needPassengerCardId, hasInsurance: t.hasInsurance, forgetCode: QNR.forgetCode, taocanContent: { adult: QNR.bookdata.taocanCnt.adultCount, child: QNR.bookdata.taocanCnt.childCount, room: QNR.bookdata.taocanCnt.roomCount }, childrenStandardInfo: QNR.bookdata.childrenStandardInfo, tourType: t.tourType || false, zjType: t.zjType, saveToUC: false });
                QNR.module.internationl.check() }, initHash: function() { QNR.hash.init(f.formEl);
                QNR.dailyServer.render() }, initLogin: function() { QNR.module.login.init() }, initUseDesc: function() { QNR.module.feeDesc.init() }, initPopTop: function() { QNR.module.poptop.init() }, initCtripWrapper: function() {
                if (window.isCTripMode) { l.init() } }, loadBeacon: function() {
                if (typeof _useTuanHeader_ == "undefined") { _useTuanHeader_ = "" }
                if (typeof _productType_ == "undefined") { _productType_ = "" }
                _productType_ = _useTuanHeader_ || _productType_;
                var e = 437;
                switch (_productType_) {
                    case "VISA":
                        e = 908;
                        break;
                    case "TUAN":
                        e = 213;
                        break;
                    default:
                        e = 437;
                        break }
                QNR.beacon(e) } };
        d.init() }(t.exports, t, e);
    e.____MODULES["e1152492d9659d05feae013b3038b828"] = t.exports })(this);
(function(e) {
    var t = { id: "ee50d2761a3c3d48a55ca60c073824b5", filename: "Base64.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {
        (function() {
            var e = { _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", encode: function(t, n) {
                    if (n == "num" && typeof t == "number") {
                        return t }
                    var r = "";
                    var i, s, o, u, a, f, l;
                    var c = 0;
                    t = e._utf8_encode(t);
                    while (c < t.length) { i = t.charCodeAt(c++);
                        s = t.charCodeAt(c++);
                        o = t.charCodeAt(c++);
                        u = i >> 2;
                        a = (i & 3) << 4 | s >> 4;
                        f = (s & 15) << 2 | o >> 6;
                        l = o & 63;
                        if (isNaN(s)) { f = l = 64 } else if (isNaN(o)) { l = 64 }
                        r = r + this._keyStr.charAt(u) + this._keyStr.charAt(a) + this._keyStr.charAt(f) + this._keyStr.charAt(l) }
                    return r }, decode: function(t) {
                    if (t === null || t === undefined) {
                        return "" }
                    var n = "";
                    var r, i, s;
                    var o, u, a, f;
                    var l = 0;
                    t = t.replace(/[^A-Za-z0-9\+\/\=]/g, "");
                    while (l < t.length) { o = this._keyStr.indexOf(t.charAt(l++));
                        u = this._keyStr.indexOf(t.charAt(l++));
                        a = this._keyStr.indexOf(t.charAt(l++));
                        f = this._keyStr.indexOf(t.charAt(l++));
                        r = o << 2 | u >> 4;
                        i = (u & 15) << 4 | a >> 2;
                        s = (a & 3) << 6 | f;
                        n = n + String.fromCharCode(r);
                        if (a != 64) { n = n + String.fromCharCode(i) }
                        if (f != 64) { n = n + String.fromCharCode(s) } }
                    n = e._utf8_decode(n);
                    return n }, _utf8_encode: function(e) { e = e.replace(/\r\n/g, "\n");
                    var t = "";
                    for (var n = 0; n < e.length; n++) {
                        var r = e.charCodeAt(n);
                        if (r < 128) { t += String.fromCharCode(r) } else if (r > 127 && r < 2048) { t += String.fromCharCode(r >> 6 | 192);
                            t += String.fromCharCode(r & 63 | 128) } else { t += String.fromCharCode(r >> 12 | 224);
                            t += String.fromCharCode(r >> 6 & 63 | 128);
                            t += String.fromCharCode(r & 63 | 128) } }
                    return t }, _utf8_decode: function(e) {
                    var t = "";
                    var n = 0;
                    var r = c1 = c2 = 0;
                    while (n < e.length) { r = e.charCodeAt(n);
                        if (r < 128) { t += String.fromCharCode(r);
                            n++ } else if (r > 191 && r < 224) { c2 = e.charCodeAt(n + 1);
                            t += String.fromCharCode((r & 31) << 6 | c2 & 63);
                            n += 2 } else { c2 = e.charCodeAt(n + 1);
                            c3 = e.charCodeAt(n + 2);
                            t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);
                            n += 3 } }
                    return t } };
            window.Base64 = e })(window) }(t.exports, t, e);
    e.____MODULES["ee50d2761a3c3d48a55ca60c073824b5"] = t.exports })(this);
(function(e) {
    var t = { id: "cf31ad03e5b35fd7d2f730506811a4c8", filename: "parameterPaser.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, i) {
        (function() { $.namespace("QNR.Util.parameters", { parseQueryString: function(e, t) {
                    var i = /([^\?|\&]\w+)=([^\?|\&]+)/ig;
                    var s = {};
                    if (t) { s = t }
                    if (e) {
                        if (e.charAt(0) == "?") e = e.substr(1);
                        while (true) {
                            if (n = i.exec(e)) { s[n[1]] = decodeURIComponent(n[2]) } else {
                                break } } }
                    return s }, parseToString: function(e, t) {
                    var n = [];
                    e = e || {}, t = t || "&";
                    for (var r in e) { n.push(r + "=" + e[r]) }
                    return n.join(t) } }) })() }(t.exports, t, e);
    e.____MODULES["cf31ad03e5b35fd7d2f730506811a4c8"] = t.exports })(this);
(function(e) {
    var t = { id: "7157f518028376472b6ffff8fffa87a4", filename: "tongji_djtf.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["ee50d2761a3c3d48a55ca60c073824b5"];
        e.____MODULES["cf31ad03e5b35fd7d2f730506811a4c8"];
        e.____MODULES["70373c5d1da2b46813a293d4f3235e81"];
        e.____MODULES["8b52100506e838d55999d680c1c6c69b"];
        (function(e) {
            if (!JSON || !Base64 || !QNR || !QNR.event || !QNR.Util || !QNR.Util.parameters) {
                return }
            QNR.event.listen("TONGJI_DJTF", function(t) {
                var n = QNR.Util.parameters.parseQueryString(e.location.hash.substring(1));
                if (n.djtf && n.djtf !== "") {
                    var r = n.djtf.split(","),
                        i = r.length;
                    var s = {};
                    var o = "";
                    var u = "";
                    for (var a = 0; a < i; a++) { s[r[a]] = t }
                    o = JSON.stringify(s);
                    o = Base64.encode(o);
                    u = "djtf=" + n.djtf + "&" + "djmodule=" + o + "&" + "v=" + (new Date - 0);
                    (new Image).src = "//dujia.qunar.com/st.html" + "?" + u } }) })(window) }(t.exports, t, e);
    e.____MODULES["7157f518028376472b6ffff8fffa87a4"] = t.exports })(this);
(function(e) {
    var t = { id: "ac03ab2f5f3d4a1a5fc71d73a18c49a4", filename: "sk.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(e, t, n) {!$.namespace("DJSkynet", function() {
            var e = document,
                t = window;
            var n = "//sk.qunar.com/w?";
            var r = false;
            var i = function() {
                var t = /_q=U.([^;]*);/,
                    n = e.cookie.match(t);
                if (n && n.length) {
                    return n[1] } else {
                    return "" } }();
            var s = { bid: "-1", pid: "-1", etype: 2, eptype: 0, ersp: 0, uc_name: i, sdk_type: "www", sdk_ver: "1" };
            var o = function(e) {
                var t = e || window.event,
                    n = document.documentElement.scrollLeft || document.body.scrollLeft,
                    r = document.documentElement.scrollTop || document.body.scrollTop,
                    i = t.pageX || t.clientX + n,
                    s = t.pageY || t.clientY + r;
                return { epos_w: i, epos_h: s } };
            var u = function() {
                var e = document.referrer || "-1",
                    t = e.indexOf("?");
                if (t !== -1) { e = e.substring(0, t) }
                return e };
            var a = function() {
                var e = location.href,
                    t = e.indexOf("#");
                if (t !== -1) { e = e.substring(0, t) }
                return e };
            var f = { refer: u(), uri: a(), res_w: screen.availWidth, res_h: screen.availHeight, http_host: window.location.host.toString(), sdk_ver: s.sdk_ver, sdk_type: s.sdk_type };
            var l = function(e, t) {
                var r = {},
                    i = {},
                    u = {},
                    a = [],
                    l;
                t = t || {};
                $.extend(r, { t: t["sdkType"] || s.sdk_type, v: s.sdk_ver, s: (new Date).getTime() });
                if (t.edata) { i["edata"] = t.edata }
                $.extend(i, { etype: t.etype || 3, ersp: t.ersp || s.ersp, eid: e || "", c_time: (new Date).getTime() });
                if (t.evt) { u = o(t.evt) }
                $.extend(r, { text: JSON.stringify({ header: f, event: $.extend({}, { bid: t.bid || s.bid, pid: t.pid || s.pid, eptype: t.eptype || s.eptype, uc_name: s.uc_name }, i, u) }) });
                for (l in r) { a.push(l + "=" + encodeURIComponent(r[l])) }(new Image).src = n + a.join("&") };
            var c = function(e) { l("", { evt: e, etype: 2 }) };
            var h = function(e) {
                var t = e || {},
                    n = false; "traceClick" in t && (r = t.traceClick); "auto" in t && (n = !!t.auto); "bid" in t && (s.bid = t.bid); "pid" in t && (s.pid = t.pid); "eptype" in t && (s.eptype = t.eptype); "sdkType" in t && (s.sdk_type = t.sdkType);
                if (n) { l("", { etype: "0" }) }
                if (r) {
                    if (document.addEventListener) { document.addEventListener("click", c, false) } else if (document.attachEvent) { document.attachEvent("onclick", c) } } };
            var p = { manual: l, setConfig: h, options: { sk: s, header: f } };
            return p }()) }(t.exports, t, e);
    e.____MODULES["ac03ab2f5f3d4a1a5fc71d73a18c49a4"] = t.exports })(this);
(function(e) {
    var t = { id: "c6c9b10a6736027526865de0847006a3", filename: "tongji_djtf_orders.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["7157f518028376472b6ffff8fffa87a4"];
        (function(e) {
            if (!QNR || !QNR.event) {
                return }
            QNR.event.fire("TONGJI_DJTF", ["booking"]) })();
        e.____MODULES["ac03ab2f5f3d4a1a5fc71d73a18c49a4"];
        (function() { DJSkynet.setConfig({ bid: 0, pid: 11, auto: true }) })() }(t.exports, t, e);
    e.____MODULES["c6c9b10a6736027526865de0847006a3"] = t.exports })(this);
(function(e) {
    var t = { id: "7c1d9a2d7290fefabacbd6544f1c6e9c", filename: "index.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["8b52100506e838d55999d680c1c6c69b"];
        e.____MODULES["66d56eaab730b753fc8ac26cf1123f6f"];
        e.____MODULES["70373c5d1da2b46813a293d4f3235e81"];
        e.____MODULES["6e46b89998c39bde74accceaac1afdba"];
        e.____MODULES["36de79905c83fa786e4d54f077062a6c"];
        e.____MODULES["86d1e3b4840496091920cb12b77f0089"];
        e.____MODULES["8d3525f759e1ef55d91f7aa1e7505198"];
        e.____MODULES["352a0e177913407a4b956f0d860e8d05"];
        e.____MODULES["fe8ff9e9c4c2aa885484241b5fe4813f"];
        e.____MODULES["41a7248588fec9d08b74aea5a76b3eba"];
        e.____MODULES["e10cea9267c239b22c80d1b2b5a0fb83"];
        e.____MODULES["93c0a4ba87409208de0ceb75eb6ca239"];
        e.____MODULES["17ed7398c21c0f9ceddb3d3973da0dd4"];
        e.____MODULES["aef8671e579147e0078483172848e472"];
        e.____MODULES["ce77ddbd38a9d01b7bc90ae3d649aa45"];
        e.____MODULES["25c92b863c154435e92b328ba1138912"];
        e.____MODULES["fb7fc4d30d41136c3aae939e2346e4b5"];
        e.____MODULES["889851c385ba5032e77c3b21d9c47bc0"];
        e.____MODULES["8a2e592011ba8d57e150be099f8bba87"];
        e.____MODULES["82e81e91b9f9f565007c6e7ff6c68759"];
        e.____MODULES["212cf4811c68e143fa24b41eda5d1a91"];
        e.____MODULES["58da89d66af0124b2b9103e66bf647a1"];
        e.____MODULES["6135c0a5ee741a870ab7dabee2ff6f8a"];
        e.____MODULES["4b9971162444f739314060e2bada0bca"];
        e.____MODULES["9bb6175b6dc51664f2ac48cd8819f602"];
        e.____MODULES["a645c4202fa9fc5682816afeb011f269"];
        e.____MODULES["6b285667647fa2a6bfd0ad3297554e82"];
        e.____MODULES["73b29f1171831adf5c56949b9673efce"];
        e.____MODULES["a3b7f32213f44e9483f855b82c04bab8"];
        e.____MODULES["f034af631966d311ef4d1e6b0242dc51"];
        e.____MODULES["07596b0ea19abf5973967f03c8ba5afd"];
        e.____MODULES["3191a79c7fece28caf78169ec4d61a08"];
        e.____MODULES["e4d63b1b482afcdbde58cc8a08f07947"];
        e.____MODULES["bf8d0e94e8ed77ea8653c1720dcc30b7"];
        e.____MODULES["d54d64738fba69fd5ebefa36ea1269ee"];
        e.____MODULES["a34b1bc7e1a3d732a037b00f4a201745"];
        e.____MODULES["ff8d1126327ad3d38b625b917a37a688"];
        e.____MODULES["086e1c2edae0cf3158119542cf0d7d7a"];
        e.____MODULES["1a89bdf380c8b26a2b984a7966a3b6af"];
        e.____MODULES["8088d2d3061b127be4923c0eac912491"];
        e.____MODULES["b141e9885139bc28c987e2e17be113f4"];
        e.____MODULES["fbfd236b7c277061daf8dcffc0b6469a"];
        e.____MODULES["32ec969e0d13c623181bdfc3dd2ab6cb"];
        e.____MODULES["9f05cffec0abfbed6a804bc261d26f70"];
        e.____MODULES["2ab603f04454b9d2d7fc5c706a7f4e5d"];
        e.____MODULES["329e2f7d08974295da4fb62592e3a5b0"];
        e.____MODULES["9258d1c277ea0ccaadf7f4e205edf3c4"];
        e.____MODULES["824cea8454e0b15d5b179b5df8b5e5af"];
        e.____MODULES["e1152492d9659d05feae013b3038b828"];
        e.____MODULES["c6c9b10a6736027526865de0847006a3"] }(t.exports, t, e);
    e.____MODULES["7c1d9a2d7290fefabacbd6544f1c6e9c"] = t.exports })(this);
(function(e) {
    var t = { id: "ab98ac71293dad7d51fae8b176866ef1", filename: "order-alpha.js", exports: {} };
    if (!e.____MODULES) { e.____MODULES = {} }
    var n = function(t, n, r) { e.____MODULES["7c1d9a2d7290fefabacbd6544f1c6e9c"] }(t.exports, t, e);
    e.____MODULES["ab98ac71293dad7d51fae8b176866ef1"] = t.exports })(this)
